<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>jest-stare!</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/diff2html.min.css" rel="stylesheet" type="text/css">
    <link href="css/jest-stare.css" rel="stylesheet" type="text/css">
    <script src="js/jquery.min.js"></script>
    <script src="js/holder.js"></script>
    <script src="js/diff2html.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/view.js"></script>
</head>

<body>
    <header>
        <!-- Fixed navbar -->
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <a class="navbar-brand" id="navbar-title" href="#">jest-stare</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a id="coverage-link" class="nav-link disabled" href="#">Coverage</a>
                    </li>
                    <li class="nav-item">
                        <div class="onoff-switch mr-sm-2 ml-sm-2">
                            <input type="checkbox" name="off-switch" class="off-switch-checkbox" id="lab-passoff-switch" checked>
                            <label class="onoff-switch-label" for="lab-passoff-switch">
                                <span class="pass off-switch-inner"></span>
                                <span class="off-switch-switch"></span>
                            </label>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="onoff-switch mr-sm-2 ml-sm-2">
                            <input type="checkbox" name="off-switch" class="off-switch-checkbox" id="lab-failoff-switch" checked>
                            <label class="onoff-switch-label" for="lab-failoff-switch">
                                <span class="fail off-switch-inner"></span>
                                <span class="off-switch-switch"></span>
                            </label>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="onoff-switch mr-sm-2 ml-sm-2">
                            <input type="checkbox" name="off-switch" class="off-switch-checkbox" id="lab-pendingoff-switch" checked>
                            <label class="onoff-switch-label" for="lab-pendingoff-switch">
                                <span class="pending off-switch-inner"></span>
                                <span class="off-switch-switch"></span>
                            </label>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="onoff-switch mr-sm-2 ml-sm-2">
                            <input type="checkbox" name="off-switch" class="off-switch-checkbox" id="lab-todooff-switch" checked>
                            <label class="onoff-switch-label" for="lab-todooff-switch">
                                <span class="todo off-switch-inner"></span>
                                <span class="off-switch-switch"></span>
                            </label>
                        </div>
                    </li>
                </ul>
                <!-- <form class="form-inline mt-2 mt-md-0">
                    <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" disabled>
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit" disabled>Search</button>
                </form> -->
            </div>
        </nav>
    </header>

    <!-- Begin page content -->
    <main role="main" class="container">

        <h1 class="mt-5"></h1>

        <!-- Three columns of text below the carousel -->
        <div class="row">
            <div class="col-lg-4">
                <canvas id="test-suites-canvas" width="100" height="100"></canvas>
                <h2>Test Suites</h2>
                <div class="list-group">
                    <p id="test-suites-results" class="list-group-item list-group-item-action">5 passed, 6 total</p>
                </div>
            </div>
            <!-- /.col-lg-4 -->
            <div class="col-lg-4">
                <canvas id="tests-canvas" width="100" height="100"></canvas>
                <h2>Tests</h2>
                <div class="list-group">
                    <p id="tests-results" class="list-group-item list-group-item-action">35 passed, 38 total</p>
                </div>
            </div>
            <!-- /.col-lg-4 -->
            <div class="col-lg-4" id="snapshots-group">
                <canvas id="snapshots-canvas" width="100" height="100"></canvas>
                <h2>Snapshots</h2>
                <div class="list-group">
                    <p id="snapshots-results" class="list-group-item list-group-item-action">0 passed, 0 total</p>
                </div>
            </div>
            <!-- /.col-lg-4 -->
        </div>

        <div id="loading-info" class="progress">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0"
                aria-valuemax="100" style="width: 100%"></div>
        </div>

        <div class="d-none" id="test-summary"></div>
        <div class="d-none" id="test-config">{
  &quot;additionalResultsProcessors&quot;: [],
  &quot;resultDir&quot;: &quot;.&#x2F;jest-stare&#x2F;&quot;,
  &quot;resultHtml&quot;: &quot;index.html&quot;,
  &quot;resultJson&quot;: &quot;jest-results.json&quot;
}</div>
        <div id="accordion">
            <div class="d-none" id="test-results">{
  &quot;numFailedTestSuites&quot;: 1,
  &quot;numFailedTests&quot;: 3,
  &quot;numPassedTestSuites&quot;: 5,
  &quot;numPassedTests&quot;: 35,
  &quot;numPendingTestSuites&quot;: 0,
  &quot;numPendingTests&quot;: 0,
  &quot;numRuntimeErrorTestSuites&quot;: 0,
  &quot;numTodoTests&quot;: 0,
  &quot;numTotalTestSuites&quot;: 6,
  &quot;numTotalTests&quot;: 38,
  &quot;openHandles&quot;: [],
  &quot;snapshot&quot;: {
    &quot;added&quot;: 0,
    &quot;didUpdate&quot;: false,
    &quot;failure&quot;: false,
    &quot;filesAdded&quot;: 0,
    &quot;filesRemoved&quot;: 0,
    &quot;filesRemovedList&quot;: [],
    &quot;filesUnmatched&quot;: 0,
    &quot;filesUpdated&quot;: 0,
    &quot;matched&quot;: 0,
    &quot;total&quot;: 0,
    &quot;unchecked&quot;: 0,
    &quot;uncheckedKeysByFile&quot;: [],
    &quot;unmatched&quot;: 0,
    &quot;updated&quot;: 0
  },
  &quot;startTime&quot;: 1610567029529,
  &quot;success&quot;: false,
  &quot;testResults&quot;: [
    {
      &quot;leaks&quot;: false,
      &quot;numFailingTests&quot;: 0,
      &quot;numPassingTests&quot;: 2,
      &quot;numPendingTests&quot;: 0,
      &quot;numTodoTests&quot;: 0,
      &quot;openHandles&quot;: [],
      &quot;perfStats&quot;: {
        &quot;end&quot;: 1610567032995,
        &quot;runtime&quot;: 3387,
        &quot;slow&quot;: false,
        &quot;start&quot;: 1610567029608
      },
      &quot;skipped&quot;: false,
      &quot;snapshot&quot;: {
        &quot;added&quot;: 0,
        &quot;fileDeleted&quot;: false,
        &quot;matched&quot;: 0,
        &quot;unchecked&quot;: 0,
        &quot;unmatched&quot;: 0,
        &quot;updated&quot;: 0,
        &quot;uncheckedKeys&quot;: []
      },
      &quot;testFilePath&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.test.js&quot;,
      &quot;testResults&quot;: [
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;accounts&quot;
          ],
          &quot;duration&quot;: 378,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;accounts should fail to fetch company accounts for another company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to fetch company accounts for another company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;accounts&quot;
          ],
          &quot;duration&quot;: 142,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;accounts should fetch company accounts&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fetch company accounts&quot;
        }
      ],
      &quot;failureMessage&quot;: null,
      &quot;v8Coverage&quot;: [
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\n\nconst compression &#x3D; require(\&quot;compression\&quot;);\n\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\n\nconst cors &#x3D; require(\&quot;cors\&quot;); &#x2F;&#x2F; Swagger stuff\n\n\nrequire(\&quot;rootpath\&quot;)();\n\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\n\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\n\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;\n  });\n});\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\nmodule.exports &#x3D; app;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvbXByZXNzaW9uIiwiaGVsbWV0IiwiY29ycyIsInN3YWdnZXJVaSIsInN3YWdnZXJEb2MiLCJjb25maWciLCJtaWRkbGV3YXJlcyIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJtZXNzYWdlIiwic2VydmUiLCJzZXR1cCIsIm5vdEZvdW5kIiwiZXJyb3JIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxVQUFELENBQVA7O0FBQ0EsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JPLE1BQWxCOztBQUVBLE1BQU1DLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsTUFBTVMsR0FBRyxHQUFHVCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNVSxHQUFHLEdBQUdYLE9BQU8sRUFBbkI7QUFFQVcsR0FBRyxDQUFDQyxHQUFKLENBQVFWLE1BQU0sQ0FBQyxLQUFELENBQWQ7QUFDQVMsR0FBRyxDQUFDQyxHQUFKLENBQVFSLE1BQU0sRUFBZDtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVAsSUFBSSxFQUFaO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRVCxXQUFXLEVBQW5CO0FBQ0FRLEdBQUcsQ0FBQ0MsR0FBSixDQUFRWixPQUFPLENBQUNhLElBQVIsRUFBUjtBQUVBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTO0FBQ0xJLElBQUFBLE9BQU8sRUFBRTtBQURKLEdBQVQ7QUFHSCxDQUpEO0FBTUFOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJGLEdBQW5CO0FBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJOLFNBQVMsQ0FBQ1ksS0FBL0IsRUFBc0NaLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQlosVUFBaEIsQ0FBdEM7QUFFQUksR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1csUUFBcEI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1ksWUFBcEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbi8vIFN3YWdnZXIgc3R1ZmZcbnJlcXVpcmUoXCJyb290cGF0aFwiKSgpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcbmNvbnN0IHN3YWdnZXJEb2MgPSByZXF1aXJlKFwiLi4vZG9jcy9zd2FnZ2VyLmpzb25cIik7XG5cbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IG1pZGRsZXdhcmVzID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXNcIik7XG5jb25zdCBhcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCLwn6aE8J+MiOKcqPCfkYvwn4yO8J+MjfCfjI&#x2F;inKjwn4yI8J+mhFwiLFxuICAgIH0pO1xufSk7XG5cbmFwcC51c2UoXCIvYXBpL3YxXCIsIGFwaSk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2MpKTtcblxuYXBwLnVzZShtaWRkbGV3YXJlcy5ub3RGb3VuZCk7XG5hcHAudXNlKG1pZGRsZXdhcmVzLmVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\nconst compression &#x3D; require(\&quot;compression\&quot;);\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\nconst cors &#x3D; require(\&quot;cors\&quot;);\n\n&#x2F;&#x2F; Swagger stuff\nrequire(\&quot;rootpath\&quot;)();\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\n\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;,\n    });\n});\n\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\n\nmodule.exports &#x3D; app;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;68&#x2F;app_6855482f668a469a3eba3734dab1ce4c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2039&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4132,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4129,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 669,
                    &quot;endOffset&quot;: 739,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;function notFound(req, res, next) {\n  res.status(404);\n  const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n  next(error);\n}\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\n\n\nfunction errorHandler(err, req, res, next) {\n  &#x2F;* eslint-enable no-unused-vars *&#x2F;\n  const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n  res.status(statusCode);\n  if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n  res.json({\n    message: err.message,\n    stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack\n  });\n}\n\nmodule.exports &#x3D; {\n  notFound,\n  errorHandler\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbIm5vdEZvdW5kIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwiRXJyb3IiLCJvcmlnaW5hbFVybCIsImVycm9ySGFuZGxlciIsImVyciIsInN0YXR1c0NvZGUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImpzb24iLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVg7QUFDQSxRQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFXLG9CQUFtQkwsR0FBRyxDQUFDTSxXQUFZLEVBQTlDLENBQWQ7QUFDQUosRUFBQUEsSUFBSSxDQUFDRSxLQUFELENBQUo7QUFDSDtBQUVEOzs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxHQUF0QixFQUEyQlIsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QztBQUNBLFFBQU1PLFVBQVUsR0FBR1IsR0FBRyxDQUFDUSxVQUFKLEtBQW1CLEdBQW5CLEdBQXlCUixHQUFHLENBQUNRLFVBQTdCLEdBQTBDLEdBQTdEO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXTSxVQUFYO0FBQ0EsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNPLE9BQWhCO0FBQzNDZCxFQUFBQSxHQUFHLENBQUNlLElBQUosQ0FBUztBQUNMRCxJQUFBQSxPQUFPLEVBQUVQLEdBQUcsQ0FBQ08sT0FEUjtBQUVMRSxJQUFBQSxLQUFLLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQXdDLElBQXhDLEdBQStDSixHQUFHLENBQUNTO0FBRnJELEdBQVQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwQixFQUFBQSxRQURhO0FBRWJRLEVBQUFBO0FBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3RGb3VuZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihg8J+UjSAtIE5vdCBGb3VuZCAtICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIG5leHQoZXJyb3IpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlICE9PSAyMDAgPyByZXMuc3RhdHVzQ29kZSA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gXCLwn6WeXCIgOiBlcnIuc3RhY2ssXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5vdEZvdW5kLFxuICAgIGVycm9ySGFuZGxlcixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;function notFound(req, res, next) {\n    res.status(404);\n    const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n    next(error);\n}\n\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\nfunction errorHandler(err, req, res, next) {\n    &#x2F;* eslint-enable no-unused-vars *&#x2F;\n    const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n    res.status(statusCode);\n    if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n    res.json({\n        message: err.message,\n        stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack,\n    });\n}\n\nmodule.exports &#x3D; {\n    notFound,\n    errorHandler,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0d&#x2F;middlewares_0d2bc57a77c05a727da8aec38de48282.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2172&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3010,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3007,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;notFound&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 89,
                    &quot;endOffset&quot;: 226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;errorHandler&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 265,
                    &quot;endOffset&quot;: 626,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;API - üëãüåéüåçüåè\&quot;\n  });\n});\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsT0FBTyxFQUFFO0FBREosR0FBVDtBQUdILENBSkQ7QUFNQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QlIsT0FBTyxDQUFDLG9CQUFELENBQS9CO0FBQ0FDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJSLE9BQU8sQ0FBQywwQkFBRCxDQUE5QjtBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiQVBJIC0g8J+Ri&#x2F;CfjI7wn4yN8J+Mj1wiLFxuICAgIH0pO1xufSk7XG5cbnJvdXRlci51c2UoXCIvYWNjb3VudHNcIiwgcmVxdWlyZShcIi4vYXV0aC9hdXRoLnJvdXRlc1wiKSk7XG5yb3V0ZXIudXNlKFwiL2NvbXBhbnlcIiwgcmVxdWlyZShcIi4vY29tcGFueS9jb21wYW55LnJvdXRlc1wiKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;API - üëãüåéüåçüåè\&quot;,\n    });\n});\n\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;46&#x2F;index_46150bc44a91011b69db233a13fb0837.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2173&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1664,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 175,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nconst {\n  signinSchema,\n  signupSchema,\n  updateSchema,\n  verifyEmailSchema\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\n\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n  const {\n    email,\n    password\n  } &#x3D; req.body;\n  authService.login({\n    email,\n    password\n  }).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    res.json({\n      user,\n      token\n    });\n  }).catch(next);\n}\n\nfunction register(req, res, next) {\n  req.body.role &#x3D; Role.owner;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n  req.body.role &#x3D; Role.customer;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n  authService.verifyEmail(req.body).then(() &#x3D;&gt; res.json({\n    message: \&quot;Verification successfull\&quot;\n  })).catch(next);\n}\n\nfunction getAll(req, res, next) {\n  authService.getAll().then(accounts &#x3D;&gt; res.json(accounts)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  &#x2F;&#x2F; users can get their own account and admin can get any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.getById(req.params.id).then(account &#x3D;&gt; account ? res.json(account) : res.sendStatus(404)).catch(next);\n}\n\nfunction create(req, res, next) {\n  authService.create(req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; users can update their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.update(req.params.id, req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction _delete(req, res, next) {\n  &#x2F;&#x2F; users can delete their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.delete(req.param.id).then(() &#x3D;&gt; res.json({\n    message: \&quot;Account deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwic2lnbmluU2NoZW1hIiwic2lnbnVwU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoU2VydmljZSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsInBvc3QiLCJsb2dpbiIsInJlZ2lzdGVyQ3VzdG9tZXIiLCJyZWdpc3RlciIsInZlcmlmeUVtYWlsIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGwiLCJnZXRCeUlkIiwib3duZXIiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwidG9rZW4iLCJqc29uIiwiY2F0Y2giLCJyb2xlIiwibWVzc2FnZSIsImN1c3RvbWVyIiwiYWNjb3VudHMiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImFjY291bnQiLCJzZW5kU3RhdHVzIiwicGFyYW0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLFlBREU7QUFFRkMsRUFBQUEsWUFGRTtBQUdGQyxFQUFBQSxZQUhFO0FBSUZDLEVBQUFBO0FBSkUsSUFLRk4sT0FBTyxDQUFDLG1CQUFELENBTFg7O0FBTUEsTUFBTU8sV0FBVyxHQUFHUCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTTtBQUFFUSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJULE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFFQUMsTUFBTSxDQUFDVSxJQUFQLENBQVksUUFBWixFQUFzQlIsWUFBdEIsRUFBb0NTLEtBQXBDO0FBQ0FYLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLG9CQUFaLEVBQWtDUCxZQUFsQyxFQUFnRFMsZ0JBQWhEO0FBQ0FaLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLGlCQUFaLEVBQStCUCxZQUEvQixFQUE2Q1UsUUFBN0M7QUFDQWIsTUFBTSxDQUFDVSxJQUFQLENBQVksZUFBWixFQUE2QkwsaUJBQTdCLEVBQWdEUyxXQUFoRDtBQUNBZCxNQUFNLENBQUNlLEdBQVAsQ0FBVyxHQUFYLEVBQWdCUCxJQUFJLENBQUNDLElBQUksQ0FBQ08sS0FBTixDQUFwQixFQUFrQ0MsTUFBbEM7QUFDQWpCLE1BQU0sQ0FBQ2UsR0FBUCxDQUFXLE1BQVgsRUFBbUJQLElBQUksRUFBdkIsRUFBMkJVLE9BQTNCO0FBQ0FsQixNQUFNLENBQUNVLElBQVAsQ0FBWSxlQUFaLEVBQTZCRixJQUFJLENBQUNDLElBQUksQ0FBQ1UsS0FBTixDQUFqQyxFQUErQ2hCLFlBQS9DLEVBQTZEaUIsTUFBN0Q7QUFDQXBCLE1BQU0sQ0FBQ3FCLEdBQVAsQ0FBVyxNQUFYLEVBQW1CYixJQUFJLEVBQXZCLEVBQTJCSixZQUEzQixFQUF5Q2tCLE1BQXpDO0FBQ0F0QixNQUFNLENBQUN1QixNQUFQLENBQWMsTUFBZCxFQUFzQmYsSUFBSSxFQUExQixFQUE4QmdCLE9BQTlCO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjFCLE1BQWpCOztBQUVBLFNBQVNXLEtBQVQsQ0FBZWdCLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixFQUErQjtBQUMzQixRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFzQkosR0FBRyxDQUFDSyxJQUFoQztBQUNBMUIsRUFBQUEsV0FBVyxDQUNOSyxLQURMLENBQ1c7QUFBRW1CLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxHQURYLEVBRUtFLElBRkwsQ0FFVSxDQUFDO0FBQUVDLElBQUFBLElBQUY7QUFBUUMsSUFBQUE7QUFBUixHQUFELEtBQXFCO0FBQ3ZCUCxJQUFBQSxHQUFHLENBQUNRLElBQUosQ0FBUztBQUFFRixNQUFBQSxJQUFGO0FBQVFDLE1BQUFBO0FBQVIsS0FBVDtBQUNILEdBSkwsRUFLS0UsS0FMTCxDQUtXUixJQUxYO0FBTUg7O0FBRUQsU0FBU2hCLFFBQVQsQ0FBa0JjLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJGLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTTSxJQUFULEdBQWdCN0IsSUFBSSxDQUFDVSxLQUFyQjtBQUNBYixFQUFBQSxXQUFXLENBQ05PLFFBREwsQ0FDY2MsR0FBRyxDQUFDSyxJQURsQixFQUN3QkwsR0FBRyxDQUFDWixHQUFKLENBQVEsUUFBUixDQUR4QixFQUVLa0IsSUFGTCxDQUVVLENBQUM7QUFBRUMsSUFBQUEsSUFBRjtBQUFRQyxJQUFBQTtBQUFSLEdBQUQsS0FBcUI7QUFDdkIsV0FBT1AsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFDWkYsTUFBQUEsSUFEWTtBQUVaQyxNQUFBQSxLQUZZO0FBR1pJLE1BQUFBLE9BQU8sRUFDSDtBQUpRLEtBQVQsQ0FBUDtBQU1ILEdBVEwsRUFVS0YsS0FWTCxDQVVXUixJQVZYO0FBV0g7O0FBRUQsU0FBU2pCLGdCQUFULENBQTBCZSxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDRixFQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBU00sSUFBVCxHQUFnQjdCLElBQUksQ0FBQytCLFFBQXJCO0FBQ0FsQyxFQUFBQSxXQUFXLENBQ05PLFFBREwsQ0FDY2MsR0FBRyxDQUFDSyxJQURsQixFQUN3QkwsR0FBRyxDQUFDWixHQUFKLENBQVEsUUFBUixDQUR4QixFQUVLa0IsSUFGTCxDQUVVLENBQUM7QUFBRUMsSUFBQUEsSUFBRjtBQUFRQyxJQUFBQTtBQUFSLEdBQUQsS0FBcUI7QUFDdkIsV0FBT1AsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFDWkYsTUFBQUEsSUFEWTtBQUVaQyxNQUFBQSxLQUZZO0FBR1pJLE1BQUFBLE9BQU8sRUFDSDtBQUpRLEtBQVQsQ0FBUDtBQU1ILEdBVEwsRUFVS0YsS0FWTCxDQVVXUixJQVZYO0FBV0g7O0FBRUQsU0FBU2YsV0FBVCxDQUFxQmEsR0FBckIsRUFBMEJDLEdBQTFCLEVBQStCQyxJQUEvQixFQUFxQztBQUNqQ3ZCLEVBQUFBLFdBQVcsQ0FDTlEsV0FETCxDQUNpQmEsR0FBRyxDQUFDSyxJQURyQixFQUVLQyxJQUZMLENBRVUsTUFBTUwsR0FBRyxDQUFDUSxJQUFKLENBQVM7QUFBRUcsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBVCxDQUZoQixFQUdLRixLQUhMLENBR1dSLElBSFg7QUFJSDs7QUFFRCxTQUFTWixNQUFULENBQWdCVSxHQUFoQixFQUFxQkMsR0FBckIsRUFBMEJDLElBQTFCLEVBQWdDO0FBQzVCdkIsRUFBQUEsV0FBVyxDQUNOVyxNQURMLEdBRUtnQixJQUZMLENBRVdRLFFBQUQsSUFBY2IsR0FBRyxDQUFDUSxJQUFKLENBQVNLLFFBQVQsQ0FGeEIsRUFHS0osS0FITCxDQUdXUixJQUhYO0FBSUg7O0FBRUQsU0FBU1gsT0FBVCxDQUFpQlMsR0FBakIsRUFBc0JDLEdBQXRCLEVBQTJCQyxJQUEzQixFQUFpQztBQUM3QjtBQUNBLE1BQUlhLE1BQU0sQ0FBQ2YsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQyxFQUFaLENBQU4sS0FBMEJqQixHQUFHLENBQUNPLElBQUosQ0FBU1UsRUFBbkMsSUFBeUNqQixHQUFHLENBQUNPLElBQUosQ0FBU0ksSUFBVCxLQUFrQjdCLElBQUksQ0FBQ08sS0FBcEUsRUFBMkU7QUFDdkUsV0FBT1ksR0FBRyxDQUFDaUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUVHLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDSDs7QUFFRGpDLEVBQUFBLFdBQVcsQ0FDTlksT0FETCxDQUNhUyxHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBRHhCLEVBRUtYLElBRkwsQ0FFV2EsT0FBRCxJQUFjQSxPQUFPLEdBQUdsQixHQUFHLENBQUNRLElBQUosQ0FBU1UsT0FBVCxDQUFILEdBQXVCbEIsR0FBRyxDQUFDbUIsVUFBSixDQUFlLEdBQWYsQ0FGdEQsRUFHS1YsS0FITCxDQUdXUixJQUhYO0FBSUg7O0FBRUQsU0FBU1QsTUFBVCxDQUFnQk8sR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QnZCLEVBQUFBLFdBQVcsQ0FDTmMsTUFETCxDQUNZTyxHQUFHLENBQUNLLElBRGhCLEVBRUtDLElBRkwsQ0FFV2EsT0FBRCxJQUFhbEIsR0FBRyxDQUFDUSxJQUFKLENBQVNVLE9BQVQsQ0FGdkIsRUFHS1QsS0FITCxDQUdXUixJQUhYO0FBSUg7O0FBRUQsU0FBU1AsTUFBVCxDQUFnQkssR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QjtBQUNBLE1BQUlhLE1BQU0sQ0FBQ2YsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQyxFQUFaLENBQU4sS0FBMEJqQixHQUFHLENBQUNPLElBQUosQ0FBU1UsRUFBbkMsSUFBeUNqQixHQUFHLENBQUNPLElBQUosQ0FBU0ksSUFBVCxLQUFrQjdCLElBQUksQ0FBQ08sS0FBcEUsRUFBMkU7QUFDdkUsV0FBT1ksR0FBRyxDQUFDaUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUVHLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDSDs7QUFFRGpDLEVBQUFBLFdBQVcsQ0FDTmdCLE1BREwsQ0FDWUssR0FBRyxDQUFDZ0IsTUFBSixDQUFXQyxFQUR2QixFQUMyQmpCLEdBQUcsQ0FBQ0ssSUFEL0IsRUFFS0MsSUFGTCxDQUVXYSxPQUFELElBQWFsQixHQUFHLENBQUNRLElBQUosQ0FBU1UsT0FBVCxDQUZ2QixFQUdLVCxLQUhMLENBR1dSLElBSFg7QUFJSDs7QUFFRCxTQUFTTCxPQUFULENBQWlCRyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCO0FBQ0EsTUFBSWEsTUFBTSxDQUFDZixHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBQVosQ0FBTixLQUEwQmpCLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxFQUFuQyxJQUF5Q2pCLEdBQUcsQ0FBQ08sSUFBSixDQUFTSSxJQUFULEtBQWtCN0IsSUFBSSxDQUFDTyxLQUFwRSxFQUEyRTtBQUN2RSxXQUFPWSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNIOztBQUVEakMsRUFBQUEsV0FBVyxDQUNOaUIsTUFETCxDQUNZSSxHQUFHLENBQUNxQixLQUFKLENBQVVKLEVBRHRCLEVBRUtYLElBRkwsQ0FFVSxNQUNGTCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUNMRyxJQUFBQSxPQUFPLEVBQUUsOEJBREo7QUFFTEssSUFBQUEsRUFBRSxFQUFFakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQztBQUZWLEdBQVQsQ0FIUixFQVFLUCxLQVJMLENBUVdSLElBUlg7QUFTSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB7XG4gICAgc2lnbmluU2NoZW1hLFxuICAgIHNpZ251cFNjaGVtYSxcbiAgICB1cGRhdGVTY2hlbWEsXG4gICAgdmVyaWZ5RW1haWxTY2hlbWEsXG59ID0gcmVxdWlyZShcIi4vYXV0aC52YWxpZGF0b3JzXCIpO1xuY29uc3QgYXV0aFNlcnZpY2UgPSByZXF1aXJlKFwiLi9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCB7IGF1dGg6IEF1dGggfSA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcm9sZVwiKTtcblxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgc2lnbmluU2NoZW1hLCBsb2dpbik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci1jdXN0b21lclwiLCBzaWdudXBTY2hlbWEsIHJlZ2lzdGVyQ3VzdG9tZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItb3duZXJcIiwgc2lnbnVwU2NoZW1hLCByZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi92ZXJpZnktZW1haWxcIiwgdmVyaWZ5RW1haWxTY2hlbWEsIHZlcmlmeUVtYWlsKTtcbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoUm9sZS5hZG1pbiksIGdldEFsbCk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBBdXRoKCksIGdldEJ5SWQpO1xucm91dGVyLnBvc3QoXCIvY3JlYXRlLXN0YWZmXCIsIEF1dGgoUm9sZS5vd25lciksIHNpZ251cFNjaGVtYSwgY3JlYXRlKTtcbnJvdXRlci5wdXQoXCIvOmlkXCIsIEF1dGgoKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aCgpLCBfZGVsZXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5sb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IHVzZXIsIHRva2VuIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUub3duZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUuY3VzdG9tZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlFbWFpbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC52ZXJpZnlFbWFpbChyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsbFwiIH0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAudGhlbigoYWNjb3VudHMpID0+IHJlcy5qc29uKGFjY291bnRzKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gdXNlcnMgY2FuIGdldCB0aGVpciBvd24gYWNjb3VudCBhbmQgYWRtaW4gY2FuIGdldCBhbnkgYWNjb3VudFxuICAgIGlmIChOdW1iZXIocmVxLnBhcmFtcy5pZCkgIT09IHJlcS51c2VyLmlkICYmIHJlcS51c2VyLnJvbGUgIT09IFJvbGUuYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF0aG9yaXplZFwiIH0pO1xuICAgIH1cblxuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChhY2NvdW50KSA9PiAoYWNjb3VudCA&#x2F;IHJlcy5qc29uKGFjY291bnQpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGFjY291bnQpID0+IHJlcy5qc29uKGFjY291bnQpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiB1cGRhdGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbigoYWNjb3VudCkgPT4gcmVzLmpzb24oYWNjb3VudCkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gX2RlbGV0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAuZGVsZXRlKHJlcS5wYXJhbS5pZClcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst router &#x3D; express.Router();\nconst {\n    signinSchema,\n    signupSchema,\n    updateSchema,\n    verifyEmailSchema,\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\n\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n    const { email, password } &#x3D; req.body;\n    authService\n        .login({ email, password })\n        .then(({ user, token }) &#x3D;&gt; {\n            res.json({ user, token });\n        })\n        .catch(next);\n}\n\nfunction register(req, res, next) {\n    req.body.role &#x3D; Role.owner;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n    req.body.role &#x3D; Role.customer;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n    authService\n        .verifyEmail(req.body)\n        .then(() &#x3D;&gt; res.json({ message: \&quot;Verification successfull\&quot; }))\n        .catch(next);\n}\n\nfunction getAll(req, res, next) {\n    authService\n        .getAll()\n        .then((accounts) &#x3D;&gt; res.json(accounts))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    &#x2F;&#x2F; users can get their own account and admin can get any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .getById(req.params.id)\n        .then((account) &#x3D;&gt; (account ? res.json(account) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction create(req, res, next) {\n    authService\n        .create(req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; users can update their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .update(req.params.id, req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction _delete(req, res, next) {\n    &#x2F;&#x2F; users can delete their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .delete(req.param.id)\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Account deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;75&#x2F;authroutes_75bf7888c8e4ac0a10e44194cc103f96.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2174&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 15260,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 15257,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 919,
                    &quot;endOffset&quot;: 1157,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1058,
                    &quot;endOffset&quot;: 1141,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1159,
                    &quot;endOffset&quot;: 1486,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;registerCustomer&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1488,
                    &quot;endOffset&quot;: 1826,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1828,
                    &quot;endOffset&quot;: 1985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1987,
                    &quot;endOffset&quot;: 2095,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2097,
                    &quot;endOffset&quot;: 2472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2474,
                    &quot;endOffset&quot;: 2588,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2590,
                    &quot;endOffset&quot;: 2944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2946,
                    &quot;endOffset&quot;: 3350,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    firstName: Joi.string().required(),\n    lastName: Joi.string().required(),\n    phoneNumber: Joi.string().min(10).max(15).required(),\n    role: Joi.string().min(5).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required(),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    firstName: Joi.string().empty(\&quot;\&quot;),\n    lastName: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    role: Joi.string().min(5).empty(\&quot;\&quot;),\n    phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n    password: Joi.string().min(8).empty(\&quot;\&quot;),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;)\n  }; &#x2F;&#x2F;  TODO figure out how admin can update role\n\n  const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n  validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    token: Joi.string().required()\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsInNpZ251cFNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwicGhvbmVOdW1iZXIiLCJtaW4iLCJtYXgiLCJyb2xlIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInZhbGlkIiwicmVmIiwic2lnbmluU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSIsIndpdGgiLCJ2ZXJpZnlFbWFpbFNjaGVtYSIsInRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUVBRSxPQUFPLENBQUNDLFlBQVIsR0FBdUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTUMsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBVztBQUN0QkMsSUFBQUEsU0FBUyxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYUMsUUFBYixFQURXO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRlk7QUFHdEJFLElBQUFBLFdBQVcsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFJLEdBQWIsQ0FBaUIsRUFBakIsRUFBcUJDLEdBQXJCLENBQXlCLEVBQXpCLEVBQTZCSixRQUE3QixFQUhTO0FBSXRCSyxJQUFBQSxJQUFJLEVBQUVqQixHQUFHLENBQUNXLE1BQUosR0FBYUksR0FBYixDQUFpQixDQUFqQixFQUFvQkgsUUFBcEIsRUFKZ0I7QUFLdEJNLElBQUFBLEtBQUssRUFB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RUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FMRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5zaWdudXBTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5yZXF1aXJlZCgpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLnJlcXVpcmVkKCksXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS52YWxpZChKb2kucmVmKFwicGFzc3dvcmRcIikpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMuc2lnbmluU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgIH0pO1xuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYVJ1bGVzID0ge1xuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLmVtcHR5KFwiXCIpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLmVtcHR5KFwiXCIpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5lbXB0eShcIlwiKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogSm9pLnN0cmluZygpLnZhbGlkKEpvaS5yZWYoXCJwYXNzd29yZFwiKSkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIC8vICBUT0RPIGZpZ3VyZSBvdXQgaG93IGFkbWluIGNhbiB1cGRhdGUgcm9sZVxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpLndpdGgoXCJwYXNzd29yZFwiLCBcImNvbmZpcm1QYXNzd29yZFwiKTtcblxuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeUVtYWlsU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIHRva2VuOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        firstName: Joi.string().required(),\n        lastName: Joi.string().required(),\n        phoneNumber: Joi.string().min(10).max(15).required(),\n        role: Joi.string().min(5).required(),\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        firstName: Joi.string().empty(\&quot;\&quot;),\n        lastName: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        role: Joi.string().min(5).empty(\&quot;\&quot;),\n        phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n        password: Joi.string().min(8).empty(\&quot;\&quot;),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;),\n    };\n\n    &#x2F;&#x2F;  TODO figure out how admin can update role\n    const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n\n    validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        token: Joi.string().required(),\n    });\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;93&#x2F;authvalidators_93d8fdb0df4bea4d1ddc0a198e2ff769.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2175&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7592,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7589,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 651,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 677,
                    &quot;endOffset&quot;: 863,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 889,
                    &quot;endOffset&quot;: 1438,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1469,
                    &quot;endOffset&quot;: 1601,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n  const options &#x3D; {\n    abortEarly: false,\n    &#x2F;&#x2F; include all errors\n    allowUnknown: true,\n    &#x2F;&#x2F; ignore unknown props\n    stripUnknown: true &#x2F;&#x2F; remove unknown props\n\n  };\n  const {\n    error,\n    value\n  } &#x3D; schema.validate(req.body, options);\n\n  if (error) {\n    next(&#x60;Validation error: ${error.details.map(x &#x3D;&gt; x.message).join(\&quot;, \&quot;)}&#x60;);\n  } else {\n    req.body &#x3D; value;\n    next();\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwibmV4dCIsInNjaGVtYSIsIm9wdGlvbnMiLCJhYm9ydEVhcmx5IiwiYWxsb3dVbmtub3duIiwic3RyaXBVbmtub3duIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYm9keSIsImRldGFpbHMiLCJtYXAiLCJ4IiwibWVzc2FnZSIsImpvaW4iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGVBQWpCOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFDeEMsUUFBTUMsT0FBTyxHQUFHO0FBQ1pDLElBQUFBLFVBQVUsRUFBRSxLQURBO0FBQ087QUFDbkJDLElBQUFBLFlBQVksRUFBRSxJQUZGO0FBRVE7QUFDcEJDLElBQUFBLFlBQVksRUFBRSxJQUhGLENBR1E7O0FBSFIsR0FBaEI7QUFNQSxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFtQk4sTUFBTSxDQUFDTyxRQUFQLENBQWdCVCxHQUFHLENBQUNVLElBQXBCLEVBQTBCUCxPQUExQixDQUF6Qjs7QUFDQSxNQUFJSSxLQUFKLEVBQVc7QUFDUE4sSUFBQUEsSUFBSSxDQUNDLHFCQUFvQk0sS0FBSyxDQUFDSSxPQUFOLENBQ2hCQyxHQURnQixDQUNYQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsT0FERyxFQUVoQkMsSUFGZ0IsQ0FFWCxJQUZXLENBRUwsRUFIaEIsQ0FBSjtBQUtILEdBTkQsTUFNTztBQUNIZixJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0YsS0FBWDtBQUNBUCxJQUFBQSxJQUFJO0FBQ1A7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVSZXF1ZXN0O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSwgLy8gaW5jbHVkZSBhbGwgZXJyb3JzXG4gICAgICAgIGFsbG93VW5rbm93bjogdHJ1ZSwgLy8gaWdub3JlIHVua25vd24gcHJvcHNcbiAgICAgICAgc3RyaXBVbmtub3duOiB0cnVlLCAvLyByZW1vdmUgdW5rbm93biBwcm9wc1xuICAgIH07XG5cbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5LCBvcHRpb25zKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChcbiAgICAgICAgICAgIGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLmRldGFpbHNcbiAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLmJvZHkgPSB2YWx1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n    const options &#x3D; {\n        abortEarly: false, &#x2F;&#x2F; include all errors\n        allowUnknown: true, &#x2F;&#x2F; ignore unknown props\n        stripUnknown: true, &#x2F;&#x2F; remove unknown props\n    };\n\n    const { error, value } &#x3D; schema.validate(req.body, options);\n    if (error) {\n        next(\n            &#x60;Validation error: ${error.details\n                .map((x) &#x3D;&gt; x.message)\n                .join(\&quot;, \&quot;)}&#x60;\n        );\n    } else {\n        req.body &#x3D; value;\n        next();\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;45&#x2F;validateRequest_45057a96b73bd940f5249869883efa4a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2228&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2528,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2525,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;validateRequest&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 124,
                    &quot;endOffset&quot;: 562,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 431,
                    &quot;endOffset&quot;: 515,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 481,
                    &quot;endOffset&quot;: 495,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\n\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\n\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\n\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n  &#x2F;**\n   * refreshtoken\n   * revoketoken\n   * forgotPassword\n   * validateResetToken\n   * validateResetToken\n   * resetPassword\n   *&#x2F;\n  login,\n  register,\n  verifyEmail,\n  create,\n  update,\n  getAll,\n  getById,\n  delete: _delete\n};\n\nasync function login({\n  email,\n  password\n}) {\n  const account &#x3D; await getAccount({\n    email\n  });\n\n  if (!account || &#x2F;&#x2F; !account.isVerified ||\n  !(await bcrypt.compare(password, account.password))) {\n    const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n    throw error;\n  }\n\n  const token &#x3D; await jwt.sign(account.toJSON());\n  return {\n    user: basicDetails(account),\n    token\n  };\n}\n\nasync function register(params, origin) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n    &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n    const error &#x3D; new Error(&#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;);\n    throw error;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; send email;\n  &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n  const token &#x3D; await jwt.sign(account);\n  return {\n    user: account,\n    token\n  };\n}\n\nasync function verifyEmail({\n  token\n}) {\n  const account &#x3D; await getAccount({\n    verificationToken: token\n  });\n  if (!account) throw \&quot;Verification failed\&quot;;\n  await account.$query().patch({\n    verified: Date.now(),\n    isVerified: true,\n    verificationToken: null\n  });\n}\n\nasync function create(params) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; TODO? bind to company here.\n\n  return basicDetails(account);\n}\n\nasync function update(id, params) {\n  const account &#x3D; await getAccount({\n    id\n  }); &#x2F;&#x2F; validate if email was changed\n\n  if (params.email &amp;&amp; account.email !&#x3D;&#x3D; params.email &amp;&amp; (await getAccount({\n    email: params.email\n  }))) {\n    const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n    throw error;\n  } &#x2F;&#x2F; hash password if it was entered\n\n\n  if (params.password) {\n    params.password &#x3D; await hash(params.password);\n  }\n\n  const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params\n  });\n  return basicDetails(updatedUser);\n} &#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\n\n\nasync function getAll() {\n  const accounts &#x3D; await User.query();\n  return accounts.map(x &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n  const account &#x3D; await getAccount({\n    id\n  });\n  return basicDetails(account);\n} &#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\n\n\nasync function _delete(id) {\n  await User.query().deleteById(id);\n}\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\n\n\nasync function getAccount(param) {\n  const account &#x3D; await User.query().where({ ...param\n  }).first();\n  return account;\n}\n\nasync function insertUser(params) {\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    role,\n    phoneNumber\n  } &#x3D; params; &#x2F;&#x2F; hash password and verification token\n\n  const hashedPassword &#x3D; await hash(password, 10);\n  const verificationToken &#x3D; randomTokenString(); &#x2F;&#x2F; create account\n\n  const account &#x3D; await User.query().insert({\n    email,\n    firstName,\n    lastName,\n    password: hashedPassword,\n    phoneNumber,\n    role: role,\n    active: true,\n    isVerified: false,\n    verified: new Date().toISOString(),\n    verificationToken\n  });\n  return basicDetails(account);\n}\n\nasync function hash(password) {\n  return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n  return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n  const {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  } &#x3D; account;\n  return {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  };\n}\n\nasync function sendVerificationEmail(account, origin) {\n  let message;\n\n  if (origin) {\n    const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n    message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: account.email,\n    subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n    html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;\n  });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n  let message;\n\n  if (origin) {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: email,\n    subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n    html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImJjcnlwdCIsImNyeXB0byIsInNlbmRFbWFpbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbiIsInJlZ2lzdGVyIiwidmVyaWZ5RW1haWwiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsImNvbXBhcmUiLCJlcnJvciIsIkVycm9yIiwidG9rZW4iLCJzaWduIiwidG9KU09OIiwidXNlciIsImJhc2ljRGV0YWlscyIsInBhcmFtcyIsIm9yaWdpbiIsImluc2VydFVzZXIiLCJ2ZXJpZmljYXRpb25Ub2tlbiIsIiRxdWVyeSIsInBhdGNoIiwidmVyaWZpZWQiLCJEYXRlIiwibm93IiwiaXNWZXJpZmllZCIsImlkIiwiaGFzaCIsInVwZGF0ZWRVc2VyIiwicXVlcnkiLCJwYXRjaEFuZEZldGNoQnlJZCIsImFjY291bnRzIiwibWFwIiwieCIsImRlbGV0ZUJ5SWQiLCJwYXJhbSIsIndoZXJlIiwiZmlyc3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGUiLCJwaG9uZU51bWJlciIsImhhc2hlZFBhc3N3b3JkIiwicmFuZG9tVG9rZW5TdHJpbmciLCJpbnNlcnQiLCJhY3RpdmUiLCJ0b0lTT1N0cmluZyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVkIiwidXBkYXRlZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIm1lc3NhZ2UiLCJ2ZXJpZnlVcmwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwic2VuZEFscmVhZHlSZWdpc3RlcmVkRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQW5C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a0IsRUFBakY7QUFDQWlDLElBQUFBLE9BQU8sR0FBSTtzQkFDR0MsU0FBVSxLQUFJQSxTQUFVO1NBRHRDO0FBR0gsR0FMRCxNQUtPO0FBQ0hELElBQUFBLE9BQU8sR0FBSTs4QkFDVzlDLE9BQU8sQ0FBQ2EsaUJBQWtCLGFBRGhEO0FBRUg7O0FBRUQsUUFBTTNCLFNBQVMsQ0FBQztBQUNaOEQsSUFBQUEsRUFBRSxFQUFFaEQsT0FBTyxDQUFDRixLQURBO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUseUNBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHOztVQUVMSixPQUFRO0FBTEUsR0FBRCxDQUFmO0FBT0g7O0FBRUQsZUFBZUssMEJBQWYsQ0FBMENyRCxLQUExQyxFQUFpRGEsTUFBakQsRUFBeUQ7QUFDckQsTUFBSW1DLE9BQUo7O0FBQ0EsTUFBSW5DLE1BQUosRUFBWTtBQUNSbUMsSUFBQUEsT0FBTyxHQUFJLGdFQUErRG5DLE1BQU8sc0RBQWpGO0FBQ0gsR0FGRCxNQUVPO0FBQ0htQyxJQUFBQSxPQUFPLEdBQUksK0dBQVg7QUFDSDs7QUFFRCxRQUFNNUQsU0FBUyxDQUFDO0FBQ1o4RCxJQUFBQSxFQUFFLEVBQUVsRCxLQURRO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUscURBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHO3VDQUN3QnBELEtBQU07aUJBQzVCZ0QsT0FBUTtBQUxMLEdBQUQsQ0FBZjtBQU9IIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi91c2VyL3VzZXIubW9kZWxcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvand0XCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZW1haWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2h0b2tlblxuICAgICAqIHJldm9rZXRva2VuXG4gICAgICogZm9yZ290UGFzc3dvcmRcbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiByZXNldFBhc3N3b3JkXG4gICAgICovXG4gICAgbG9naW4sXG4gICAgcmVnaXN0ZXIsXG4gICAgdmVyaWZ5RW1haWwsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBnZXRBbGwsXG4gICAgZ2V0QnlJZCxcbiAgICBkZWxldGU6IF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBlbWFpbCB9KTtcblxuICAgIGlmIChcbiAgICAgICAgIWFjY291bnQgfHxcbiAgICAgICAgLy8gIWFjY291bnQuaXNWZXJpZmllZCB8fFxuICAgICAgICAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhY2NvdW50LnBhc3N3b3JkKSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJFbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudC50b0pTT04oKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBiYXNpY0RldGFpbHMoYWNjb3VudCksXG4gICAgICAgIHRva2VuLFxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHBhcmFtcywgb3JpZ2luKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgLy8gc2VuZCBhbHJlYWR5IHJlZ2lzdGVyZWQgZXJyb3IgaW4gZW1haWwgdG8gcHJldmVudCBhY2NvdW50IGVudW1lcmF0aW9uXG4gICAgICAgIC8vIGF3YWl0IHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKHBhcmFtcy5lbWFpbCwgb3JpZ2luKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRW1haWwgXCInICsgcGFyYW1zLmVtYWlsICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCdcbiAgICAgICAgKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgaW5zZXJ0VXNlcihwYXJhbXMpO1xuXG4gICAgLy8gc2VuZCBlbWFpbDtcbiAgICAvLyBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKTtcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBhY2NvdW50LFxuICAgICAgICB0b2tlbixcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh7IHRva2VuIH0pIHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZ2V0QWNjb3VudCh7IHZlcmlmaWNhdGlvblRva2VuOiB0b2tlbiB9KTtcblxuICAgIGlmICghYWNjb3VudCkgdGhyb3cgXCJWZXJpZmljYXRpb24gZmFpbGVkXCI7XG5cbiAgICBhd2FpdCBhY2NvdW50LiRxdWVyeSgpLnBhdGNoKHtcbiAgICAgICAgdmVyaWZpZWQ6IERhdGUubm93KCksXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2VuOiBudWxsLFxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgdGhyb3cgJ0VtYWlsIFwiJyArIHBhcmFtcy5lbWFpbCArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBpbnNlcnRVc2VyKHBhcmFtcyk7XG5cbiAgICAvLyBUT0RPPyBiaW5kIHRvIGNvbXBhbnkgaGVyZS5cblxuICAgIHJldHVybiBiYXNpY0RldGFpbHMoYWNjb3VudCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBpZCB9KTtcblxuICAgIC8vIHZhbGlkYXRlIGlmIGVtYWlsIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMuZW1haWwgJiZcbiAgICAgICAgYWNjb3VudC5lbWFpbCAhPT0gcGFyYW1zLmVtYWlsICYmXG4gICAgICAgIChhd2FpdCBnZXRBY2NvdW50KHsgZW1haWw6IHBhcmFtcy5lbWFpbCB9KSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVtYWlsICR7cGFyYW1zLmVtYWlsfSBpcyBhbHJlYWR5IHRha2VuYCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcbiAgICBpZiAocGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgICAgIHBhcmFtcy5wYXNzd29yZCA9IGF3YWl0IGhhc2gocGFyYW1zLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwgeyAuLi5wYXJhbXMgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKHVwZGF0ZWRVc2VyKTtcbn1cblxuLy8gVE9ETyBNQUtFIFNPIElUIENBTiBRVUVSWSBGT1IgRElGRkVSRU5UIFRZUEVTIE9GIFVTRVJTXG5hc3luYyBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBVc2VyLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoeCkgPT4gYmFzaWNEZXRhaWxzKHgpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhhY2NvdW50KTtcbn1cblxuLy8gVE9ETyBNQUtFIElUIEFDQ0VQVCBBTiBBUlJBWSBPRiBJRFxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgIGF3YWl0IFVzZXIucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT0gSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09ICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50KHBhcmFtKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyAuLi5wYXJhbSB9KVxuICAgICAgICAuZmlyc3QoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmVOdW1iZXIgfSA9IHBhcmFtcztcblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiB0b2tlblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgMTApO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gcmFuZG9tVG9rZW5TdHJpbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKS5pbnNlcnQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgdmVyaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKGFjY291bnQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYXNoKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVRva2VuU3RyaW5nKCkge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDApLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoYWNjb3VudCkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBjcmVhdGVkLFxuICAgICAgICB1cGRhdGVkLFxuICAgICAgICBpc1ZlcmlmaWVkLFxuICAgIH0gPSBhY2NvdW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgdXBkYXRlZCxcbiAgICAgICAgaXNWZXJpZmllZCxcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKSB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgICBjb25zdCB2ZXJpZnlVcmwgPSBgJHtvcmlnaW59L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7YWNjb3VudC52ZXJpZmljYXRpb25Ub2tlbn1gO1xuICAgICAgICBtZXNzYWdlID0gYDxwPiBQbGVhc2UgY2xpY2sgdGhlIGJlbG93IGxpbmsgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzczo8L3A+XG4gICAgICAgIDxwPjxhIGhyZWY9XCIke3ZlcmlmeVVybH1cIj4ke3ZlcmlmeVVybH08L2E+PC9wPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+UGxlYXNlIHVzZSB0aGUgYmVsb3cgdG9rZW4gdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyB3aXRoIHRoZSA8Y29kZT4vYXV0aC92ZXJpZnktZW1haWw8L2NvZGU+IGFwaSByb3V0ZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+JHthY2NvdW50LnZlcmlmaWNhdGlvblRva2VufTwvY29kZT48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogYWNjb3VudC5lbWFpbCxcbiAgICAgICAgc3ViamVjdDogXCJTaWduLXVwIHZlcmlmaWNhdGlvbiBBUEkgLSBWZXJpZnkgRW1haWxcIixcbiAgICAgICAgaHRtbDogYDxoND5WZXJpZnkgRW1haWw8L2g0PlxuICAgICAgICA8cD5UaGFua3MgZm9yIHJlZ2lzdGVyaW5nITwvcD5cbiAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKGVtYWlsLCBvcmlnaW4pIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+SWYgeW91IGRvbid0IGtub3cgeW91ciBwYXNzd29yZCBwbGVhc2UgdmlzaXQgdGhlIDxhIGhyZWY9XCIke29yaWdpbn0vYXV0aC9mb3Jnb3QtcGFzc3dvcmRcIj5mb3Jnb3QgcGFzc3dvcmQ8L2E+IHBhZ2UuPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGA8cD5JZiB5b3UgZG9uJ3Qga25vdyB5b3VyIHBhc3N3b3JkIHlvdSBjYW4gcmVzZXQgaXQgdmlhIHRoZSA8Y29kZT4vYXV0aC9mb3Jnb3QtcGFzc3dvcmQ8L2NvZGU+IGFwaSByb3V0ZS48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IFwiU2lnbi11cCBWZXJpZmljYXRpb24gQVBJIC0gRW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkXCIsXG4gICAgICAgIGh0bWw6IGA8aDQ+RW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkPC9oND5cbiAgICAgICAgICAgICAgIDxwPllvdXIgZW1haWwgPHN0cm9uZz4ke2VtYWlsfTwvc3Ryb25nPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9wPlxuICAgICAgICAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n    &#x2F;**\n     * refreshtoken\n     * revoketoken\n     * forgotPassword\n     * validateResetToken\n     * validateResetToken\n     * resetPassword\n     *&#x2F;\n    login,\n    register,\n    verifyEmail,\n    create,\n    update,\n    getAll,\n    getById,\n    delete: _delete,\n};\n\nasync function login({ email, password }) {\n    const account &#x3D; await getAccount({ email });\n\n    if (\n        !account ||\n        &#x2F;&#x2F; !account.isVerified ||\n        !(await bcrypt.compare(password, account.password))\n    ) {\n        const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n        throw error;\n    }\n\n    const token &#x3D; await jwt.sign(account.toJSON());\n\n    return {\n        user: basicDetails(account),\n        token,\n    };\n}\n\nasync function register(params, origin) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n        &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n        const error &#x3D; new Error(\n            &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;\n        );\n\n        throw error;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; send email;\n    &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n    const token &#x3D; await jwt.sign(account);\n\n    return {\n        user: account,\n        token,\n    };\n}\n\nasync function verifyEmail({ token }) {\n    const account &#x3D; await getAccount({ verificationToken: token });\n\n    if (!account) throw \&quot;Verification failed\&quot;;\n\n    await account.$query().patch({\n        verified: Date.now(),\n        isVerified: true,\n        verificationToken: null,\n    });\n}\n\nasync function create(params) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; TODO? bind to company here.\n\n    return basicDetails(account);\n}\n\nasync function update(id, params) {\n    const account &#x3D; await getAccount({ id });\n\n    &#x2F;&#x2F; validate if email was changed\n    if (\n        params.email &amp;&amp;\n        account.email !&#x3D;&#x3D; params.email &amp;&amp;\n        (await getAccount({ email: params.email }))\n    ) {\n        const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n        throw error;\n    }\n\n    &#x2F;&#x2F; hash password if it was entered\n    if (params.password) {\n        params.password &#x3D; await hash(params.password);\n    }\n\n    const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params });\n\n    return basicDetails(updatedUser);\n}\n\n&#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\nasync function getAll() {\n    const accounts &#x3D; await User.query();\n    return accounts.map((x) &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n    const account &#x3D; await getAccount({ id });\n    return basicDetails(account);\n}\n\n&#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\nasync function _delete(id) {\n    await User.query().deleteById(id);\n}\n\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\nasync function getAccount(param) {\n    const account &#x3D; await User.query()\n        .where({ ...param })\n        .first();\n    return account;\n}\n\nasync function insertUser(params) {\n    const { firstName, lastName, email, password, role, phoneNumber } &#x3D; params;\n\n    &#x2F;&#x2F; hash password and verification token\n    const hashedPassword &#x3D; await hash(password, 10);\n    const verificationToken &#x3D; randomTokenString();\n\n    &#x2F;&#x2F; create account\n    const account &#x3D; await User.query().insert({\n        email,\n        firstName,\n        lastName,\n        password: hashedPassword,\n        phoneNumber,\n        role: role,\n        active: true,\n        isVerified: false,\n        verified: new Date().toISOString(),\n        verificationToken,\n    });\n\n    return basicDetails(account);\n}\n\nasync function hash(password) {\n    return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n    return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n    const {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    } &#x3D; account;\n    return {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    };\n}\n\nasync function sendVerificationEmail(account, origin) {\n    let message;\n    if (origin) {\n        const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n        message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: account.email,\n        subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n        html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;,\n    });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n    let message;\n    if (origin) {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: email,\n        subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n        html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;,\n    });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;15&#x2F;authservice_15139629ee8738726404e916e3a02258.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2229&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 22003,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 22000,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 546,
                    &quot;endOffset&quot;: 944,
                    &quot;count&quot;: 8
                  },
                  {
                    &quot;startOffset&quot;: 646,
                    &quot;endOffset&quot;: 745,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 747,
                    &quot;endOffset&quot;: 832,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 832,
                    &quot;endOffset&quot;: 942,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 942,
                    &quot;endOffset&quot;: 943,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 946,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1779,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1781,
                    &quot;endOffset&quot;: 2062,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2064,
                    &quot;endOffset&quot;: 2621,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2682,
                    &quot;endOffset&quot;: 2793,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2795,
                    &quot;endOffset&quot;: 2907,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2948,
                    &quot;endOffset&quot;: 3015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccount&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3076,
                    &quot;endOffset&quot;: 3198,
                    &quot;count&quot;: 4
                  },
                  {
                    &quot;startOffset&quot;: 3178,
                    &quot;endOffset&quot;: 3196,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 3196,
                    &quot;endOffset&quot;: 3197,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;insertUser&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3200,
                    &quot;endOffset&quot;: 3791,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;hash&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3793,
                    &quot;endOffset&quot;: 3868,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;randomTokenString&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3870,
                    &quot;endOffset&quot;: 3951,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3953,
                    &quot;endOffset&quot;: 4226,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;sendVerificationEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4228,
                    &quot;endOffset&quot;: 4965,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4967,
                    &quot;endOffset&quot;: 5605,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n  static get tableName() {\n    return tableNames.user;\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; User;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiVXNlciIsInRhYmxlTmFtZSIsInVzZXIiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsSUFBTixTQUFtQkosS0FBbkIsQ0FBeUI7QUFDckIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLElBQWxCO0FBQ0g7O0FBSG9COztBQU16Qk4sS0FBSyxDQUFDTyxJQUFOLENBQVdKLEVBQVg7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vZGJcIik7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLnVzZXI7XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n    static get tableName() {\n        return tableNames.user;\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; User;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;65&#x2F;usermodel_65a16864dea2cc43f1cea59fb9ce1a95.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2230&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1454,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1451,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;User&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 224,
                    &quot;endOffset&quot;: 224,
                    &quot;count&quot;: 4
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 260,
                    &quot;endOffset&quot;: 309,
                    &quot;count&quot;: 12
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  user: \&quot;user\&quot;,\n  address: \&quot;address\&quot;,\n  company: \&quot;company\&quot;,\n  accounts: \&quot;accounts\&quot;,\n  category: \&quot;category\&quot;,\n  menu: \&quot;menu\&quot;,\n  item: \&quot;item\&quot;,\n  order: \&quot;order\&quot;,\n  orderItem: \&quot;orderItem\&quot;,\n  payments: \&quot;payments\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlTmFtZXMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInVzZXIiLCJhZGRyZXNzIiwiY29tcGFueSIsImFjY291bnRzIiwiY2F0ZWdvcnkiLCJtZW51IiwiaXRlbSIsIm9yZGVyIiwib3JkZXJJdGVtIiwicGF5bWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFLE1BRE87QUFFYkMsRUFBQUEsT0FBTyxFQUFFLFNBRkk7QUFHYkMsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYkMsRUFBQUEsUUFBUSxFQUFFLFVBSkc7QUFLYkMsRUFBQUEsUUFBUSxFQUFFLFVBTEc7QUFNYkMsRUFBQUEsSUFBSSxFQUFFLE1BTk87QUFPYkMsRUFBQUEsSUFBSSxFQUFFLE1BUE87QUFRYkMsRUFBQUEsS0FBSyxFQUFFLE9BUk07QUFTYkMsRUFBQUEsU0FBUyxFQUFFLFdBVEU7QUFVYkMsRUFBQUEsUUFBUSxFQUFFO0FBVkcsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB1c2VyOiBcInVzZXJcIixcbiAgICBhZGRyZXNzOiBcImFkZHJlc3NcIixcbiAgICBjb21wYW55OiBcImNvbXBhbnlcIixcbiAgICBhY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgbWVudTogXCJtZW51XCIsXG4gICAgaXRlbTogXCJpdGVtXCIsXG4gICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICBvcmRlckl0ZW06IFwib3JkZXJJdGVtXCIsXG4gICAgcGF5bWVudHM6IFwicGF5bWVudHNcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    user: \&quot;user\&quot;,\n    address: \&quot;address\&quot;,\n    company: \&quot;company\&quot;,\n    accounts: \&quot;accounts\&quot;,\n    category: \&quot;category\&quot;,\n    menu: \&quot;menu\&quot;,\n    item: \&quot;item\&quot;,\n    order: \&quot;order\&quot;,\n    orderItem: \&quot;orderItem\&quot;,\n    payments: \&quot;payments\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;d1&#x2F;tableNames_d158fb35bde4ba2feb47fa73fcd1c0db.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2443&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1435,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1432,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\n\nconst {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\n\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\nconst db &#x3D; Knex(connectionConfig);\nModel.knex(db);\nmodule.exports &#x3D; db;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIktuZXgiLCJyZXF1aXJlIiwiTW9kZWwiLCJrbmV4RmlsZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29ubmVjdGlvbkNvbmZpZyIsImRiIiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQVlELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUVBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixJQUF3QixhQUE1QztBQUNBLE1BQU1DLGdCQUFnQixHQUFHTCxRQUFRLENBQUNDLFdBQUQsQ0FBakM7QUFFQSxNQUFNSyxFQUFFLEdBQUdULElBQUksQ0FBQ1EsZ0JBQUQsQ0FBZjtBQUVBTixLQUFLLENBQUNRLElBQU4sQ0FBV0QsRUFBWDtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJILEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS25leCA9IHJlcXVpcmUoXCJrbmV4XCIpO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcblxuY29uc3Qga25leEZpbGUgPSByZXF1aXJlKFwiLi4va25leGZpbGVcIik7XG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcbmNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSBrbmV4RmlsZVtlbnZpcm9ubWVudF07XG5cbmNvbnN0IGRiID0gS25leChjb25uZWN0aW9uQ29uZmlnKTtcblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\nconst { Model } &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\n\nconst db &#x3D; Knex(connectionConfig);\n\nModel.knex(db);\n\nmodule.exports &#x3D; db;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;06&#x2F;db_061f2ffe7a9d03a98dba0f960ecba1d1.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2444&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1629,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1626,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 246,
                    &quot;endOffset&quot;: 262,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n  test: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB_TEST,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  development: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  production: {\n    client: \&quot;pg\&quot;,\n    connection: process.env.DATABASE_URL,\n    pool: {\n      min: 2,\n      max: 10\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  }\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJkYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19EQl9URVNUIiwidXNlciIsIlBPU1RHUkVTX1VTRVIiLCJwYXNzd29yZCIsIlBPU1RHUkVTX1BBU1NXT1JEIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsIl9fZGlybmFtZSIsInNlZWRzIiwiZGV2ZWxvcG1lbnQiLCJQT1NUR1JFU19EQiIsInByb2R1Y3Rpb24iLCJEQVRBQkFTRV9VUkwiLCJwb29sIiwibWluIiwibWF4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxNQUFNLEVBQUUsSUFETjtBQUVGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFGZDtBQUdSQyxNQUFBQSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxhQUhWO0FBSVJDLE1BQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmQsS0FGVjtBQVFGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUkMsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEZixLQVJWO0FBWUZDLElBQUFBLEtBQUssRUFBRTtBQUNIRixNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURwQjtBQVpMLEdBRE87QUFrQmJFLEVBQUFBLFdBQVcsRUFBRTtBQUNUZCxJQUFBQSxNQUFNLEVBQUUsSUFEQztBQUVUQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxXQUZkO0FBR1JULE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGFBSFY7QUFJUkMsTUFBQUEsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFKZCxLQUZIO0FBUVRDLElBQUFBLFVBQVUsRUFBRTtBQUNSQyxNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURmLEtBUkg7QUFZVEMsSUFBQUEsS0FBSyxFQUFFO0FBQ0hGLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRHBCO0FBWkUsR0FsQkE7QUFtQ2JJLEVBQUFBLFVBQVUsRUFBRTtBQUNSaEIsSUFBQUEsTUFBTSxFQUFFLElBREE7QUFFUkMsSUFBQUEsVUFBVSxFQUFFRSxPQUFPLENBQUNDLEdBQVIsQ0FBWWEsWUFGaEI7QUFHUkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEdBQUcsRUFBRSxDQURIO0FBRUZDLE1BQUFBLEdBQUcsRUFBRTtBQUZILEtBSEU7QUFPUlYsSUFBQUEsVUFBVSxFQUFFO0FBQ1JDLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRGYsS0FQSjtBQVdSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEYsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEcEI7QUFYQztBQW5DQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVwZGF0ZSB3aXRoIHlvdXIgY29uZmlnIHNldHRpbmdzLlxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVzdDoge1xuICAgICAgICBjbGllbnQ6IFwicGdcIixcbiAgICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICAgICAgLy8gaG9zdDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQl9URVNULFxuICAgICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVNFUixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QT1NUR1JFU19QQVNTV09SRCxcbiAgICAgICAgfSxcbiAgICAgICAgbWlncmF0aW9uczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9taWdyYXRpb25zXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VlZHM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvc2VlZHNcIixcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgZGV2ZWxvcG1lbnQ6IHtcbiAgICAgICAgY2xpZW50OiBcInBnXCIsXG4gICAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGhvc3Q6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIsXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VU0VSLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgICBtaWdyYXRpb25zOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL21pZ3JhdGlvbnNcIixcbiAgICAgICAgfSxcblxuICAgICAgICBzZWVkczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9zZWVkc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIGNsaWVudDogXCJwZ1wiLFxuICAgICAgICBjb25uZWN0aW9uOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICAgIG1pbjogMixcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvbWlncmF0aW9uc1wiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHNlZWRzOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL3NlZWRzXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n    test: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB_TEST,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    development: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    production: {\n        client: \&quot;pg\&quot;,\n        connection: process.env.DATABASE_URL,\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e2&#x2F;knexfile_e268b34e213dcf9ff4bbc9c1fff3199f.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2676&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4994,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4991,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n  return new Promise((resolve, reject) &#x3D;&gt; {\n    jwt.sign(payload, process.env.JWT_SECRET, {\n      expiresIn: \&quot;3h\&quot;\n    }, (error, token) &#x3D;&gt; {\n      if (error) return reject(error);\n      return resolve(token);\n    });\n  });\n}\n\nmodule.exports &#x3D; {\n  sign\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2lnbiIsInBheWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJ0b2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBRUEsU0FBU0MsSUFBVCxDQUFjQyxPQUFkLEVBQXVCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwQ04sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQ0lDLE9BREosRUFFSUksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmhCLEVBR0k7QUFDSUMsTUFBQUEsU0FBUyxFQUFFO0FBRGYsS0FISixFQU1JLENBQUNDLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUNkLFVBQUlELEtBQUosRUFBVyxPQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYjtBQUNYLGFBQU9OLE9BQU8sQ0FBQ08sS0FBRCxDQUFkO0FBQ0gsS0FUTDtBQVdILEdBWk0sQ0FBUDtBQWFIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlosRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGp3dC5zaWduKFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjNoXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWduLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n    return new Promise((resolve, reject) &#x3D;&gt; {\n        jwt.sign(\n            payload,\n            process.env.JWT_SECRET,\n            {\n                expiresIn: \&quot;3h\&quot;,\n            },\n            (error, token) &#x3D;&gt; {\n                if (error) return reject(error);\n                return resolve(token);\n            }\n        );\n    });\n}\n\nmodule.exports &#x3D; {\n    sign,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;a2&#x2F;jwt_a2ecd03f3666d6bdf618e5bb010e6f13.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2728&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1961,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;sign&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 127,
                    &quot;endOffset&quot;: 376,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 173,
                    &quot;endOffset&quot;: 372,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 273,
                    &quot;endOffset&quot;: 366,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 310,
                    &quot;endOffset&quot;: 331,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\n\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({\n  to,\n  subject,\n  html,\n  from &#x3D; config[\&quot;emailFrom\&quot;]\n}) {\n  const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n  await transporter.sendMail({\n    from,\n    to,\n    subject,\n    html\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJmcm9tIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxTQUFqQjs7QUFFQSxlQUFlQSxTQUFmLENBQXlCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsT0FBTjtBQUFlQyxFQUFBQSxJQUFmO0FBQXFCQyxFQUFBQSxJQUFJLEdBQUdQLE1BQU0sQ0FBQyxXQUFEO0FBQWxDLENBQXpCLEVBQTRFO0FBQ3hFLFFBQU1RLFdBQVcsR0FBR1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCVCxNQUFNLENBQUMsYUFBRCxDQUFqQyxDQUFwQjtBQUNBLFFBQU1RLFdBQVcsQ0FBQ0UsUUFBWixDQUFxQjtBQUFFSCxJQUFBQSxJQUFGO0FBQVFILElBQUFBLEVBQVI7QUFBWUMsSUFBQUEsT0FBWjtBQUFxQkMsSUFBQUE7QUFBckIsR0FBckIsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRFbWFpbDtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwsIGZyb20gPSBjb25maWdbXCJlbWFpbEZyb21cIl0gfSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoY29uZmlnW1wic210cE9wdGlvbnNcIl0pO1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHsgZnJvbSwgdG8sIHN1YmplY3QsIGh0bWwgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({ to, subject, html, from &#x3D; config[\&quot;emailFrom\&quot;] }) {\n    const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n    await transporter.sendMail({ from, to, subject, html });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;email_4444491566e111edc26f59e95bae5b33.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2819&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1859,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1856,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;sendEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 204,
                    &quot;endOffset&quot;: 441,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n  auth,\n  isOwner\n};\n\nfunction auth(roles &#x3D; []) {\n  if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n    roles &#x3D; [roles];\n  }\n\n  return async (req, res, next) &#x3D;&gt; {\n    let token;\n\n    if (req.headers.authorization &amp;&amp; req.headers.authorization.startsWith(\&quot;Bearer \&quot;)) {\n      token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n    } else {\n      return res.status(403).json({\n        message: \&quot;Token not found, access denied\&quot;\n      });\n    } &#x2F;&#x2F; verify token and account\n\n\n    try {\n      const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n      const user &#x3D; await User.query().where({\n        id: decodedToken.id\n      }).first();\n\n      if (!user || roles.length &amp;&amp; !roles.includes(decodedToken.role)) {\n        &#x2F;&#x2F; account does not exist or role not authorized\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      } &#x2F;&#x2F; authentication and authorization successful\n\n\n      req.user &#x3D; decodedToken;\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nfunction isOwner() {\n  return async (req, res, next) &#x3D;&gt; {\n    try {\n      const bool &#x3D; await Company.query().where({\n        owner_id: req.user.id,\n        id: req.params.company_id\n      }).first();\n\n      if (!bool) {\n        console.log(bool);\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      }\n\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIlVzZXIiLCJDb21wYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsImF1dGgiLCJpc093bmVyIiwicm9sZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZFRva2VuIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwicXVlcnkiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInJvbGUiLCJlcnJvciIsImJvb2wiLCJvd25lcl9pZCIsInBhcmFtcyIsImNvbXBhbnlfaWQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLHdCQUFELENBQXBCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFEYTtBQUViQyxFQUFBQTtBQUZhLENBQWpCOztBQUtBLFNBQVNELElBQVQsQ0FBY0UsS0FBSyxHQUFHLEVBQXRCLEVBQTBCO0FBQ3RCLE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkEsSUFBQUEsS0FBSyxHQUFHLENBQUNBLEtBQUQsQ0FBUjtBQUNIOztBQUVELFNBQU8sT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJQyxLQUFKOztBQUNBLFFBQ0lILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLElBQ0FMLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxVQUExQixDQUFxQyxTQUFyQyxDQUZKLEVBR0U7QUFDRUgsTUFBQUEsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBWixDQUEwQkUsS0FBMUIsQ0FBZ0MsU0FBaEMsRUFBMkMsQ0FBM0MsQ0FBUjtBQUNILEtBTEQsTUFLTztBQUNILGFBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQyxRQUFBQSxPQUFPLEVBQUU7QUFEZSxPQUFyQixDQUFQO0FBR0gsS0FYNEIsQ0FhN0I7OztBQUNBLFFBQUk7QUFDQSxZQUFNQyxZQUFZLEdBQUdwQixHQUFHLENBQUNxQixNQUFKLENBQVdULEtBQVgsRUFBa0JVLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFyQjtBQUVBLFlBQU1DLElBQUksR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsS0FBTCxHQUNkQyxLQURjLENBQ1I7QUFBRUMsUUFBQUEsRUFBRSxFQUFFUixZQUFZLENBQUNRO0FBQW5CLE9BRFEsRUFFZEMsS0FGYyxFQUFuQjs7QUFJQSxVQUFJLENBQUNKLElBQUQsSUFBVWpCLEtBQUssQ0FBQ3NCLE1BQU4sSUFBZ0IsQ0FBQ3RCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZVgsWUFBWSxDQUFDWSxJQUE1QixDQUEvQixFQUFtRTtBQUMvRDtBQUNBLGVBQU90QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0gsT0FWRCxDQVlBOzs7QUFDQVYsTUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixHQUFXTCxZQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDUCxLQWZELENBZUUsT0FBT3NCLEtBQVAsRUFBYztBQUNadEIsTUFBQUEsSUFBSSxDQUFDc0IsS0FBRCxDQUFKO0FBQ0g7QUFDSixHQWhDRDtBQWlDSDs7QUFFRCxTQUFTMUIsT0FBVCxHQUFtQjtBQUNmLFNBQU8sT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJO0FBQ0EsWUFBTXVCLElBQUksR0FBRyxNQUFNL0IsT0FBTyxDQUFDdUIsS0FBUixHQUNkQyxLQURjLENBQ1I7QUFDSFEsUUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTRyxFQURoQjtBQUVIQSxRQUFBQSxFQUFFLEVBQUVuQixHQUFHLENBQUMyQixNQUFKLENBQVdDO0FBRlosT0FEUSxFQUtkUixLQUxjLEVBQW5COztBQU9BLFVBQUksQ0FBQ0ssSUFBTCxFQUFXO0FBQ1BJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxJQUFaO0FBQ0EsZUFBT3hCLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCLENBQVA7QUFDSDs7QUFDRFIsTUFBQUEsSUFBSTtBQUNQLEtBYkQsQ0FhRSxPQUFPc0IsS0FBUCxFQUFjO0FBQ1p0QixNQUFBQSxJQUFJLENBQUNzQixLQUFELENBQUo7QUFDSDtBQUNKLEdBakJEO0FBa0JIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vYXBpL3VzZXIvdXNlci5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vYXBpL2NvbXBhbnkvY29tcGFueS5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aCxcbiAgICBpc093bmVyLFxufTtcblxuZnVuY3Rpb24gYXV0aChyb2xlcyA9IFtdKSB7XG4gICAgaWYgKHR5cGVvZiByb2xlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByb2xlcyA9IFtyb2xlc107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3RhcnRzV2l0aChcIkJlYXJlciBcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCJCZWFyZXIgXCIpWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIG5vdCBmb3VuZCwgYWNjZXNzIGRlbmllZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgdG9rZW4gYW5kIGFjY291bnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgKHJvbGVzLmxlbmd0aCAmJiAhcm9sZXMuaW5jbHVkZXMoZGVjb2RlZFRva2VuLnJvbGUpKSkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb3Igcm9sZSBub3QgYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZFRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc093bmVyKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogcmVxLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiByZXEucGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9vbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n    auth,\n    isOwner,\n};\n\nfunction auth(roles &#x3D; []) {\n    if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n        roles &#x3D; [roles];\n    }\n\n    return async (req, res, next) &#x3D;&gt; {\n        let token;\n        if (\n            req.headers.authorization &amp;&amp;\n            req.headers.authorization.startsWith(\&quot;Bearer \&quot;)\n        ) {\n            token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n        } else {\n            return res.status(403).json({\n                message: \&quot;Token not found, access denied\&quot;,\n            });\n        }\n\n        &#x2F;&#x2F; verify token and account\n        try {\n            const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n\n            const user &#x3D; await User.query()\n                .where({ id: decodedToken.id })\n                .first();\n\n            if (!user || (roles.length &amp;&amp; !roles.includes(decodedToken.role))) {\n                &#x2F;&#x2F; account does not exist or role not authorized\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            &#x2F;&#x2F; authentication and authorization successful\n            req.user &#x3D; decodedToken;\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n\nfunction isOwner() {\n    return async (req, res, next) &#x3D;&gt; {\n        try {\n            const bool &#x3D; await Company.query()\n                .where({\n                    owner_id: req.user.id,\n                    id: req.params.company_id,\n                })\n                .first();\n\n            if (!bool) {\n                console.log(bool);\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;be&#x2F;auth_bef81972d508eee6f0010ea0d7e5ae1e.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2853&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7428,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7425,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;auth&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 275,
                    &quot;endOffset&quot;: 1253,
                    &quot;count&quot;: 28
                  },
                  {
                    &quot;startOffset&quot;: 336,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 1250,
                    &quot;count&quot;: 4
                  },
                  {
                    &quot;startOffset&quot;: 451,
                    &quot;endOffset&quot;: 501,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 503,
                    &quot;endOffset&quot;: 571,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 571,
                    &quot;endOffset&quot;: 680,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 680,
                    &quot;endOffset&quot;: 953,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 955,
                    &quot;endOffset&quot;: 1105,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 1105,
                    &quot;endOffset&quot;: 1206,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1206,
                    &quot;endOffset&quot;: 1246,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 1246,
                    &quot;endOffset&quot;: 1249,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1255,
                    &quot;endOffset&quot;: 1662,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1285,
                    &quot;endOffset&quot;: 1659,
                    &quot;count&quot;: 4
                  },
                  {
                    &quot;startOffset&quot;: 1454,
                    &quot;endOffset&quot;: 1473,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1473,
                    &quot;endOffset&quot;: 1615,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1615,
                    &quot;endOffset&quot;: 1655,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 1655,
                    &quot;endOffset&quot;: 1658,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n  static get tableName() {\n    return tableNames.company;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n\n    const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n    return {\n      owner: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.company}.owner_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      accounts: {\n        relation: Model.HasManyRelation,\n        modelClass: Account,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.accounts}.company_id&#x60;\n        }\n      },\n      menus: {\n        relation: Model.HasManyRelation,\n        modelClass: Menu,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.menu}.company_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports &#x3D; Company;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsInNjaGVtYSIsIkNvbXBhbnkiLCJ0YWJsZU5hbWUiLCJjb21wYW55IiwianNvblNjaGVtYSIsInJlbGF0aW9uTWFwcGluZ3MiLCJVc2VyIiwiQWNjb3VudCIsIk1lbnUiLCJvd25lciIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsInVzZXIiLCJhY2NvdW50cyIsIkhhc01hbnlSZWxhdGlvbiIsIm1lbnVzIiwibWVudSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxPQUFOLFNBQXNCSixLQUF0QixDQUE0QjtBQUN4QixhQUFXSyxTQUFYLEdBQXVCO0FBQ25CLFdBQU9ILFVBQVUsQ0FBQ0ksT0FBbEI7QUFDSDs7QUFFRCxhQUFXQyxVQUFYLEdBQXdCO0FBQ3BCLFdBQU9KLE1BQVA7QUFDSDs7QUFFRCxhQUFXSyxnQkFBWCxHQUE4QjtBQUMxQjtBQUNBLFVBQU1DLElBQUksR0FBR1IsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLFVBQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLDJCQUFELENBQXZCOztBQUNBLFVBQU1VLElBQUksR0FBR1YsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUVBLFdBQU87QUFDSFcsTUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFFBQUFBLFFBQVEsRUFBRWIsS0FBSyxDQUFDYyxvQkFEYjtBQUVIQyxRQUFBQSxVQUFVLEVBQUVOLElBRlQ7QUFHSE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZixVQUFVLENBQUNJLE9BQVEsV0FEMUI7QUFFRlksVUFBQUEsRUFBRSxFQUFHLEdBQUVoQixVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEgsT0FESjtBQVNIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURWO0FBRU5OLFFBQUFBLFVBQVUsRUFBRUwsT0FGTjtBQUdOTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ2tCLFFBQVM7QUFGekI7QUFIQSxPQVRQO0FBaUJIRSxNQUFBQSxLQUFLLEVBQUU7QUFDSFQsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURiO0FBRUhOLFFBQUFBLFVBQVUsRUFBRUosSUFGVDtBQUdISyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ3FCLElBQUs7QUFGckI7QUFISDtBQWpCSixLQUFQO0FBMEJIOztBQXpDdUI7O0FBNEM1QkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkuc2NoZW1hLmpzb25cIik7XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLmNvbXBhbnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IHJlcXVpcmUoXCIuL2FjY291bnRzL2FjY291bnRzLm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvd25lcjoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBVc2VyLFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5vd25lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY291bnRzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBBY2NvdW50LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmFjY291bnRzfS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBNZW51LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLm1lbnV9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wYW55O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n    static get tableName() {\n        return tableNames.company;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n        const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n        const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n        return {\n            owner: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.company}.owner_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            accounts: {\n                relation: Model.HasManyRelation,\n                modelClass: Account,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.accounts}.company_id&#x60;,\n                },\n            },\n            menus: {\n                relation: Model.HasManyRelation,\n                modelClass: Menu,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.menu}.company_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nmodule.exports &#x3D; Company;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8b&#x2F;companymodel_8b713279ce3af8b604431fcbf24964b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2854&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5514,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5511,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Company&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 241,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 280,
                    &quot;endOffset&quot;: 332,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 343,
                    &quot;endOffset&quot;: 384,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 395,
                    &quot;endOffset&quot;: 1298,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  admin: \&quot;admin\&quot;,\n  owner: \&quot;owner\&quot;,\n  customer: \&quot;customer\&quot;,\n  staff: \&quot;staff\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFkbWluIiwib3duZXIiLCJjdXN0b21lciIsInN0YWZmIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLEtBQUssRUFBRSxPQURNO0FBRWJDLEVBQUFBLEtBQUssRUFBRSxPQUZNO0FBR2JDLEVBQUFBLFFBQVEsRUFBRSxVQUhHO0FBSWJDLEVBQUFBLEtBQUssRUFBRTtBQUpNLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRtaW46IFwiYWRtaW5cIixcbiAgICBvd25lcjogXCJvd25lclwiLFxuICAgIGN1c3RvbWVyOiBcImN1c3RvbWVyXCIsXG4gICAgc3RhZmY6IFwic3RhZmZcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    admin: \&quot;admin\&quot;,\n    owner: \&quot;owner\&quot;,\n    customer: \&quot;customer\&quot;,\n    staff: \&quot;staff\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;c3&#x2F;role_c386996d0c7428ed82a7fa0a3ec37236.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2855&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 789,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 786,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\n\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  scopedItems\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\n\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\n\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\n\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.owner_id &#x3D; req.user.id;\n  companyService.create(req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n  companyService.getAllCompanies().then(companies &#x3D;&gt; {\n    res.json(scopedItems(req.user, companies));\n  }).catch(next);\n}\n\nfunction getMyCompanies(req, res, next) {\n  companyService.getMyCompanies(req.user.id).then(companies &#x3D;&gt; companies ? res.json(companies) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyById(req, res, next) {\n  &#x2F;&#x2F; owner can get his company and the admin can get any company\n  companyService.getCompanyById(req.params.id).then(company &#x3D;&gt; {\n    if (company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    res.json(company);\n  }).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company\n  companyService.updateCompany({\n    id: req.params.id,\n    owner_id: req.user.id\n  }, req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company\n  companyService._delete({\n    id: parseInt(req.params.id),\n    owner_id: req.user.id\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: parseInt(req.params.id)\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiY29tcGFueVNlcnZpY2UiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJzY29wZWRJdGVtcyIsIkFjY291bnQiLCJNZW51IiwiT3JkZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsInBhdGNoIiwidXBkYXRlIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRNeUNvbXBhbmllcyIsImdldENvbXBhbnlCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZUNvbXBhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJvd25lcl9pZCIsInVzZXIiLCJpZCIsInRoZW4iLCJjb21wYW55IiwianNvbiIsImNhdGNoIiwiY29tcGFuaWVzIiwic2VuZFN0YXR1cyIsInBhcmFtcyIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQ29tcGFueSIsIl9kZWxldGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsc0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVPLEVBQUFBO0FBQUYsSUFBa0JQLE9BQU8sQ0FBQyx5QkFBRCxDQUEvQjs7QUFF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QURMLENBQ2E7QUFBRVosSUFBQUEsRUFBRSxFQUFFYSxRQUFRLENBQUNuQixHQUFHLENBQUNhLE1BQUosQ0FBV1AsRUFBWixDQUFkO0FBQStCRixJQUFBQSxRQUFRLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQztBQUFsRCxHQURiLEVBRUtDLElBRkwsQ0FFVSxNQUFNO0FBQ1JOLElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixDQUFTO0FBQUVILE1BQUFBLEVBQUUsRUFBRWEsUUFBUSxDQUFDbkIsR0FBRyxDQUFDYSxNQUFKLENBQVdQLEVBQVo7QUFBZCxLQUFUO0FBQ0gsR0FKTCxFQUtLSSxLQUxMLENBS1dSLElBTFg7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY29tcGFueS5zZXJ2aWNlXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCB7IHNjb3BlZEl0ZW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcGVybWlzc2lvbnNcIik7XG5cbmNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy9hY2NvdW50cy5yb3V0ZXNcIik7XG5jb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51LnJvdXRlc1wiKTtcbmNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4vb3JkZXIvb3JkZXIucm91dGVzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnkvMS9hY2NvdW50c1xucm91dGVyLnVzZShcIi86Y29tcGFueV9pZC9hY2NvdW50c1wiLCBBY2NvdW50KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvbWVudVwiLCBNZW51KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvb3JkZXJcIiwgT3JkZXIpO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmdldChcIi9cIiwgQXV0aChbUm9sZS5hZG1pbl0pLCBnZXRBbGxDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi9taW5lXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgZ2V0TXlDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aChbUm9sZS5hZG1pbiwgUm9sZS5vd25lcl0pLCBnZXRDb21wYW55QnlJZCk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLmFkbWluLCBSb2xlLm93bmVyXSksIF9kZWxldGVDb21wYW55KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5Lm93bmVyX2lkID0gcmVxLnVzZXIuaWQ7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGxDb21wYW5pZXMoKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihzY29wZWRJdGVtcyhyZXEudXNlciwgY29tcGFuaWVzKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldE15Q29tcGFuaWVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldE15Q29tcGFuaWVzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PlxuICAgICAgICAgICAgY29tcGFuaWVzID8gcmVzLmpzb24oY29tcGFuaWVzKSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb21wYW55QnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG93bmVyIGNhbiBnZXQgaGlzIGNvbXBhbnkgYW5kIHRoZSBhZG1pbiBjYW4gZ2V0IGFueSBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY29tcGFueS5vd25lcl9pZCAhPT0gcmVxLnVzZXIuaWQgJiZcbiAgICAgICAgICAgICAgICByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMuanNvbihjb21wYW55KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueVxuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVDb21wYW55KHsgaWQ6IHJlcS5wYXJhbXMuaWQsIG93bmVyX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDb21wYW55KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLl9kZWxldGUoeyBpZDogcGFyc2VJbnQocmVxLnBhcmFtcy5pZCksIG93bmVyX2lkOiByZXEudXNlci5pZCB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IGlkOiBwYXJzZUludChyZXEucGFyYW1zLmlkKSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { scopedItems } &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.owner_id &#x3D; req.user.id;\n    companyService\n        .create(req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n    companyService\n        .getAllCompanies()\n        .then((companies) &#x3D;&gt; {\n            res.json(scopedItems(req.user, companies));\n        })\n        .catch(next);\n}\nfunction getMyCompanies(req, res, next) {\n    companyService\n        .getMyCompanies(req.user.id)\n        .then((companies) &#x3D;&gt;\n            companies ? res.json(companies) : res.sendStatus(404)\n        )\n        .catch(next);\n}\nfunction getCompanyById(req, res, next) {\n    &#x2F;&#x2F; owner can get his company and the admin can get any company\n    companyService\n        .getCompanyById(req.params.id)\n        .then((company) &#x3D;&gt; {\n            if (\n                company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp;\n                req.user.role !&#x3D;&#x3D; Role.admin\n            ) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            res.json(company);\n        })\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company\n    companyService\n        .updateCompany({ id: req.params.id, owner_id: req.user.id }, req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company\n    companyService\n        ._delete({ id: parseInt(req.params.id), owner_id: req.user.id })\n        .then(() &#x3D;&gt; {\n            res.json({ id: parseInt(req.params.id) });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2a&#x2F;companyroutes_2accae81b914ebc49b8ad824faf130cd.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2856&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 11663,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 11660,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1186,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1340,
                    &quot;endOffset&quot;: 1505,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1507,
                    &quot;endOffset&quot;: 1681,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1683,
                    &quot;endOffset&quot;: 2058,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2281,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2283,
                    &quot;endOffset&quot;: 2553,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    logo_url: Joi.string(),\n    website_url: Joi.string(),\n    email: Joi.string().email().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    owner: Joi.number().empty(\&quot;\&quot;),\n    logo_url: Joi.string().empty(\&quot;\&quot;),\n    website_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsImxvZ29fdXJsIiwid2Vic2l0ZV91cmwiLCJlbWFpbCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiLCJvd25lciIsIm51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsUUFBUSxFQUFFZCxHQUFHLENBQUNXLE1BQUosRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosRUFKUztBQUt0QkssSUFBQUEsS0FBSyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFLLEtBQWIsR0FBcUJKLFFBQXJCO0FBTGUsR0FBWCxDQUFmO0FBT0FWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQ7O0FBV0FMLE9BQU8sQ0FBQ2MsWUFBUixHQUF1QixDQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNVyxXQUFXLEdBQUc7QUFDaEJSLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQk4sSUFBQUEsV0FBVyxFQUFFYixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQixDQUZHO0FBR2hCSCxJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYUssS0FBYixHQUFxQkcsS0FBckIsQ0FBMkIsRUFBM0IsQ0FIUztBQUloQkMsSUFBQUEsS0FBSyxFQUFFcEIsR0FBRyxDQUFDcUIsTUFBSixHQUFhRixLQUFiLENBQW1CLEVBQW5CLENBSlM7QUFLaEJMLElBQUFBLFFBQVEsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FMTTtBQU1oQkosSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQjtBQU5HLEdBQXBCO0FBU0EsUUFBTVgsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV1MsV0FBWCxDQUFmO0FBRUFoQixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQWJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBsb2dvX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICB3ZWJzaXRlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIG93bmVyOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGxvZ29fdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIHdlYnNpdGVfdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        logo_url: Joi.string(),\n        website_url: Joi.string(),\n        email: Joi.string().email().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        owner: Joi.number().empty(\&quot;\&quot;),\n        logo_url: Joi.string().empty(\&quot;\&quot;),\n        website_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;3c&#x2F;companyvalidators_3ce01f397e22205413767a4933ebdfd8.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2857&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4153,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4150,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 489,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 515,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n  create,\n  updateCompany,\n  getAllCompanies,\n  getMyCompanies,\n  getCompanyById,\n  _delete\n};\n\nasync function create(params) {\n  &#x2F;&#x2F; validate if company name exists\n  if (await getCompany({\n    name: params.name\n  })) {\n    error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n  }\n\n  const company &#x3D; await Company.query().insert(params);\n  return company;\n}\n\nasync function updateCompany(queryParams, params) {\n  const company &#x3D; await getCompany({ ...queryParams\n  });\n\n  if (!company) {\n    error(\&quot;Unauthorized\&quot;);\n  } &#x2F;&#x2F; validate if name was changed\n\n\n  if (params.name &amp;&amp; company.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCompany({\n    name: params.name\n  }))) {\n    error(&#x60;Name ${params.name} is already taken&#x60;);\n  }\n\n  const updatedCompany &#x3D; await Company.query().patchAndFetchById(queryParams.id, { ...params\n  });\n  return updatedCompany;\n}\n\nasync function getAllCompanies() {\n  const companies &#x3D; await Company.query();\n  return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n  const companies &#x3D; await Company.query().where({\n    owner_id: ownerId\n  });\n  return companies;\n}\n\nasync function getCompanyById(id) {\n  const company &#x3D; await getCompany({\n    id\n  });\n  return company;\n}\n\nasync function _delete(queryParams) {\n  const tobeDeleted &#x3D; await getCompany(queryParams);\n\n  if (tobeDeleted) {\n    return await Company.query().delete().where({ ...queryParams\n    });\n  }\n\n  return error(\&quot;Forbidden\&quot;);\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCompany(param) {\n  const company &#x3D; await Company.query().where({ ...param\n  }).first();\n  return company;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDb21wYW55IiwicmVxdWlyZSIsImVycm9yIiwiY3JlYXRlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlIiwidXBkYXRlQ29tcGFueSIsImdldEFsbENvbXBhbmllcyIsImdldE15Q29tcGFuaWVzIiwiZ2V0Q29tcGFueUJ5SWQiLCJfZGVsZXRlIiwicGFyYW1zIiwiZ2V0Q29tcGFueSIsIm5hbWUiLCJjb21wYW55IiwicXVlcnkiLCJpbnNlcnQiLCJxdWVyeVBhcmFtcyIsInVwZGF0ZWRDb21wYW55IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJpZCIsImNvbXBhbmllcyIsIm93bmVySWQiLCJ3aGVyZSIsIm93bmVyX2lkIiwidG9iZURlbGV0ZWQiLCJkZWxldGUiLCJwYXJhbSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUFyQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxhQUZhO0FBR2JDLEVBQUFBLGVBSGE7QUFJYkMsRUFBQUEsY0FKYTtBQUtiQyxFQUFBQSxjQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsTUFBZixDQUFzQk0sTUFBdEIsRUFBOEI7QUFDMUI7QUFDQSxNQUFJLE1BQU1DLFVBQVUsQ0FBQztBQUFFQyxJQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0U7QUFBZixHQUFELENBQXBCLEVBQTZDO0FBQ3pDWixJQUFBQSxLQUFLLENBQUMsV0FBV1UsTUFBTSxDQUFDRSxJQUFsQixHQUF5Qix5QkFBMUIsQ0FBTDtBQUNIOztBQUVELFFBQU1DLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQWdCQyxNQUFoQixDQUF1QkwsTUFBdkIsQ0FBdEI7QUFDQSxTQUFPRyxPQUFQO0FBQ0g7O0FBRUQsZUFBZVIsYUFBZixDQUE2QlcsV0FBN0IsRUFBMENOLE1BQTFDLEVBQWtEO0FBQzlDLFFBQU1HLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUMsRUFBRSxHQUFHSztBQUFMLEdBQUQsQ0FBaEM7O0FBRUEsTUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVmIsSUFBQUEsS0FBSyxDQUFDLGNBQUQsQ0FBTDtBQUNILEdBTDZDLENBTzlDOzs7QUFDQSxNQUNJVSxNQUFNLENBQUNFLElBQVAsSUFDQUMsT0FBTyxDQUFDRCxJQUFSLEtBQWlCRixNQUFNLENBQUNFLElBRHhCLEtBRUMsTUFBTUQsVUFBVSxDQUFDO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBTSxDQUFDRTtBQUFmLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0VaLElBQUFBLEtBQUssQ0FBRSxRQUFPVSxNQUFNLENBQUNFLElBQUssbUJBQXJCLENBQUw7QUFDSDs7QUFFRCxRQUFNSyxjQUFjLEdBQUcsTUFBTW5CLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JJLGlCQUFoQixDQUN6QkYsV0FBVyxDQUFDRyxFQURhLEVBRXpCLEVBQ0ksR0FBR1Q7QUFEUCxHQUZ5QixDQUE3QjtBQU9BLFNBQU9PLGNBQVA7QUFDSDs7QUFFRCxlQUFlWCxlQUFmLEdBQWlDO0FBQzdCLFFBQU1jLFNBQVMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDZ0IsS0FBUixFQUF4QjtBQUNBLFNBQU9NLFNBQVA7QUFDSDs7QUFFRCxlQUFlYixjQUFmLENBQThCYyxPQUE5QixFQUF1QztBQUNuQyxRQUFNRCxTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JRLEtBQWhCLENBQXNCO0FBQzFDQyxJQUFBQSxRQUFRLEVBQUVGO0FBRGdDLEdBQXRCLENBQXhCO0FBR0EsU0FBT0QsU0FBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsQ0FBOEJXLEVBQTlCLEVBQWtDO0FBQzlCLFFBQU1OLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUM7QUFBRVEsSUFBQUE7QUFBRixHQUFELENBQWhDO0FBQ0EsU0FBT04sT0FBUDtBQUNIOztBQUVELGVBQWVKLE9BQWYsQ0FBdUJPLFdBQXZCLEVBQW9DO0FBQ2hDLFFBQU1RLFdBQVcsR0FBRyxNQUFNYixVQUFVLENBQUNLLFdBQUQsQ0FBcEM7O0FBRUEsTUFBSVEsV0FBSixFQUFpQjtBQUNiLFdBQU8sTUFBTTFCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FDUlcsTUFEUSxHQUVSSCxLQUZRLENBRUYsRUFBRSxHQUFHTjtBQUFMLEtBRkUsQ0FBYjtBQUdIOztBQUVELFNBQU9oQixLQUFLLENBQUMsV0FBRCxDQUFaO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUVBLGVBQWVXLFVBQWYsQ0FBMEJlLEtBQTFCLEVBQWlDO0FBQzdCLFFBQU1iLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQ2pCUSxLQURpQixDQUNYLEVBQUUsR0FBR0k7QUFBTCxHQURXLEVBRWpCQyxLQUZpQixFQUF0QjtBQUdBLFNBQU9kLE9BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5jb25zdCBjcmVhdGVFcnJvciA9IHJlcXVpcmUoXCJodHRwLWVycm9yc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUNvbXBhbnksXG4gICAgZ2V0QWxsQ29tcGFuaWVzLFxuICAgIGdldE15Q29tcGFuaWVzLFxuICAgIGdldENvbXBhbnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGUgaWYgY29tcGFueSBuYW1lIGV4aXN0c1xuICAgIGlmIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpIHtcbiAgICAgICAgZXJyb3IoJ05hbWUgXCInICsgcGFyYW1zLm5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcGFueShxdWVyeVBhcmFtcywgcGFyYW1zKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyAuLi5xdWVyeVBhcmFtcyB9KTtcblxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgICBlcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBpZiBuYW1lIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjb21wYW55Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBOYW1lICR7cGFyYW1zLm5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChcbiAgICAgICAgcXVlcnlQYXJhbXMuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gdXBkYXRlZENvbXBhbnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHtcbiAgICBjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNvbXBhbmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TXlDb21wYW5pZXMob3duZXJJZCkge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS53aGVyZSh7XG4gICAgICAgIG93bmVyX2lkOiBvd25lcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBjb21wYW5pZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyBpZCB9KTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGNvbnN0IHRvYmVEZWxldGVkID0gYXdhaXQgZ2V0Q29tcGFueShxdWVyeVBhcmFtcyk7XG5cbiAgICBpZiAodG9iZURlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvbXBhbnkucXVlcnkoKVxuICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAud2hlcmUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3IoXCJGb3JiaWRkZW5cIik7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIF9zb2Z0RGVsZXRlKGlkKSB7XG4vL21hcmsgYXMgaW5hY3RpdmVcbi8vICBhd2FpdCBDb21wYW55LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnkocGFyYW0pIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBjb21wYW55O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n    create,\n    updateCompany,\n    getAllCompanies,\n    getMyCompanies,\n    getCompanyById,\n    _delete,\n};\n\nasync function create(params) {\n    &#x2F;&#x2F; validate if company name exists\n    if (await getCompany({ name: params.name })) {\n        error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n    }\n\n    const company &#x3D; await Company.query().insert(params);\n    return company;\n}\n\nasync function updateCompany(queryParams, params) {\n    const company &#x3D; await getCompany({ ...queryParams });\n\n    if (!company) {\n        error(\&quot;Unauthorized\&quot;);\n    }\n\n    &#x2F;&#x2F; validate if name was changed\n    if (\n        params.name &amp;&amp;\n        company.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCompany({ name: params.name }))\n    ) {\n        error(&#x60;Name ${params.name} is already taken&#x60;);\n    }\n\n    const updatedCompany &#x3D; await Company.query().patchAndFetchById(\n        queryParams.id,\n        {\n            ...params,\n        }\n    );\n\n    return updatedCompany;\n}\n\nasync function getAllCompanies() {\n    const companies &#x3D; await Company.query();\n    return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n    const companies &#x3D; await Company.query().where({\n        owner_id: ownerId,\n    });\n    return companies;\n}\n\nasync function getCompanyById(id) {\n    const company &#x3D; await getCompany({ id });\n    return company;\n}\n\nasync function _delete(queryParams) {\n    const tobeDeleted &#x3D; await getCompany(queryParams);\n\n    if (tobeDeleted) {\n        return await Company.query()\n            .delete()\n            .where({ ...queryParams });\n    }\n\n    return error(\&quot;Forbidden\&quot;);\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCompany(param) {\n    const company &#x3D; await Company.query()\n        .where({ ...param })\n        .first();\n    return company;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;10&#x2F;companyservice_103976749abb46712c9f5147304425bb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2858&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7967,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 615,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 617,
                    &quot;endOffset&quot;: 1096,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1098,
                    &quot;endOffset&quot;: 1197,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1199,
                    &quot;endOffset&quot;: 1339,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1341,
                    &quot;endOffset&quot;: 1446,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1448,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1808,
                    &quot;endOffset&quot;: 1933,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; message &#x3D;&gt; {\n  const error &#x3D; new Error(message);\n  throw error;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsT0FBRCxJQUFhO0FBQzFCLFFBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLE9BQVYsQ0FBZDtBQUNBLFFBQU1DLEtBQU47QUFDSCxDQUhEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; (message) &#x3D;&gt; {\n    const error &#x3D; new Error(message);\n    throw error;\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;fa&#x2F;error_fa67f28dedb39797d87045fcac49c533.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2859&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 690,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 687,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 106,
                    &quot;endOffset&quot;: 171,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n  if (user.role &#x3D;&#x3D; role.admin) return items;\n  return items.filter(item &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n  scopedItems\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb25zLmpzIl0sIm5hbWVzIjpbInJvbGUiLCJyZXF1aXJlIiwic2NvcGVkSXRlbXMiLCJ1c2VyIiwiaXRlbXMiLCJhZG1pbiIsImZpbHRlciIsIml0ZW0iLCJvd25lcl9pZCIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsTUFBSUQsSUFBSSxDQUFDSCxJQUFMLElBQWFBLElBQUksQ0FBQ0ssS0FBdEIsRUFBNkIsT0FBT0QsS0FBUDtBQUM3QixTQUFPQSxLQUFLLENBQUNFLE1BQU4sQ0FBY0MsSUFBRCxJQUFVQSxJQUFJLENBQUNDLFFBQUwsSUFBaUJMLElBQUksQ0FBQ00sRUFBN0MsQ0FBUDtBQUNIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlQsRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvbGUgPSByZXF1aXJlKFwiLi9yb2xlXCIpO1xuXG5mdW5jdGlvbiBzY29wZWRJdGVtcyh1c2VyLCBpdGVtcykge1xuICAgIGlmICh1c2VyLnJvbGUgPT0gcm9sZS5hZG1pbikgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ub3duZXJfaWQgPT0gdXNlci5pZCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNjb3BlZEl0ZW1zLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n    if (user.role &#x3D;&#x3D; role.admin) return items;\n    return items.filter((item) &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n    scopedItems,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;08&#x2F;permissions_089e905c4105820f9841c9d528f11f86.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2862&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1344,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1341,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;scopedItems&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 122,
                    &quot;endOffset&quot;: 261,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n  mergeParams: true\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n  try {\n    &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n    &#x2F;&#x2F; }\n    const accounts &#x3D; await Account.query().where({\n      company_id: req.params.company_id\n    });\n\n    if (!accounts) {\n      return res.status(404);\n    }\n\n    res.json(accounts);\n  } catch (error) {\n    next(error);\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJBY2NvdW50IiwicmVxdWlyZSIsIkNvbXBhbnkiLCJSb2xlIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJnZXQiLCJhZG1pbiIsIm93bmVyIiwiZ2V0QWNjb3VudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImFjY291bnRzIiwicXVlcnkiLCJ3aGVyZSIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUcsRUFBQUEsSUFBSSxFQUFFQyxJQUFSO0FBQWNDLEVBQUFBO0FBQWQsSUFBMEJMLE9BQU8sQ0FBQyw0QkFBRCxDQUF2Qzs7QUFFQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJPLE1BQW5CLENBQTBCO0FBQ3JDQyxFQUFBQSxXQUFXLEVBQUU7QUFEd0IsQ0FBMUIsQ0FBZjs7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkwsSUFBSSxDQUFDLENBQUNGLElBQUksQ0FBQ1EsS0FBTixFQUFhUixJQUFJLENBQUNTLEtBQWxCLENBQUQsQ0FBcEIsRUFBZ0ROLE9BQU8sRUFBdkQsRUFBMkRPLFdBQTNEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakI7O0FBRUEsZUFBZU0sV0FBZixDQUEyQkcsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QyxNQUFJO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTUMsUUFBUSxHQUFHLE1BQU1uQixPQUFPLENBQUNvQixLQUFSLEdBQWdCQyxLQUFoQixDQUFzQjtBQUN6Q0MsTUFBQUEsVUFBVSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0Q7QUFEa0IsS0FBdEIsQ0FBdkI7O0FBSUEsUUFBSSxDQUFDSCxRQUFMLEVBQWU7QUFDWCxhQUFPRixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLENBQVA7QUFDSDs7QUFFRFAsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNOLFFBQVQ7QUFDSCxHQWRELENBY0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pSLElBQUFBLElBQUksQ0FBQ1EsS0FBRCxDQUFKO0FBQ0g7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS5tb2RlbFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcm9sZVwiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCwgaXNPd25lciB9ID0gcmVxdWlyZShcIi4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoW1JvbGUuYWRtaW4sIFJvbGUub3duZXJdKSwgaXNPd25lcigpLCBnZXRBY2NvdW50cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50cyhyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGlmICghY29tcGFueSAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50LnF1ZXJ5KCkud2hlcmUoe1xuICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjY291bnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oYWNjb3VudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n    mergeParams: true,\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\n\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n    try {\n        &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n        &#x2F;&#x2F; }\n\n        const accounts &#x3D; await Account.query().where({\n            company_id: req.params.company_id,\n        });\n\n        if (!accounts) {\n            return res.status(404);\n        }\n\n        res.json(accounts);\n    } catch (error) {\n        next(error);\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f5&#x2F;accountsroutes_f54e96c4db6e4acb21a322f351ad9a58.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2863&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3778,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3775,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getAccounts&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 754,
                    &quot;endOffset&quot;: 775,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 775,
                    &quot;endOffset&quot;: 812,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 812,
                    &quot;endOffset&quot;: 842,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 842,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 878,
                    &quot;endOffset&quot;: 879,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n  static get tableName() {\n    return tableNames.accounts;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n}\n\nmodule.exports &#x3D; Account;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJzY2hlbWEiLCJBY2NvdW50IiwidGFibGVOYW1lIiwiYWNjb3VudHMiLCJqc29uU2NoZW1hIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUVBLE1BQU1HLE9BQU4sU0FBc0JKLEtBQXRCLENBQTRCO0FBQ3hCLGFBQVdLLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0gsVUFBVSxDQUFDSSxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0osTUFBUDtBQUNIOztBQVB1Qjs7QUFVNUJLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkwsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2FjY291bnRzLnNjaGVtYS5qc29uXCIpO1xuXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5hY2NvdW50cztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGpzb25TY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnQ7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n    static get tableName() {\n        return tableNames.accounts;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n}\n\nmodule.exports &#x3D; Account;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;01&#x2F;accountsmodel_01a1ad309c7db6ca01e6d4ebe4774684.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2864&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Account&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 245,
                    &quot;endOffset&quot;: 245,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 284,
                    &quot;endOffset&quot;: 337,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 389,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\n\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.company_id &#x3D; parseInt(req.params.company_id);\n  menuService.createMenu(req.body).then(menu &#x3D;&gt; res.json(menu)).catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  menuService.getAllCompanyMenus({\n    id: company_id\n  }).then(menus &#x3D;&gt; menus ? res.json(menus) : res.sendStatus(404)).catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n  menuService.getMenuById(req.params.id).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService.updateMenu(req.params.id, req.body);\n  }).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiQ29tcGFueSIsImF1dGgiLCJBdXRoIiwiaXNPd25lciIsIlJvbGUiLCJDYXRlZ29yeSIsIm1lbnVTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlTWVudSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYm9keSIsImNvbXBhbnlfaWQiLCJwYXJzZUludCIsInBhcmFtcyIsImNyZWF0ZU1lbnUiLCJ0aGVuIiwibWVudSIsImpzb24iLCJjYXRjaCIsImlkIiwibWVudXMiLCJzZW5kU3RhdHVzIiwicXVlcnkiLCJ3aGVyZSIsInVzZXIiLCJmaXJzdCIsImNvbXBhbnkiLCJzdGF0dXMiLCJ1cGRhdGVNZW51IiwiX2RlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsa0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQk4sT0FBTyxDQUFDLDRCQUFELENBQXZDOztBQUNBLE1BQU1PLElBQUksR0FBR1AsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU1RLFFBQVEsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1T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aEJMLEVBaUJLRCxLQWpCTCxDQWlCV1QsSUFqQlg7QUFrQkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL21lbnUudmFsaWRhdG9yXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5LnJvdXRlc1wiKTtcblxuY29uc3QgbWVudVNlcnZpY2UgPSByZXF1aXJlKFwiLi9tZW51LnNlcnZpY2VcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbi8vIGFwaS92MS9jb21wYW55L2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeVxucm91dGVyLnVzZShcIi86bWVudV9pZC9jYXRlZ29yeVwiLCBDYXRlZ29yeSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQ29tcGFueU1lbnVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldE1lbnVCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCB1cGRhdGVTY2hlbWEsIHVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIF9kZWxldGVNZW51KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5LmNvbXBhbnlfaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmNvbXBhbnlfaWQpO1xuICAgIG1lbnVTZXJ2aWNlXG4gICAgICAgIC5jcmVhdGVNZW51KHJlcS5ib2R5KVxuICAgICAgICAudGhlbigobWVudSkgPT4gcmVzLmpzb24obWVudSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29tcGFueU1lbnVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjb21wYW55X2lkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgbWVudVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlNZW51cyh7IGlkOiBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChtZW51cykgPT4gKG1lbnVzID8gcmVzLmpzb24obWVudXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVudUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBtZW51U2VydmljZVxuICAgICAgICAuZ2V0TWVudUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKG1lbnUpID0+IChtZW51ID8gcmVzLmpzb24obWVudSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBtZW51XG5cbiAgICBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgb3duZXI6IHJlcS51c2VyLmlkIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJVbmF0aG9yaXplZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTZXJ2aWNlLnVwZGF0ZU1lbnUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigobWVudSkgPT4gKG1lbnUgPyByZXMuanNvbihtZW51KSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVNZW51KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55IG1lbnVcblxuICAgIENvbXBhbnkucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyBvd25lcjogcmVxLnVzZXIuaWQgfSlcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICghY29tcGFueSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICAgICAgICAgICAgICBlcnJvcihcIlVuYXRob3JpemVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.company_id &#x3D; parseInt(req.params.company_id);\n    menuService\n        .createMenu(req.body)\n        .then((menu) &#x3D;&gt; res.json(menu))\n        .catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    menuService\n        .getAllCompanyMenus({ id: company_id })\n        .then((menus) &#x3D;&gt; (menus ? res.json(menus) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n    menuService\n        .getMenuById(req.params.id)\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService.updateMenu(req.params.id, req.body);\n        })\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;99&#x2F;menuroutes_997150f167642e0bf13a4d7cf8d13bc4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2952&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 954,
                    &quot;endOffset&quot;: 1123,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1125,
                    &quot;endOffset&quot;: 1348,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1350,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1879,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1881,
                    &quot;endOffset&quot;: 2321,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    cover_url: Joi.string()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    cover_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUudmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJleHBvcnRzIiwiY3JlYXRlU2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiY292ZXJfdXJsIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsU0FBUyxFQUFFZCxHQUFHLENBQUNXLE1BQUo7QUFIVyxHQUFYLENBQWY7QUFLQVQsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FQRDs7QUFTQUwsT0FBTyxDQUFDWSxZQUFSLEdBQXVCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1TLFdBQVcsR0FBRztBQUNoQk4sSUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixDQUFtQixFQUFuQixDQURVO0FBRWhCSixJQUFBQSxXQUFXLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhTSxLQUFiLENBQW1CLEVBQW5CLENBRkc7QUFHaEJILElBQUFBLFNBQVMsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFwQjtBQU1BLFFBQU1ULE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdPLFdBQVgsQ0FBZjtBQUVBZCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdChzY2hlbWFSdWxlcyk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        cover_url: Joi.string(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        cover_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0b&#x2F;menuvalidator_0bff2254f7ebb231be87a9bba47a9cd7.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2953&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3165,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 216,
                    &quot;endOffset&quot;: 418,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 444,
                    &quot;endOffset&quot;: 689,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\n\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  &#x2F;&#x2F; check if owner of company\n  const payload &#x3D; req.body;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.createcategory(payload);\n  }).then(category &#x3D;&gt; res.json(category)).catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  categoryService.getAllCompanyCategorys({\n    company_id\n  }).then(categories &#x3D;&gt; categories ? res.json(categories) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n  categoryService.getCategoryById(req.params.id).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company category\n  const payload &#x3D; req.body;\n  payload.menu_id &#x3D; req.params.menu_id;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.updateCategory(req.params.id, payload);\n  }).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company category\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function isOwner(owner_id, company_id) {\n  const bool &#x3D; await Company.query().where({\n    owner_id,\n    id: company_id\n  }).first();\n  return bool;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZVNjaGVtYSIsInVwZGF0ZVNjaGVtYSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsIkNvbXBhbnkiLCJJdGVtIiwiY2F0ZWdvcnlTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlDYXRlZ29yeXMiLCJnZXRDYXRlZ29yeUJ5SWQiLCJwYXRjaCIsInVwZGF0ZSIsImRlbGV0ZSIsIl9kZWxldGVDYXRlZ29yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGF5bG9hZCIsImJvZHkiLCJpc093bmVyIiwidXNlciIsImlkIiwicGFyYW1zIiwiY29tcGFueV9pZCIsInRoZW4iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNyZWF0ZWNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjYXRjaCIsImNhdGVnb3JpZXMiLCJzZW5kU3RhdHVzIiwibWVudV9pZCIsInVwZGF0ZUNhdGVnb3J5IiwiX2RlbGV0ZSIsIm93bmVyX2lkIiwiYm9vbCIsInF1ZXJ5Iiwid2hlcmUiLCJmaXJzdCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsdUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJKLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFFQSxNQUFNTyxJ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T0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNIOztBQUNELFdBQU8vQixlQUFlLENBQUN1QyxPQUFoQixDQUF3QjtBQUMzQmQsTUFBQUEsRUFBRSxFQUFFUCxHQUFHLENBQUNRLE1BQUosQ0FBV0QsRUFEWTtBQUUzQkUsTUFBQUEsVUFBVSxFQUFFVCxHQUFHLENBQUNRLE1BQUosQ0FBV0M7QUFGSSxLQUF4QixDQUFQO0FBSUgsR0FUTCxFQVVLQyxJQVZMLENBVVUsTUFBTTtBQUNSVCxJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFTCxNQUFBQSxFQUFFLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRDtBQUFqQixLQUFUO0FBQ0gsR0FaTCxFQWFLUyxLQWJMLENBYVdkLElBYlg7QUFjSCxDLENBRUQ7OztBQUNBLGVBQWVHLE9BQWYsQ0FBdUJpQixRQUF2QixFQUFpQ2IsVUFBakMsRUFBNkM7QUFDekMsUUFBTWMsSUFBSSxHQUFHLE1BQU0zQyxPQUFPLENBQUM0QyxLQUFSLEdBQ2RDLEtBRGMsQ0FDUjtBQUFFSCxJQUFBQSxRQUFGO0FBQVlmLElBQUFBLEVBQUUsRUFBRUU7QUFBaEIsR0FEUSxFQUVkaUIsS0FGYyxFQUFuQjtBQUlBLFNBQU9ILElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCB9ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3QgUm9sZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi91dGlscy9yb2xlXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYW55Lm1vZGVsXCIpO1xuXG5jb25zdCBJdGVtID0gcmVxdWlyZShcIi4vaXRlbS9pdGVtLnJvdXRlc1wiKTtcblxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2VydmljZVwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeS9jYXRlZ29yeV9pZC9pdGVtXG5yb3V0ZXIudXNlKFwiLzpjYXRlZ29yeV9pZC9pdGVtXCIsIEl0ZW0pO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCBnZXRBbGxDb21wYW55Q2F0ZWdvcnlzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldENhdGVnb3J5QnlJZCk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBfZGVsZXRlQ2F0ZWdvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gY2hlY2sgaWYgb3duZXIgb2YgY29tcGFueVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcblxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlY2F0ZWdvcnkocGF5bG9hZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yeSkgPT4gcmVzLmpzb24oY2F0ZWdvcnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbnlDYXRlZ29yeXMocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IGNvbXBhbnlfaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlDYXRlZ29yeXMoeyBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yaWVzKSA9PlxuICAgICAgICAgICAgY2F0ZWdvcmllcyA&#x2F;IHJlcy5qc29uKGNhdGVnb3JpZXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgICAgIC5nZXRDYXRlZ29yeUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGNhdGVnb3J5KSA9PlxuICAgICAgICAgICAgY2F0ZWdvcnkgPyByZXMuanNvbihjYXRlZ29yeSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcbiAgICBwYXlsb2FkLm1lbnVfaWQgPSByZXEucGFyYW1zLm1lbnVfaWQ7XG5cbiAgICBpc093bmVyKHJlcS51c2VyLmlkLCByZXEucGFyYW1zLmNvbXBhbnlfaWQpXG4gICAgICAgIC50aGVuKChvd25lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5wYXJhbXMuaWQsIHBheWxvYWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoY2F0ZWdvcnkpID0+XG4gICAgICAgICAgICBjYXRlZ29yeSA&#x2F;IHJlcy5qc29uKGNhdGVnb3J5KSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDYXRlZ29yeShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG9ubHkgb3duZXIgZGVsZXRlIGNhbiBkZWxldGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGlzT3duZXIob3duZXJfaWQsIGNvbXBhbnlfaWQpIHtcbiAgICBjb25zdCBib29sID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IG93bmVyX2lkLCBpZDogY29tcGFueV9pZCB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIHJldHVybiBib29sO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    &#x2F;&#x2F; check if owner of company\n    const payload &#x3D; req.body;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.createcategory(payload);\n        })\n        .then((category) &#x3D;&gt; res.json(category))\n        .catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    categoryService\n        .getAllCompanyCategorys({ company_id })\n        .then((categories) &#x3D;&gt;\n            categories ? res.json(categories) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n    categoryService\n        .getCategoryById(req.params.id)\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company category\n    const payload &#x3D; req.body;\n    payload.menu_id &#x3D; req.params.menu_id;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.updateCategory(req.params.id, payload);\n        })\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company category\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function isOwner(owner_id, company_id) {\n    const bool &#x3D; await Company.query()\n        .where({ owner_id, id: company_id })\n        .first();\n\n    return bool;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f9&#x2F;categoryroutes_f95c539ef7b2381e749f49618b0199b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2954&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 12907,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 12904,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 962,
                    &quot;endOffset&quot;: 1328,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1330,
                    &quot;endOffset&quot;: 1576,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1578,
                    &quot;endOffset&quot;: 1754,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1756,
                    &quot;endOffset&quot;: 2229,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2231,
                    &quot;endOffset&quot;: 2690,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2738,
                    &quot;endOffset&quot;: 2893,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    menu_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    menu_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVTY2hlbWEiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibWVudV9pZCIsIm51bWJlciIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsMENBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxPQUFPLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBRmEsR0FBWCxDQUFmO0FBSUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBTkQ7O0FBUUFMLE9BQU8sQ0FBQ1ksWUFBUixHQUF1QixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNUyxXQUFXLEdBQUc7QUFDaEJOLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQkosSUFBQUEsT0FBTyxFQUFFYixHQUFHLENBQUNjLE1BQUosR0FBYUcsS0FBYixDQUFtQixFQUFuQjtBQUZPLEdBQXBCO0FBS0EsUUFBTVQsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV08sV0FBWCxDQUFmO0FBRUFkLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy92YWxpZGF0ZVJlcXVlc3RcIik7XG5cbmV4cG9ydHMuY3JlYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        menu_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        menu_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;1b&#x2F;categoryvalidators_1b6fa12bad6d90716c229117a118363b.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2955&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 219,
                    &quot;endOffset&quot;: 388,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 414,
                    &quot;endOffset&quot;: 616,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  itemService.createItem(req.body).then(item &#x3D;&gt; res.status(201).json(item)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  itemService.getItemById(req.params.id).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction updateItem(req, res, next) {\n  itemService.updateItem(req.params.id, req.body).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n  itemService.deleteItem({\n    id: req.params.id\n  }).then(() &#x3D;&gt; res.json({\n    message: \&quot;Item deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwiUm9sZSIsIml0ZW1TZXJ2aWNlIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJwb3N0Iiwib3duZXIiLCJjcmVhdGUiLCJnZXQiLCJnZXRCeUlkIiwicGF0Y2giLCJ1cGRhdGVJdGVtIiwiZGVsZXRlIiwiZGVsZXRlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3JlYXRlSXRlbSIsImJvZHkiLCJ0aGVuIiwiaXRlbSIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImdldEl0ZW1CeUlkIiwicGFyYW1zIiwiaWQiLCJzZW5kU3RhdHVzIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsbUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQkwsT0FBTyxDQUFDLGtDQUFELENBQXZDOztBQUNBLE1BQU1NLElBQUksR0FBR04sT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1PLFdBQVcsR0FBR1AsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUVBLE1BQU1RLE1BQU0sR0FBR1QsT0FBTyxDQUFDVSxNQUFSLENBQWU7QUFDMUJDLEVBQUFBLFdBQVcsRUFBRTtBQURhLENBQWYsQ0FBZjtBQUlBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCUCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBckIsRUFBcUNQLE9BQU8sRUFBNUMsRUFBZ0RKLFlBQWhELEVBQThEWSxNQUE5RDtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxNQUFYLEVBQW1CVixJQUFJLEVBQXZCLEVBQTJCVyxPQUEzQjtBQUNBUCxNQUFNLENBQUNRLEtBQVAsQ0FBYSxNQUFiLEVBQXFCWixJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBekIsRUFBeUNQLE9BQU8sRUFBaEQsRUFBb0RILFlBQXBELEVBQWtFZSxVQUFsRTtBQUNBVCxNQUFNLENBQUNVLE1BQVAsQ0FBYyxNQUFkLEVBQXNCZCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBMUIsRUFBMENQLE9BQU8sRUFBakQsRUFBcURjLFVBQXJEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakI7O0FBRUEsU0FBU0ssTUFBVCxDQUFnQlMsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QmpCLEVBQUFBLFdBQVcsQ0FDTmtCLFVBREwsQ0FDZ0JILEdBQUcsQ0FBQ0ksSUFEcEIsRUFFS0MsSUFGTCxDQUVXQyxJQUFELElBQVVMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixJQUFyQixDQUZwQixFQUdLRyxLQUhMLENBR1dQLElBSFg7QUFJSDs7QUFFRCxTQUFTVCxPQUFULENBQWlCTyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCakIsRUFBQUEsV0FBVyxDQUNOeUIsV0FETCxDQUNpQlYsR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDVCLEVBRUtQLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU1AsVUFBVCxDQUFvQkssR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlUsVUFETCxDQUNnQkssR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDNCLEVBQytCWixHQUFHLENBQUNJLElBRG5DLEVBRUtDLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU0wsVUFBVCxDQUFvQkcsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlksVUFETCxDQUNnQjtBQUFFZSxJQUFBQSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ1csTUFBSixDQUFXQztBQUFqQixHQURoQixFQUVLUCxJQUZMLENBRVUsTUFDRkosR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDTE0sSUFBQUEsT0FBTyxFQUFFLDJCQURKO0FBRUxGLElBQUFBLEVBQUUsRUFBRVosR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBRlYsR0FBVCxDQUhSLEVBUUtILEtBUkwsQ0FRV1AsSUFSWDtBQVNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vaXRlbS52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBpdGVtU2VydmljZSA9IHJlcXVpcmUoXCIuL2l0ZW0uc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBpc093bmVyKCksIHVwZGF0ZVNjaGVtYSwgdXBkYXRlSXRlbSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgZGVsZXRlSXRlbSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5mdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuY3JlYXRlSXRlbShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHJlcy5zdGF0dXMoMjAxKS5qc29uKGl0ZW0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuZ2V0SXRlbUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IChpdGVtID8gcmVzLmpzb24oaXRlbSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJdGVtKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaXRlbVNlcnZpY2VcbiAgICAgICAgLnVwZGF0ZUl0ZW0ocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiAoaXRlbSA&#x2F;IHJlcy5qc29uKGl0ZW0pIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIGl0ZW1TZXJ2aWNlXG4gICAgICAgIC5kZWxldGVJdGVtKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSlcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    itemService\n        .createItem(req.body)\n        .then((item) &#x3D;&gt; res.status(201).json(item))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    itemService\n        .getItemById(req.params.id)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction updateItem(req, res, next) {\n    itemService\n        .updateItem(req.params.id, req.body)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n    itemService\n        .deleteItem({ id: req.params.id })\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Item deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;de&#x2F;itemroutes_de9b46cc999b0a12213b699c8d15bd22.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2956&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6599,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6596,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 717,
                    &quot;endOffset&quot;: 841,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 843,
                    &quot;endOffset&quot;: 991,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 993,
                    &quot;endOffset&quot;: 1153,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1155,
                    &quot;endOffset&quot;: 1353,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    price: Joi.number().required(),\n    quantity: Joi.number().required(),\n    description: Joi.string().required(),\n    image_url: Joi.string(),\n    category_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    price: Joi.number().empty(\&quot;\&quot;),\n    quantity: Joi.number().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    image_url: Joi.string(),\n    category_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0udmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJwcmljZSIsIm51bWJlciIsInF1YW50aXR5IiwiZGVzY3JpcHRpb24iLCJpbWFnZV91cmwiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsNkNBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxLQUFLLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiLEVBRmU7QUFHdEJHLElBQUFBLFFBQVEsRUFBRWYsR0FBRyxDQUFDYyxNQUFKLEdBQWFGLFFBQWIsRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFKUztBQUt0QkssSUFBQUEsU0FBUyxFQUFFakIsR0FBRyxDQUFDVyxNQUFKLEVBTFc7QUFNdEJPLElBQUFBLFdBQVcsRUFBRWxCLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBTlMsR0FBWCxDQUFmO0FBUUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVkQ7O0FBWUFMLE9BQU8sQ0FBQ2dCLFlBQVIsR0FBdUIsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTWEsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhVSxLQUFiLENBQW1CLEVBQW5CLENBRFU7QUFFaEJSLElBQUFBLEtBQUssRUFBRWIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkIsQ0FGUztBQUdoQk4sSUFBQUEsUUFBUSxFQUFFZixHQUFHLENBQUNjLE1BQUosR0FBYU8sS0FBYixDQUFtQixFQUFuQixDQUhNO0FBSWhCTCxJQUFBQSxXQUFXLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYVUsS0FBYixDQUFtQixFQUFuQixDQUpHO0FBS2hCSixJQUFBQSxTQUFTLEVBQUVqQixHQUFHLENBQUNXLE1BQUosRUFMSztBQU1oQk8sSUFBQUEsV0FBVyxFQUFFbEIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkI7QUFORyxHQUFwQjtBQVNBLFFBQU1iLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdXLFdBQVgsQ0FBZjtBQUVBbEIsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHByaWNlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGltYWdlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBjYXRlZ29yeV9pZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMudXBkYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hUnVsZXMgPSB7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHJpY2U6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgaW1hZ2VfdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgICAgIGNhdGVnb3J5X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        description: Joi.string().required(),\n        image_url: Joi.string(),\n        category_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        price: Joi.number().empty(\&quot;\&quot;),\n        quantity: Joi.number().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        image_url: Joi.string(),\n        category_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;b3&#x2F;itemvalidators_b3b5560b6fc02d936e24d53b4a41cdcb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2957&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4275,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4272,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 222,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 567,
                    &quot;endOffset&quot;: 916,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createItem,\n  getItemById,\n  updateItem,\n  deleteItem\n};\n\nasync function createItem(params) {\n  const item &#x3D; await Item.query().insert(params);\n  return basicDetails(item);\n}\n\nasync function getItemById(id) {\n  const item &#x3D; await getItem({\n    id\n  });\n  return item;\n}\n\nasync function updateItem(id, params) {\n  const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n  return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n  await Item.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getItem(params) {\n  const item &#x3D; await Item.query().where({ ...params\n  }).first();\n  return item;\n}\n\nfunction basicDetails(item) {\n  const {\n    id,\n    name,\n    description\n  } &#x3D; item;\n  return {\n    id,\n    name,\n    description\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0uc2VydmljZS5qcyJdLCJuYW1lcyI6WyJJdGVtIiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZUl0ZW0iLCJnZXRJdGVtQnlJZCIsInVwZGF0ZUl0ZW0iLCJkZWxldGVJdGVtIiwicGFyYW1zIiwiaXRlbSIsInF1ZXJ5IiwiaW5zZXJ0IiwiYmFzaWNEZXRhaWxzIiwiaWQiLCJnZXRJdGVtIiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsIndoZXJlIiwiZmlyc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFdBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQTtBQUphLENBQWpCOztBQU9BLGVBQWVILFVBQWYsQ0FBMEJJLE1BQTFCLEVBQWtDO0FBQzlCLFFBQU1DLElBQUksR0FBRyxNQUFNVixJQUFJLENBQUNXLEtBQUwsR0FBYUMsTUFBYixDQUFvQkgsTUFBcEIsQ0FBbkI7QUFDQSxTQUFPSSxZQUFZLENBQUNILElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlSixXQUFmLENBQTJCUSxFQUEzQixFQUErQjtBQUMzQixRQUFNSixJQUFJLEdBQUcsTUFBTUssT0FBTyxDQUFDO0FBQUVELElBQUFBO0FBQUYsR0FBRCxDQUExQjtBQUNBLFNBQU9KLElBQVA7QUFDSDs7QUFFRCxlQUFlSCxVQUFmLENBQTBCTyxFQUExQixFQUE4QkwsTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUYsVUFBVSxHQUFHLE1BQU1QLElBQUksQ0FBQ1csS0FBTCxHQUFhSyxpQkFBYixDQUErQkYsRUFBL0IsRUFBbUNMLE1BQW5DLENBQXpCO0FBRUEsU0FBT0YsVUFBUDtBQUNIOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJTLFdBQTFCLEVBQXVDO0FBQ25DLFFBQU1qQixJQUFJLENBQUNXLEtBQUwsR0FBYU8sTUFBYixDQUFvQixFQUFFLEdBQUdEO0FBQUwsR0FBcEIsQ0FBTjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZUYsT0FBZixDQUF1Qk4sTUFBdkIsRUFBK0I7QUFDM0IsUUFBTUMsSUFBSSxHQUFHLE1BQU1WLElBQUksQ0FBQ1csS0FBTCxHQUNkUSxLQURjLENBQ1IsRUFBRSxHQUFHVjtBQUFMLEdBRFEsRUFFZFcsS0FGYyxFQUFuQjtBQUdBLFNBQU9WLElBQVA7QUFDSDs7QUFFRCxTQUFTRyxZQUFULENBQXNCSCxJQUF0QixFQUE0QjtBQUN4QixRQUFNO0FBQUVJLElBQUFBLEVBQUY7QUFBTU8sSUFBQUEsSUFBTjtBQUFZQyxJQUFBQTtBQUFaLE1BQTRCWixJQUFsQztBQUNBLFNBQU87QUFBRUksSUFBQUEsRUFBRjtBQUFNTyxJQUFBQSxJQUFOO0FBQVlDLElBQUFBO0FBQVosR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSXRlbSA9IHJlcXVpcmUoXCIuL2l0ZW0ubW9kZWxcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlSXRlbSxcbiAgICBnZXRJdGVtQnlJZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGRlbGV0ZUl0ZW0sXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhpdGVtKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUJ5SWQoaWQpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgZ2V0SXRlbSh7IGlkIH0pO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gYXdhaXQgSXRlbS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0ocXVlcnlQYXJhbXMpIHtcbiAgICBhd2FpdCBJdGVtLnF1ZXJ5KCkuZGVsZXRlKHsgLi4ucXVlcnlQYXJhbXMgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT0gaGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW1zIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoaXRlbSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBpdGVtO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createItem,\n    getItemById,\n    updateItem,\n    deleteItem,\n};\n\nasync function createItem(params) {\n    const item &#x3D; await Item.query().insert(params);\n    return basicDetails(item);\n}\n\nasync function getItemById(id) {\n    const item &#x3D; await getItem({ id });\n    return item;\n}\n\nasync function updateItem(id, params) {\n    const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n\n    return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n    await Item.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function getItem(params) {\n    const item &#x3D; await Item.query()\n        .where({ ...params })\n        .first();\n    return item;\n}\n\nfunction basicDetails(item) {\n    const { id, name, description } &#x3D; item;\n    return { id, name, description };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;37&#x2F;itemservice_37723bc6ce9a1333746fd65833e30b1c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2958&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4281,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4278,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;createItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 261,
                    &quot;endOffset&quot;: 377,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItemById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 474,
                    &quot;endOffset&quot;: 607,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 609,
                    &quot;endOffset&quot;: 702,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 765,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 882,
                    &quot;endOffset&quot;: 1019,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n  static get tableName() {\n    return tableNames.item;\n  }\n\n  static get relationMappings() {\n    const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      category: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Category,\n        join: {\n          from: &#x60;${tableNames.item}.category_id&#x60;,\n          to: &#x60;${tableNames.category}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Item;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiQ2F0ZWdvcnkiLCJJdGVtIiwidGFibGVOYW1lIiwiaXRlbSIsInJlbGF0aW9uTWFwcGluZ3MiLCJjYXRlZ29yeSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsImtuZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsbUJBQUQsQ0FBbEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksSUFBTixTQUFtQkwsS0FBbkIsQ0FBeUI7QUFDckIsYUFBV00sU0FBWCxHQUF1QjtBQUNuQixXQUFPSixVQUFVLENBQUNLLElBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUosUUFBUSxHQUFHSCxPQUFPLENBQUMsK0JBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIUSxNQUFBQSxRQUFRLEVBQUU7QUFDTkMsUUFBQUEsUUFBUSxFQUFFVixLQUFLLENBQUNXLG9CQURWO0FBRU5DLFFBQUFBLFVBQVUsRUFBRVIsUUFGTjtBQUdOUyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVaLFVBQVUsQ0FBQ0ssSUFBSyxjQUR2QjtBQUVGUSxVQUFBQSxFQUFFLEVBQUcsR0FBRWIsVUFBVSxDQUFDTyxRQUFTO0FBRnpCO0FBSEE7QUFEUCxLQUFQO0FBVUg7O0FBbEJvQjs7QUFxQnpCVCxLQUFLLENBQUNnQixJQUFOLENBQVdiLEVBQVg7QUFFQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vZGJcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuLi9jYXRlZ29yeS5tb2RlbFwiKTtcblxuY2xhc3MgSXRlbSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuaXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZShcIi4uLy4uL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMuaXRlbX0uY2F0ZWdvcnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jYXRlZ29yeX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n    static get tableName() {\n        return tableNames.item;\n    }\n\n    static get relationMappings() {\n        const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            category: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Category,\n                join: {\n                    from: &#x60;${tableNames.item}.category_id&#x60;,\n                    to: &#x60;${tableNames.category}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Item;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;bd&#x2F;itemmodel_bde36e534327c1a1231475da3047e2a2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2959&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3171,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Item&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 290,
                    &quot;endOffset&quot;: 290,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 326,
                    &quot;endOffset&quot;: 375,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 386,
                    &quot;endOffset&quot;: 718,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n  static get tableName() {\n    return tableNames.category;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n\n    const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n    return {\n      menu: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Menu,\n        join: {\n          from: &#x60;${tableName.category}.menu_id&#x60;,\n          to: &#x60;${tableNames.menu}.id&#x60;\n        }\n      },\n      items: {\n        relation: Model.HasManyRelation,\n        modelClasss: Item,\n        join: {\n          from: &#x60;${tableNames.category}.id&#x60;,\n          to: &#x60;${tableNames.item}.category_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Category;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsImRiIiwic2NoZW1hIiwidGFibGVOYW1lcyIsIkNhdGVnb3J5IiwidGFibGVOYW1lIiwiY2F0ZWdvcnkiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIk1lbnUiLCJJdGVtIiwibWVudSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJpdGVtcyIsIkhhc01hbnlSZWxhdGlvbiIsIml0ZW0iLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBLE1BQU1JLFFBQU4sU0FBdUJMLEtBQXZCLENBQTZCO0FBQ3pCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUMsZUFBRCxDQUFwQjs7QUFDQSxVQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyx5QkFBRCxDQUFwQjs7QUFFQSxXQUFPO0FBQ0hXLE1BQUFBLElBQUksRUFBRTtBQUNGQyxRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ2Msb0JBRGQ7QUFFRkMsUUFBQUEsV0FBVyxFQUFFTCxJQUZYO0FBR0ZNLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRVgsU0FBUyxDQUFDQyxRQUFTLFVBRDFCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNRLElBQUs7QUFGckI7QUFISixPQURIO0FBU0hPLE1BQUFBLEtBQUssRUFBRTtBQUNITixRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ29CLGVBRGI7QUFFSEwsUUFBQUEsV0FBVyxFQUFFSixJQUZWO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWIsVUFBVSxDQUFDRyxRQUFTLEtBRDNCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEg7QUFUSixLQUFQO0FBa0JIOztBQWhDd0I7O0FBbUM3QnJCLEtBQUssQ0FBQ3NCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RiXCIpO1xuY29uc3Qgc2NoZW1hID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBDYXRlZ29yeSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUubW9kZWxcIik7XG4gICAgICAgIGNvbnN0IEl0ZW0gPSByZXF1aXJlKFwiLi4vbWVudS9pdGVtL2l0ZW0ubW9kZWxcIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IE1lbnUsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWUuY2F0ZWdvcnl9Lm1lbnVfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IEl0ZW0sXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLml0ZW19LmNhdGVnb3J5X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhdGVnb3J5O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n    static get tableName() {\n        return tableNames.category;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n        const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n        return {\n            menu: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Menu,\n                join: {\n                    from: &#x60;${tableName.category}.menu_id&#x60;,\n                    to: &#x60;${tableNames.menu}.id&#x60;,\n                },\n            },\n            items: {\n                relation: Model.HasManyRelation,\n                modelClasss: Item,\n                join: {\n                    from: &#x60;${tableNames.category}.id&#x60;,\n                    to: &#x60;${tableNames.item}.category_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Category;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0e&#x2F;categorymodel_0ef83f3e2352e4f7122c2a335cba1fb2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2960&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4654,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4651,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Category&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 287,
                    &quot;endOffset&quot;: 287,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 327,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 432,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 443,
                    &quot;endOffset&quot;: 1073,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createCategory,\n  updateCategory,\n  getAllCategory,\n  getAllCompanyCategorys,\n  getCategoryById,\n  _delete\n};\n\nasync function createCategory(params) {\n  const category &#x3D; await Category.query().insert(params);\n  return category;\n}\n\nasync function updateCategory(id, params) {\n  const category &#x3D; await getCategory({\n    id\n  }); &#x2F;&#x2F;check if category name is duplicated\n\n  if (params.name &amp;&amp; category.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCategory({\n    name: params.name,\n    menu_id: params.menu_id\n  }))) {\n    error(&#x60;Category ${params.name} already exists&#x60;);\n  }\n\n  const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, { ...params\n  });\n  return updatedcategory;\n}\n\nasync function getAllCategory() {\n  const categorys &#x3D; await Category.query();\n  return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n  const categorys &#x3D; await Category.query({ ...params\n  });\n  return categorys;\n}\n\nasync function getCategoryById(id) {\n  const category &#x3D; await getCategory({\n    id\n  });\n  return category;\n}\n\nasync function _delete(queryParams) {\n  await Category.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCategory(param) {\n  const category &#x3D; await Category.query().where({ ...param\n  }).withGraphFetched(\&quot;items\&quot;).first();\n  return category;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiQ2F0ZWdvcnkiLCJyZXF1aXJlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlQ2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImdldEFsbENhdGVnb3J5IiwiZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyIsImdldENhdGVnb3J5QnlJZCIsIl9kZWxldGUiLCJwYXJhbXMiLCJjYXRlZ29yeSIsInF1ZXJ5IiwiaW5zZXJ0IiwiaWQiLCJnZXRDYXRlZ29yeSIsIm5hbWUiLCJtZW51X2lkIiwidXBkYXRlZGNhdGVnb3J5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJjYXRlZ29yeXMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2hlcmUiLCJ3aXRoR3JhcGhGZXRjaGVkIiwiZmlyc3QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXhCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQXJCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsY0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLGNBSGE7QUFJYkMsRUFBQUEsc0JBSmE7QUFLYkMsRUFBQUEsZUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLGNBQWYsQ0FBOEJNLE1BQTlCLEVBQXNDO0FBQ2xDLFFBQU1DLFFBQVEsR0FBRyxNQUFNWixRQUFRLENBQUNhLEtBQVQsR0FBaUJDLE1BQWpCLENBQXdCSCxNQUF4QixDQUF2QjtBQUNBLFNBQU9DLFFBQVA7QUFDSDs7QUFFRCxlQUFlTixjQUFmLENBQThCUyxFQUE5QixFQUFrQ0osTUFBbEMsRUFBMEM7QUFDdEMsUUFBTUMsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEMsQ0FEc0MsQ0FFdEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLFFBQVEsQ0FBQ0ssSUFBVCxLQUFrQk4sTUFBTSxDQUFDTSxJQUR6QixLQUVDLE1BQU1ELFdBQVcsQ0FBQztBQUNmQyxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ00sSUFERTtBQUVmQyxJQUFBQSxPQUFPLEVBQUVQLE1BQU0sQ0FBQ087QUFGRCxHQUFELENBRmxCLENBREosRUFPRTtBQUNFaEIsSUFBQUEsS0FBSyxDQUFFLFlBQVdTLE1BQU0sQ0FBQ00sSUFBSyxpQkFBekIsQ0FBTDtBQUNIOztBQUNELFFBQU1FLGVBQWUsR0FBRyxNQUFNbkIsUUFBUSxDQUFDYSxLQUFULEdBQWlCTyxpQkFBakIsQ0FBbUNMLEVBQW5DLEVBQXVDLEVBQ2pFLEdBQUdKO0FBRDhELEdBQXZDLENBQTlCO0FBSUEsU0FBT1EsZUFBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsR0FBZ0M7QUFDNUIsUUFBTWMsU0FBUyxHQUFHLE1BQU1yQixRQUFRLENBQUNhLEtBQVQsRUFBeEI7QUFDQSxTQUFPUSxTQUFQO0FBQ0g7O0FBRUQsZUFBZWIsc0JBQWYsQ0FBc0NHLE1BQXRDLEVBQThDO0FBQzFDLFFBQU1VLFNBQVMsR0FBRyxNQUFNckIsUUFBUSxDQUFDYSxLQUFULENBQWUsRUFBRSxHQUFHRjtBQUFMLEdBQWYsQ0FBeEI7QUFDQSxTQUFPVSxTQUFQO0FBQ0g7O0FBRUQsZUFBZVosZUFBZixDQUErQk0sRUFBL0IsRUFBbUM7QUFDL0IsUUFBTUgsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEM7QUFDQSxTQUFPSCxRQUFQO0FBQ0g7O0FBRUQsZUFBZUYsT0FBZixDQUF1QlksV0FBdkIsRUFBb0M7QUFDaEMsUUFBTXRCLFFBQVEsQ0FBQ2EsS0FBVCxHQUFpQlUsTUFBakIsQ0FBd0IsRUFBRSxHQUFHRDtBQUFMLEdBQXhCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZU4sV0FBZixDQUEyQlEsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTVosUUFBUSxHQUFHLE1BQU1aLFFBQVEsQ0FBQ2EsS0FBVCxHQUNsQlksS0FEa0IsQ0FDWixFQUFFLEdBQUdEO0FBQUwsR0FEWSxFQUVsQkUsZ0JBRmtCLENBRUQsT0FGQyxFQUdsQkMsS0FIa0IsRUFBdkI7QUFLQSxTQUFPZixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNhdGVnb3J5LFxuICAgIHVwZGF0ZUNhdGVnb3J5LFxuICAgIGdldEFsbENhdGVnb3J5LFxuICAgIGdldEFsbENvbXBhbnlDYXRlZ29yeXMsXG4gICAgZ2V0Q2F0ZWdvcnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBnZXRDYXRlZ29yeSh7IGlkIH0pO1xuICAgIC8vY2hlY2sgaWYgY2F0ZWdvcnkgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjYXRlZ29yeS5uYW1lICE9PSBwYXJhbXMubmFtZSAmJlxuICAgICAgICAoYXdhaXQgZ2V0Q2F0ZWdvcnkoe1xuICAgICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgICBtZW51X2lkOiBwYXJhbXMubWVudV9pZCxcbiAgICAgICAgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBDYXRlZ29yeSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkY2F0ZWdvcnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5KCkge1xuICAgIGNvbnN0IGNhdGVnb3J5cyA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNhdGVnb3J5cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyhwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeXMgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSh7IC4uLnBhcmFtcyB9KTtcbiAgICByZXR1cm4gY2F0ZWdvcnlzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGdldENhdGVnb3J5KHsgaWQgfSk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKHF1ZXJ5UGFyYW1zKSB7XG4gICAgYXdhaXQgQ2F0ZWdvcnkucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IGNhdGVnb3J5LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhdGVnb3J5KHBhcmFtKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIilcbiAgICAgICAgLmZpcnN0KCk7XG5cbiAgICByZXR1cm4gY2F0ZWdvcnk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createCategory,\n    updateCategory,\n    getAllCategory,\n    getAllCompanyCategorys,\n    getCategoryById,\n    _delete,\n};\n\nasync function createCategory(params) {\n    const category &#x3D; await Category.query().insert(params);\n    return category;\n}\n\nasync function updateCategory(id, params) {\n    const category &#x3D; await getCategory({ id });\n    &#x2F;&#x2F;check if category name is duplicated\n    if (\n        params.name &amp;&amp;\n        category.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCategory({\n            name: params.name,\n            menu_id: params.menu_id,\n        }))\n    ) {\n        error(&#x60;Category ${params.name} already exists&#x60;);\n    }\n    const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedcategory;\n}\n\nasync function getAllCategory() {\n    const categorys &#x3D; await Category.query();\n    return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n    const categorys &#x3D; await Category.query({ ...params });\n    return categorys;\n}\n\nasync function getCategoryById(id) {\n    const category &#x3D; await getCategory({ id });\n    return category;\n}\n\nasync function _delete(queryParams) {\n    await Category.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCategory(param) {\n    const category &#x3D; await Category.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;items\&quot;)\n        .first();\n\n    return category;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;af&#x2F;categoryservice_af4a088c54a063175cdbab3d375f5ef2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2961&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6647,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6644,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;createCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 319,
                    &quot;endOffset&quot;: 437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 439,
                    &quot;endOffset&quot;: 884,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 886,
                    &quot;endOffset&quot;: 985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 987,
                    &quot;endOffset&quot;: 1115,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1117,
                    &quot;endOffset&quot;: 1226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1228,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1462,
                    &quot;endOffset&quot;: 1617,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createMenu,\n  updateMenu,\n  getAllMenu,\n  getAllCompanyMenus,\n  getMenuById,\n  _delete\n};\n\nasync function createMenu(params) {\n  const menu &#x3D; await Menu.query().insert(params);\n  return menu;\n}\n\nasync function updateMenu(id, params) {\n  const menu &#x3D; await getMenu({\n    id\n  }); &#x2F;&#x2F;check if menu name is duplicated\n\n  if (params.name &amp;&amp; menu.name !&#x3D;&#x3D; params.name &amp;&amp; (await getMenu({\n    name: params.name,\n    company_id: params.company_id\n  }))) {\n    error(&#x60;Menu ${params.name} already exists&#x60;);\n  }\n\n  const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, { ...params\n  });\n  return updatedmenu;\n}\n\nasync function getAllMenu() {\n  const menus &#x3D; await Menu.query();\n  return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n  const menus &#x3D; await Menu.query().where({ ...params\n  });\n  return menus;\n}\n\nasync function getMenuById(id) {\n  const menu &#x3D; await getMenu({\n    id\n  });\n  return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n  await Menu.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getMenu(param) {\n  const menu &#x3D; await Menu.query().where({ ...param\n  }).withGraphFetched(\&quot;categories\&quot;).first();\n  return menu;\n}\n\nfunction basicDetails(menu) {\n  const {\n    id,\n    name,\n    company_id,\n    categories\n  } &#x3D; menu;\n  return {\n    id,\n    name,\n    company_id,\n    categories\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJNZW51IiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU1lbnUiLCJ1cGRhdGVNZW51IiwiZ2V0QWxsTWVudSIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwiX2RlbGV0ZSIsInBhcmFtcyIsIm1lbnUiLCJxdWVyeSIsImluc2VydCIsImlkIiwiZ2V0TWVudSIsIm5hbWUiLCJjb21wYW55X2lkIiwidXBkYXRlZG1lbnUiLCJwYXRjaEFuZEZldGNoQnlJZCIsIm1lbnVzIiwid2hlcmUiLCJiYXNpY0RldGFpbHMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2l0aEdyYXBoRmV0Y2hlZCIsImZpcnN0IiwiY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFVBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQSxrQkFKYTtBQUtiQyxFQUFBQSxXQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsVUFBZixDQUEwQk0sTUFBMUIsRUFBa0M7QUFDOUIsUUFBTUMsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUFhQyxNQUFiLENBQW9CSCxNQUFwQixDQUFuQjtBQUNBLFNBQU9DLElBQVA7QUFDSDs7QUFFRCxlQUFlTixVQUFmLENBQTBCUyxFQUExQixFQUE4QkosTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLElBQUksQ0FBQ0ssSUFBTCxLQUFjTixNQUFNLENBQUNNLElBRHJCLEtBRUMsTUFBTUQsT0FBTyxDQUFDO0FBQ1hDLElBQUFBLElBQUksRUFBRU4sTUFBTSxDQUFDTSxJQURGO0FBRVhDLElBQUFBLFVBQVUsRUFBRVAsTUFBTSxDQUFDTztBQUZSLEdBQUQsQ0FGZCxDQURKLEVBT0U7QUFDRWhCLElBQUFBLEtBQUssQ0FBRSxRQUFPUyxNQUFNLENBQUNNLElBQUssaUJBQXJCLENBQUw7QUFDSDs7QUFDRCxRQUFNRSxXQUFXLEdBQUcsTUFBTW5CLElBQUksQ0FBQ2EsS0FBTCxHQUFhTyxpQkFBYixDQUErQkwsRUFBL0IsRUFBbUMsRUFDekQsR0FBR0o7QUFEc0QsR0FBbkMsQ0FBMUI7QUFJQSxTQUFPUSxXQUFQO0FBQ0g7O0FBRUQsZUFBZVosVUFBZixHQUE0QjtBQUN4QixRQUFNYyxLQUFLLEdBQUcsTUFBTXJCLElBQUksQ0FBQ2EsS0FBTCxFQUFwQjtBQUNBLFNBQU9RLEtBQVA7QUFDSDs7QUFFRCxlQUFlYixrQkFBZixDQUFrQ0csTUFBbEMsRUFBMEM7QUFDdEMsUUFBTVUsS0FBSyxHQUFHLE1BQU1yQixJQUFJLENBQUNhLEtBQUwsR0FBYVMsS0FBYixDQUFtQixFQUFFLEdBQUdYO0FBQUwsR0FBbkIsQ0FBcEI7QUFDQSxTQUFPVSxLQUFQO0FBQ0g7O0FBRUQsZUFBZVosV0FBZixDQUEyQk0sRUFBM0IsRUFBK0I7QUFDM0IsUUFBTUgsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUI7QUFDQSxTQUFPUSxZQUFZLENBQUNYLElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlRixPQUFmLENBQXVCYyxXQUF2QixFQUFvQztBQUNoQyxRQUFNeEIsSUFBSSxDQUFDYSxLQUFMLEdBQWFZLE1BQWIsQ0FBb0IsRUFBRSxHQUFHRDtBQUFMLEdBQXBCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZVIsT0FBZixDQUF1QlUsS0FBdkIsRUFBOEI7QUFDMUIsUUFBTWQsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUNkUyxLQURjLENBQ1IsRUFBRSxHQUFHSTtBQUFMLEdBRFEsRUFFZEMsZ0JBRmMsQ0FFRyxZQUZILEVBR2RDLEtBSGMsRUFBbkI7QUFJQSxTQUFPaEIsSUFBUDtBQUNIOztBQUVELFNBQVNXLFlBQVQsQ0FBc0JYLElBQXRCLEVBQTRCO0FBQ3hCLFFBQU07QUFBRUcsSUFBQUEsRUFBRjtBQUFNRSxJQUFBQSxJQUFOO0FBQVlDLElBQUFBLFVBQVo7QUFBd0JXLElBQUFBO0FBQXhCLE1BQXVDakIsSUFBN0M7QUFFQSxTQUFPO0FBQUVHLElBQUFBLEVBQUY7QUFBTUUsSUFBQUEsSUFBTjtBQUFZQyxJQUFBQSxVQUFaO0FBQXdCVyxJQUFBQTtBQUF4QixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUvbWVudS5tb2RlbFwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVNZW51LFxuICAgIHVwZGF0ZU1lbnUsXG4gICAgZ2V0QWxsTWVudSxcbiAgICBnZXRBbGxDb21wYW55TWVudXMsXG4gICAgZ2V0TWVudUJ5SWQsXG4gICAgX2RlbGV0ZSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lbnUocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gbWVudTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IGdldE1lbnUoeyBpZCB9KTtcbiAgICAvL2NoZWNrIGlmIG1lbnUgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBtZW51Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRNZW51KHtcbiAgICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgICAgY29tcGFueV9pZDogcGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgIH0pKVxuICAgICkge1xuICAgICAgICBlcnJvcihgTWVudSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZG1lbnU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbE1lbnUoKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW55TWVudXMocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCkud2hlcmUoeyAuLi5wYXJhbXMgfSk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW51QnlJZChpZCkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBnZXRNZW51KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhtZW51KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGF3YWl0IE1lbnUucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IG1lbnUucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcblxuLy8gfVxuXG4vLyA9PT09PT09PT09PSBoZWxwZXJzPT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVudShwYXJhbSkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBNZW51LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW0gfSlcbiAgICAgICAgLndpdGhHcmFwaEZldGNoZWQoXCJjYXRlZ29yaWVzXCIpXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBtZW51O1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMobWVudSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGNvbXBhbnlfaWQsIGNhdGVnb3JpZXMgfSA9IG1lbnU7XG5cbiAgICByZXR1cm4geyBpZCwgbmFtZSwgY29tcGFueV9pZCwgY2F0ZWdvcmllcyB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createMenu,\n    updateMenu,\n    getAllMenu,\n    getAllCompanyMenus,\n    getMenuById,\n    _delete,\n};\n\nasync function createMenu(params) {\n    const menu &#x3D; await Menu.query().insert(params);\n    return menu;\n}\n\nasync function updateMenu(id, params) {\n    const menu &#x3D; await getMenu({ id });\n    &#x2F;&#x2F;check if menu name is duplicated\n    if (\n        params.name &amp;&amp;\n        menu.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getMenu({\n            name: params.name,\n            company_id: params.company_id,\n        }))\n    ) {\n        error(&#x60;Menu ${params.name} already exists&#x60;);\n    }\n    const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedmenu;\n}\n\nasync function getAllMenu() {\n    const menus &#x3D; await Menu.query();\n    return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n    const menus &#x3D; await Menu.query().where({ ...params });\n    return menus;\n}\n\nasync function getMenuById(id) {\n    const menu &#x3D; await getMenu({ id });\n    return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n    await Menu.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getMenu(param) {\n    const menu &#x3D; await Menu.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;categories\&quot;)\n        .first();\n    return menu;\n}\n\nfunction basicDetails(menu) {\n    const { id, name, company_id, categories } &#x3D; menu;\n\n    return { id, name, company_id, categories };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f7&#x2F;menuservice_f7dbb9eba4d4e93803a88e42e2790161.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2962&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7024,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7021,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;createMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 294,
                    &quot;endOffset&quot;: 396,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 398,
                    &quot;endOffset&quot;: 809,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 811,
                    &quot;endOffset&quot;: 894,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 896,
                    &quot;endOffset&quot;: 1016,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1018,
                    &quot;endOffset&quot;: 1125,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1127,
                    &quot;endOffset&quot;: 1217,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1353,
                    &quot;endOffset&quot;: 1497,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1499,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n  static get tableName() {\n    return tableNames.menu;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Company,\n        join: {\n          from: &#x60;${tableNames.menu}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      },\n      categories: {\n        relation: Model.HasManyRelation,\n        modelClasss: Category,\n        join: {\n          from: &#x60;${tableNames.menu}.id&#x60;,\n          to: &#x60;${tableNames.category}.menu_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Menu;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwiZGIiLCJzY2hlbWEiLCJ0YWJsZU5hbWVzIiwiTWVudSIsInRhYmxlTmFtZSIsIm1lbnUiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIkNvbXBhbnkiLCJDYXRlZ29yeSIsImNvbXBhbnkiLCJyZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwibW9kZWxDbGFzc3MiLCJqb2luIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsIkhhc01hbnlSZWxhdGlvbiIsImNhdGVnb3J5Iiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUVBLE1BQU1JLElBQU4sU0FBbUJMLEtBQW5CLENBQXlCO0FBQ3JCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxJQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHVCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVUsUUFBUSxHQUFHVixPQUFPLENBQUMsMkJBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIVyxNQUFBQSxPQUFPLEVBQUU7QUFDTEMsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNjLG9CQURYO0FBRUxDLFFBQUFBLFdBQVcsRUFBRUwsT0FGUjtBQUdMTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxhQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDUSxPQUFRO0FBRnhCO0FBSEQsT0FETjtBQVNITyxNQUFBQSxVQUFVLEVBQUU7QUFDUk4sUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNvQixlQURSO0FBRVJMLFFBQUFBLFdBQVcsRUFBRUosUUFGTDtBQUdSSyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxLQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDaUIsUUFBUztBQUZ6QjtBQUhFO0FBVFQsS0FBUDtBQWtCSDs7QUFoQ29COztBQW1DekJyQixLQUFLLENBQUNzQixJQUFOLENBQVdwQixFQUFYO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL21lbnUuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBNZW51IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5tZW51O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIC8vIEltcG9ydGluZyBtb2RlbHMgaGVyZSBpcyBhIG9uZSB3YXkgdG8gYXZvaWQgcmVxdWlyZSBsb29wcy5cbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3NzOiBDb21wYW55LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMuY29tcGFueX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2F0ZWdvcmllczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5tZW51X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n    static get tableName() {\n        return tableNames.menu;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Company,\n                join: {\n                    from: &#x60;${tableNames.menu}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n            categories: {\n                relation: Model.HasManyRelation,\n                modelClasss: Category,\n                join: {\n                    from: &#x60;${tableNames.menu}.id&#x60;,\n                    to: &#x60;${tableNames.category}.menu_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Menu;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e0&#x2F;menumodel_e012a4d71206586de4438d54cc8c48bf.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2963&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4674,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4671,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Menu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 277,
                    &quot;endOffset&quot;: 277,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 313,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 414,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 425,
                    &quot;endOffset&quot;: 1081,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createOrderSchema,\n  updateOrderSchema,\n  companyOrderSchema\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem); &#x2F;&#x2F; update an order item customer aka update cart item\n\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\&quot;&#x2F;:id\&quot;, updateOrderSchema, Auth([Role.staff, Role.owner]), updateOrder);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\&quot;&#x2F;company-orders\&quot;, companyOrderSchema, Auth([Role.owner, Role.staff]), getCompanyOrders);\n\nfunction createOrder(req, res, next) {\n  const payload &#x3D; {\n    customer_id: req.user.id,\n    company_id: req.params.company_id,\n    item: req.body\n  };\n  orderService.createOrder(payload).then(orderItem &#x3D;&gt; res.json({\n    message: &#x60;${orderItem.item} has been added to the cart&#x60;\n  })).catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n  orderService.updateOrder(req.params.id, req.user, req.body).then(order &#x3D;&gt; res.json(order)).catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n  orderService.getOrderById(id).then(order &#x3D;&gt; order ? res.json(order) : res.sendStatus(404)).catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n  orderService.getOwnOrders(req.user.id).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n  &#x2F;&#x2F; TODO to use query params\n  params.company_id &#x3D; req.params.company_id;\n  orderService.getCompanyOrders(params).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyU2NoZW1hIiwidXBkYXRlT3JkZXJTY2hlbWEiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJvcmRlclNlcnZpY2UiLCJPcmRlckl0ZW0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJjdXN0b21lciIsImNyZWF0ZU9yZGVyIiwicGF0Y2giLCJzdGFmZiIsIm93bmVyIiwidXBkYXRlT3JkZXIiLCJnZXQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicmVxIiwicmVzIiwibmV4dCIsInBheWxvYWQiLCJjdXN0b21lcl9pZCIsInVzZXIiLCJpZCIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJpdGVtIiwiYm9keSIsInRoZW4iLCJvcmRlckl0ZW0iLCJqc29uIiwibWVzc2FnZSIsImNhdGNoIiwib3JkZXIiLCJzZW5kU3RhdHVzIiwib3JkZXJzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLGlCQURFO0FBRUZDLEVBQUFBLGlCQUZFO0FBR0ZDLEVBQUFBO0FBSEUsSUFJRkgsT0FBTyxDQUFDLG9CQUFELENBSlg7O0FBS0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyw0QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUFwQjs7QUFDQSxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQSxNQUFNUSxTQUFTLEdBQUdSLE9BQU8sQ0FBQyw4QkFBRCxDQUF6Qjs7QUFFQSxNQUFNUyxN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QUlIOztBQUVELFNBQVNILGdCQUFULENBQTBCQyxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDO0FBRUFNLEVBQUFBLE1BQU0sQ0FBQ0QsVUFBUCxHQUFvQlAsR0FBRyxDQUFDUSxNQUFKLENBQVdELFVBQS9CO0FBQ0F4QixFQUFBQSxZQUFZLENBQ1BnQixnQkFETCxDQUNzQlMsTUFEdEIsRUFFS0csSUFGTCxDQUVXTyxNQUFELElBQWFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixDQUFoQixHQUFvQkQsTUFBcEIsR0FBNkJqQixHQUFHLENBQUNnQixVQUFKLENBQWUsR0FBZixDQUZwRCxFQUdLRixLQUhMLENBR1diLElBSFg7QUFJSDs7QUFDRGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge1xuICAgIGNyZWF0ZU9yZGVyU2NoZW1hLFxuICAgIHVwZGF0ZU9yZGVyU2NoZW1hLFxuICAgIGNvbXBhbnlPcmRlclNjaGVtYSxcbn0gPSByZXF1aXJlKFwiLi9vcmRlci52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi9vcmRlci5zZXJ2aWNlXCIpO1xuXG5jb25zdCBPcmRlckl0ZW0gPSByZXF1aXJlKFwiLi9vcmRlckl0ZW0vb3JkZXJJdGVtLnJvdXRlc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci51c2UoXCIvOm9yZGVyX2lkL29yZGVySXRlbVwiLCBPcmRlckl0ZW0pO1xuXG4vLyB1cGRhdGUgYW4gb3JkZXIgaXRlbSBjdXN0b21lciBha2EgdXBkYXRlIGNhcnQgaXRlbVxucm91dGVyLnBvc3QoXCIvXCIsIGNyZWF0ZU9yZGVyU2NoZW1hLCBBdXRoKFJvbGUuY3VzdG9tZXIpLCBjcmVhdGVPcmRlcik7XG5yb3V0ZXIucGF0Y2goXG4gICAgXCIvOmlkXCIsXG4gICAgdXBkYXRlT3JkZXJTY2hlbWEsXG4gICAgQXV0aChbUm9sZS5zdGFmZiwgUm9sZS5vd25lcl0pLFxuICAgIHVwZGF0ZU9yZGVyXG4pO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRPcmRlckJ5SWQpO1xucm91dGVyLmdldChcIi86aWQvbXktb3JkZXJzXCIsIEF1dGgoUm9sZS5jdXN0b21lciksIGdldE93bk9yZGVycyk7XG5yb3V0ZXIuZ2V0KFxuICAgIFwiL2NvbXBhbnktb3JkZXJzXCIsXG4gICAgY29tcGFueU9yZGVyU2NoZW1hLFxuICAgIEF1dGgoW1JvbGUub3duZXIsIFJvbGUuc3RhZmZdKSxcbiAgICBnZXRDb21wYW55T3JkZXJzXG4pO1xuXG5mdW5jdGlvbiBjcmVhdGVPcmRlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGN1c3RvbWVyX2lkOiByZXEudXNlci5pZCxcbiAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICBpdGVtOiByZXEuYm9keSxcbiAgICB9O1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuY3JlYXRlT3JkZXIocGF5bG9hZClcbiAgICAgICAgLnRoZW4oKG9yZGVySXRlbSkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtvcmRlckl0ZW0uaXRlbX0gaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGNhcnRgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgb3JkZXJTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVPcmRlcihyZXEucGFyYW1zLmlkLCByZXEudXNlciwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChvcmRlcikgPT4gcmVzLmpzb24ob3JkZXIpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE9yZGVyQnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3JkZXJCeUlkKGlkKVxuICAgICAgICAudGhlbigob3JkZXIpID0+IChvcmRlciA&#x2F;IHJlcy5qc29uKG9yZGVyKSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE93bk9yZGVycyhyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3duT3JkZXJzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYW55T3JkZXJzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gVE9ETyB0byB1c2UgcXVlcnkgcGFyYW1zXG5cbiAgICBwYXJhbXMuY29tcGFueV9pZCA9IHJlcS5wYXJhbXMuY29tcGFueV9pZDtcbiAgICBvcmRlclNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlPcmRlcnMocGFyYW1zKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst {\n    createOrderSchema,\n    updateOrderSchema,\n    companyOrderSchema,\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem);\n\n&#x2F;&#x2F; update an order item customer aka update cart item\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\n    \&quot;&#x2F;:id\&quot;,\n    updateOrderSchema,\n    Auth([Role.staff, Role.owner]),\n    updateOrder\n);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\n    \&quot;&#x2F;company-orders\&quot;,\n    companyOrderSchema,\n    Auth([Role.owner, Role.staff]),\n    getCompanyOrders\n);\n\nfunction createOrder(req, res, next) {\n    const payload &#x3D; {\n        customer_id: req.user.id,\n        company_id: req.params.company_id,\n        item: req.body,\n    };\n    orderService\n        .createOrder(payload)\n        .then((orderItem) &#x3D;&gt;\n            res.json({\n                message: &#x60;${orderItem.item} has been added to the cart&#x60;,\n            })\n        )\n        .catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n    orderService\n        .updateOrder(req.params.id, req.user, req.body)\n        .then((order) &#x3D;&gt; res.json(order))\n        .catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n    orderService\n        .getOrderById(id)\n        .then((order) &#x3D;&gt; (order ? res.json(order) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n    orderService\n        .getOwnOrders(req.user.id)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n    &#x2F;&#x2F; TODO to use query params\n\n    params.company_id &#x3D; req.params.company_id;\n    orderService\n        .getCompanyOrders(params)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8f&#x2F;orderroutes_8f4620babd5b20aee9e160dc0d9cf20a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2964&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 9222,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 9219,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 978,
                    &quot;endOffset&quot;: 1275,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1277,
                    &quot;endOffset&quot;: 1423,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1425,
                    &quot;endOffset&quot;: 1572,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1574,
                    &quot;endOffset&quot;: 1734,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1736,
                    &quot;endOffset&quot;: 1974,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    item: Joi.number().required(),\n    quantity: Joi.number()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    customer_id: Joi.number().empty(),\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVPcmRlclNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJpdGVtIiwibnVtYmVyIiwicmVxdWlyZWQiLCJxdWFudGl0eSIsInVwZGF0ZU9yZGVyU2NoZW1hIiwib3JkZXJfc3RhdHVzIiwic3RyaW5nIiwiZW1wdHkiLCJwdXJjaGFzZV9zdGF0dXMiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJjdXN0b21lcl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxpQkFBUixHQUE0QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM1QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSjtBQUZZLEdBQVgsQ0FBZjtBQUlBVCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQU5EOztBQVFBTCxPQUFPLENBQUNXLGlCQUFSLEdBQTRCLENBQUNULEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJNLElBQUFBLFlBQVksRUFBRWYsR0FBRyxDQUFDZ0IsTUFBSixHQUFhQyxLQUFiLENBQW1CLEVBQW5CLENBRFE7QUFFdEJDLElBQUFBLGVBQWUsRUFBRWxCLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQjtBQUZLLEdBQVgsQ0FBZjtBQUtBZixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVBEOztBQVNBTCxPQUFPLENBQUNnQixrQkFBUixHQUE2QixDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM3QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCVyxJQUFBQSxXQUFXLEVBQUVwQixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixFQURTO0FBRXRCRixJQUFBQSxZQUFZLEVBQUVmLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQixDQUZRO0FBR3RCQyxJQUFBQSxlQUFlLEVBQUVsQixHQUFHLENBQUNnQixNQUFKLEdBQWFDLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFYLENBQWY7QUFNQWYsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FSRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBpdGVtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy5jb21wYW55T3JkZXJTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgY3VzdG9tZXJfaWQ6IEpvaS5udW1iZXIoKS5lbXB0eSgpLFxuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        item: Joi.number().required(),\n        quantity: Joi.number(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        customer_id: Joi.number().empty(),\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e1&#x2F;ordervalidators_e12e9bab16ee6f22191cb1085e8fa580.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2965&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3959,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3956,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 221,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 411,
                    &quot;endOffset&quot;: 594,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 626,
                    &quot;endOffset&quot;: 848,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n  createOrder,\n  updateOrderItem,\n  updateOrder,\n  getOrderById,\n  getOwnOrders,\n  getCompanyOrders\n};\n\nasync function createOrder(params) {\n  const order &#x3D; await get_or_create(params.customer_id, params.company_id); &#x2F;&#x2F; insert the item to the order item table\n\n  const orderItem &#x3D; order.$relatedQuery(\&quot;items\&quot;).insert({\n    item: params.item.id,\n    order: order.id\n  });\n  return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n  const order &#x3D; await getOrder(id); &#x2F;&#x2F; check item quantity\n\n  if (params.item.quantity &lt;&#x3D; 0) {\n    &#x2F;&#x2F; remove from cart\n    await order.$relatedQuery(\&quot;items\&quot;).delete().where({\n      item: params.item.id\n    });\n    return;\n  }\n\n  const orderItem &#x3D; await order.$relatedQuery(\&quot;items\&quot;).patch({\n    quantity: params.item.quantity\n  }).where({\n    item: params.item.id\n  }).returning(\&quot;*\&quot;);\n  return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n  let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n  if (order.company.id !&#x3D;&#x3D; user.company.id) {\n    const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n    throw error;\n  } &#x2F;&#x2F; aka update order table\n\n\n  order &#x3D; await Order.query().patchAndFetchById(id, params);\n  return order;\n}\n\nasync function getOrderById(id) {\n  const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n  return order;\n}\n\nasync function getOwnOrders(id) {\n  const orders &#x3D; await Order.query().where({\n    customer_id: id\n  }).orderBy(\&quot;created_at\&quot;);\n  return orders;\n}\n\nasync function getCompanyOrders(params) {\n  const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n  return orders;\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function get_or_create(id, company_id) {\n  &#x2F;&#x2F; checks for the existence of a customer order\n  &#x2F;&#x2F; if it exists add the new items on it\n  &#x2F;&#x2F; if it does not exist it creates one\n  let order &#x3D; await Order.query().where({\n    customer_id: id,\n    order_status: \&quot;New\&quot;\n  }).first();\n\n  if (!order) {\n    &#x2F;&#x2F; create one\n    order &#x3D; await Order.query().insert({\n      customer_id: id,\n      company_id,\n      order_status: \&quot;New\&quot;,\n      purchase_status: \&quot;unpaid\&quot;\n    });\n  }\n\n  return order;\n}\n\nasync function getOrder(id) {\n  const order &#x3D; await Order.query().findById(id);\n  return order;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU9yZGVyIiwidXBkYXRlT3JkZXJJdGVtIiwidXBkYXRlT3JkZXIiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicGFyYW1zIiwib3JkZXIiLCJnZXRfb3JfY3JlYXRlIiwiY3VzdG9tZXJfaWQiLCJjb21wYW55X2lkIiwib3JkZXJJdGVtIiwiJHJlbGF0ZWRRdWVyeSIsImluc2VydCIsIml0ZW0iLCJpZCIsImdldE9yZGVyIiwicXVhbnRpdHkiLCJkZWxldGUiLCJ3aGVyZSIsInBhdGNoIiwicmV0dXJuaW5nIiwidXNlciIsIndpdGhHcmFwaEZldGNoZWQiLCJjb21wYW55IiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJvcmRlcnMiLCJvcmRlckJ5Iiwib3JkZXJfc3RhdHVzIiwiZmlyc3QiLCJwdXJjaGFzZV9zdGF0dXMiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLFdBRGE7QUFFYkMsRUFBQUEsZUFGYTtBQUdiQyxFQUFBQSxXQUhhO0FBSWJDLEVBQUFBLFlBSmE7QUFLYkMsRUFBQUEsWUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLFdBQWYsQ0FBMkJNLE1BQTNCLEVBQW1DO0FBQy9CLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxhQUFhLENBQUNGLE1BQU0sQ0FBQ0csV0FBUixFQUFxQkgsTUFBTSxDQUFDSSxVQUE1QixDQUFqQyxDQUQrQixDQUcvQjs7QUFDQSxRQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FDbEJLLGFBRGEsQ0FDQyxPQURELEVBRWJDLE1BRmEsQ0FFTjtBQUFFQyxJQUFBQSxJQUFJLEVBQUVSLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZQyxFQUFwQjtBQUF3QlIsSUFBQUEsS0FBSyxFQUFFQSxLQUFLLENBQUNRO0FBQXJDLEdBRk0sQ0FBbEI7QUFJQSxTQUFPSixTQUFQO0FBQ0g7O0FBRUQsZUFBZVYsZUFBZixDQUErQmMsRUFBL0IsRUFBbUNULE1BQW5DLEVBQTJDO0FBQ3ZDLFFBQU1DLEtBQUssR0FBRyxNQUFNUyxRQUFRLENBQUNELEVBQUQsQ0FBNUIsQ0FEdUMsQ0FHdkM7O0FBQ0EsTUFBSVQsTUFBTSxDQUFDUSxJQUFQLENBQVlHLFFBQVosSUFBd0IsQ0FBNUIsRUFBK0I7QUFDM0I7QUFDQSxVQUFNVixLQUFLLENBQ05LLGFBREMsQ0FDYSxPQURiLEVBRURNLE1BRkMsR0FHREMsS0FIQyxDQUdLO0FBQUVMLE1BQUFBLElBQUksRUFBRVIsTUFBTSxDQUFDUSxJQUFQLENBQVlDO0FBQXBCLEtBSEwsQ0FBTjtBQUtBO0FBQ0g7O0FBRUQsUUFBTUosU0FBUyxHQUFHLE1BQU1KLEtBQUssQ0FDeEJLLGFBRG1CLENBQ0wsT0FESyxFQUVuQlEsS0FGbUIsQ0FFYjtBQUNISCxJQUFBQSxRQUFRLEVBQUVYLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZRztBQURuQixHQUZhLEVBS25CRSxLQUxtQixDQUtiO0FBQ0hMLElBQUFBLElBQUksRUFBRVIsTUFBTSxDQUFDUSxJQUFQLENBQVlDO0FBRGYsR0FMYSxFQVFuQk0sU0FSbUIsQ0FRVCxHQVJTLENBQXhCO0FBVUEsU0FBT1YsU0FBUDtBQUNIOztBQUVELGVBQWVULFdBQWYsQ0FBMkJhLEVBQTNCLEVBQStCTyxJQUEvQixFQUFxQ2hCLE1BQXJDLEVBQTZDO0FBQ3pDLE1BQUlDLEtBQUssR0FBRyxNQUFNUyxRQUFRLENBQUNELEVBQUQsQ0FBUixDQUFhUSxnQkFBYixDQUE4QixTQUE5QixDQUFsQjs7QUFFQSxNQUFJaEIsS0FBSyxDQUFDaUIsT0FBTixDQUFjVCxFQUFkLEtBQXFCTyxJQUFJLENBQUNFLE9BQUwsQ0FBYVQsRUFBdEMsRUFBMEM7QUFDdEMsVUFBTVUsS0FBSyxHQUFHLElBQUlDLEtBQUosQ0FBVSxhQUFWLENBQWQ7QUFDQSxVQUFNRCxLQUFOO0FBQ0gsR0FOd0MsQ0FPekM7OztBQUNBbEIsRUFBQUEsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY0MsaUJBQWQsQ0FBZ0NiLEVBQWhDLEVBQW9DVCxNQUFwQyxDQUFkO0FBRUEsU0FBT0MsS0FBUDtBQUNIOztBQUVELGVBQWVKLFlBQWYsQ0FBNEJZLEVBQTVCLEVBQWdDO0FBQzVCLFFBQU1SLEtBQUssR0FBRyxNQUFNUyxRQUFRLENBQUNELEVBQUQsQ0FBUixDQUFhUSxnQkFBYixDQUE4QixPQUE5QixDQUFwQjtBQUNBLFNBQU9oQixLQUFQO0FBQ0g7O0FBRUQsZUFBZUgsWUFBZixDQUE0QlcsRUFBNUIsRUFBZ0M7QUFDNUIsUUFBTWMsTUFBTSxHQUFHLE1BQU1qQyxLQUFLLENBQUMrQixLQUFOLEdBQ2hCUixLQURnQixDQUNWO0FBQUVWLElBQUFBLFdBQVcsRUFBRU07QUFBZixHQURVLEVBRWhCZSxPQUZnQixDQUVSLFlBRlEsQ0FBckI7QUFHQSxTQUFPRCxNQUFQO0FBQ0g7O0FBRUQsZUFBZXhCLGdCQUFmLENBQWdDQyxNQUFoQyxFQUF3QztBQUNwQyxRQUFNdUIsTUFBTSxHQUFHLE1BQU1qQyxLQUFLLENBQUMrQixLQUFOLEdBQWNSLEtBQWQsQ0FBb0JiLE1BQXBCLEVBQTRCd0IsT0FBNUIsQ0FBb0MsWUFBcEMsQ0FBckI7QUFDQSxTQUFPRCxNQUFQO0FBQ0gsQyxDQUNEOzs7QUFDQSxlQUFlckIsYUFBZixDQUE2Qk8sRUFBN0IsRUFBaUNMLFVBQWpDLEVBQTZDO0FBQ3pDO0FBQ0E7QUFDQTtBQUVBLE1BQUlILEtBQUssR0FBRyxNQUFNWCxLQUFLLENBQUMrQixLQUFOLEdBQ2JSLEtBRGEsQ0FDUDtBQUNIVixJQUFBQSxXQUFXLEVBQUVNLEVBRFY7QUFFSGdCLElBQUFBLFlBQVksRUFBRTtBQUZYLEdBRE8sRUFLYkMsS0FMYSxFQUFsQjs7QUFPQSxNQUFJLENBQUN6QixLQUFMLEVBQVk7QUFDUjtBQUNBQSxJQUFBQSxLQUFLLEdBQUcsTUFBTVgsS0FBSyxDQUFDK0IsS0FBTixHQUFjZCxNQUFkLENBQXFCO0FBQy9CSixNQUFBQSxXQUFXLEVBQUVNLEVBRGtCO0FBRS9CTCxNQUFBQSxVQUYrQjtBQUcvQnFCLE1BQUFBLFlBQVksRUFBRSxLQUhpQjtBQUkvQkUsTUFBQUEsZUFBZSxFQUFFO0FBSmMsS0FBckIsQ0FBZDtBQU1IOztBQUVELFNBQU8xQixLQUFQO0FBQ0g7O0FBRUQsZUFBZVMsUUFBZixDQUF3QkQsRUFBeEIsRUFBNEI7QUFDeEIsUUFBTVIsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY08sUUFBZCxDQUF1Qm5CLEVBQXZCLENBQXBCO0FBQ0EsU0FBT1IsS0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT3JkZXIgPSByZXF1aXJlKFwiLi9vcmRlci5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlT3JkZXIsXG4gICAgdXBkYXRlT3JkZXJJdGVtLFxuICAgIHVwZGF0ZU9yZGVyLFxuICAgIGdldE9yZGVyQnlJZCxcbiAgICBnZXRPd25PcmRlcnMsXG4gICAgZ2V0Q29tcGFueU9yZGVycyxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0X29yX2NyZWF0ZShwYXJhbXMuY3VzdG9tZXJfaWQsIHBhcmFtcy5jb21wYW55X2lkKTtcblxuICAgIC8vIGluc2VydCB0aGUgaXRlbSB0byB0aGUgb3JkZXIgaXRlbSB0YWJsZVxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLmluc2VydCh7IGl0ZW06IHBhcmFtcy5pdGVtLmlkLCBvcmRlcjogb3JkZXIuaWQgfSk7XG5cbiAgICByZXR1cm4gb3JkZXJJdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckl0ZW0oaWQsIHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0T3JkZXIoaWQpO1xuXG4gICAgLy8gY2hlY2sgaXRlbSBxdWFudGl0eVxuICAgIGlmIChwYXJhbXMuaXRlbS5xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGNhcnRcbiAgICAgICAgYXdhaXQgb3JkZXJcbiAgICAgICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLndoZXJlKHsgaXRlbTogcGFyYW1zLml0ZW0uaWQgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVySXRlbSA9IGF3YWl0IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLnBhdGNoKHtcbiAgICAgICAgICAgIHF1YW50aXR5OiBwYXJhbXMuaXRlbS5xdWFudGl0eSxcbiAgICAgICAgfSlcbiAgICAgICAgLndoZXJlKHtcbiAgICAgICAgICAgIGl0ZW06IHBhcmFtcy5pdGVtLmlkLFxuICAgICAgICB9KVxuICAgICAgICAucmV0dXJuaW5nKFwiKlwiKTtcblxuICAgIHJldHVybiBvcmRlckl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkLCB1c2VyLCBwYXJhbXMpIHtcbiAgICBsZXQgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCkud2l0aEdyYXBoRmV0Y2hlZChcImNvbXBhbnlcIik7XG5cbiAgICBpZiAob3JkZXIuY29tcGFueS5pZCAhPT0gdXNlci5jb21wYW55LmlkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVW5hdGhvcml6ZWRcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBha2EgdXBkYXRlIG9yZGVyIHRhYmxlXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGdldE9yZGVyKGlkKS53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPd25PcmRlcnMoaWQpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IGN1c3RvbWVyX2lkOiBpZCB9KVxuICAgICAgICAub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFueU9yZGVycyhwYXJhbXMpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpLndoZXJlKHBhcmFtcykub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09aGVscGVycz09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRfb3JfY3JlYXRlKGlkLCBjb21wYW55X2lkKSB7XG4gICAgLy8gY2hlY2tzIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgY3VzdG9tZXIgb3JkZXJcbiAgICAvLyBpZiBpdCBleGlzdHMgYWRkIHRoZSBuZXcgaXRlbXMgb24gaXRcbiAgICAvLyBpZiBpdCBkb2VzIG5vdCBleGlzdCBpdCBjcmVhdGVzIG9uZVxuXG4gICAgbGV0IG9yZGVyID0gYXdhaXQgT3JkZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGlkLFxuICAgICAgICAgICAgb3JkZXJfc3RhdHVzOiBcIk5ld1wiLFxuICAgICAgICB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9uZVxuICAgICAgICBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuaW5zZXJ0KHtcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgICAgIGNvbXBhbnlfaWQsXG4gICAgICAgICAgICBvcmRlcl9zdGF0dXM6IFwiTmV3XCIsXG4gICAgICAgICAgICBwdXJjaGFzZV9zdGF0dXM6IFwidW5wYWlkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuZmluZEJ5SWQoaWQpO1xuICAgIHJldHVybiBvcmRlcjtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n    createOrder,\n    updateOrderItem,\n    updateOrder,\n    getOrderById,\n    getOwnOrders,\n    getCompanyOrders,\n};\n\nasync function createOrder(params) {\n    const order &#x3D; await get_or_create(params.customer_id, params.company_id);\n\n    &#x2F;&#x2F; insert the item to the order item table\n    const orderItem &#x3D; order\n        .$relatedQuery(\&quot;items\&quot;)\n        .insert({ item: params.item.id, order: order.id });\n\n    return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n    const order &#x3D; await getOrder(id);\n\n    &#x2F;&#x2F; check item quantity\n    if (params.item.quantity &lt;&#x3D; 0) {\n        &#x2F;&#x2F; remove from cart\n        await order\n            .$relatedQuery(\&quot;items\&quot;)\n            .delete()\n            .where({ item: params.item.id });\n\n        return;\n    }\n\n    const orderItem &#x3D; await order\n        .$relatedQuery(\&quot;items\&quot;)\n        .patch({\n            quantity: params.item.quantity,\n        })\n        .where({\n            item: params.item.id,\n        })\n        .returning(\&quot;*\&quot;);\n\n    return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n    let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n    if (order.company.id !&#x3D;&#x3D; user.company.id) {\n        const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n        throw error;\n    }\n    &#x2F;&#x2F; aka update order table\n    order &#x3D; await Order.query().patchAndFetchById(id, params);\n\n    return order;\n}\n\nasync function getOrderById(id) {\n    const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n    return order;\n}\n\nasync function getOwnOrders(id) {\n    const orders &#x3D; await Order.query()\n        .where({ customer_id: id })\n        .orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n\nasync function getCompanyOrders(params) {\n    const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function get_or_create(id, company_id) {\n    &#x2F;&#x2F; checks for the existence of a customer order\n    &#x2F;&#x2F; if it exists add the new items on it\n    &#x2F;&#x2F; if it does not exist it creates one\n\n    let order &#x3D; await Order.query()\n        .where({\n            customer_id: id,\n            order_status: \&quot;New\&quot;,\n        })\n        .first();\n\n    if (!order) {\n        &#x2F;&#x2F; create one\n        order &#x3D; await Order.query().insert({\n            customer_id: id,\n            company_id,\n            order_status: \&quot;New\&quot;,\n            purchase_status: \&quot;unpaid\&quot;,\n        });\n    }\n\n    return order;\n}\n\nasync function getOrder(id) {\n    const order &#x3D; await Order.query().findById(id);\n    return order;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2d&#x2F;orderservice_2dd8ed46d0ebb5dcc0edc8f1fb86b7ac.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2966&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10175,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10172,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 253,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 543,
                    &quot;endOffset&quot;: 993,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 995,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1324,
                    &quot;endOffset&quot;: 1437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1439,
                    &quot;endOffset&quot;: 1584,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1586,
                    &quot;endOffset&quot;: 1720,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get_or_create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1783,
                    &quot;endOffset&quot;: 2270,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2272,
                    &quot;endOffset&quot;: 2369,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n  static get tableName() {\n    return tableNames.order;\n  }\n\n  static get relationMappings() {\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n    return {\n      items: {\n        relation: Model.HasManyRelation,\n        modelClass: OrderItem,\n        join: {\n          from: &#x60;${tableNames.order}.id&#x60;,\n          to: &#x60;${tableNames.orderItem}.order_id&#x60;\n        }\n      },\n      customer: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.order}.customer_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Company,\n        join: {\n          from: &#x60;${tableNames.order}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Order;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJkYiIsIk9yZGVyIiwidGFibGVOYW1lIiwib3JkZXIiLCJyZWxhdGlvbk1hcHBpbmdzIiwiQ29tcGFueSIsIlVzZXIiLCJPcmRlckl0ZW0iLCJpdGVtcyIsInJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwibW9kZWxDbGFzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJvcmRlckl0ZW0iLCJjdXN0b21lciIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwidXNlciIsImNvbXBhbnkiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsS0FBTixTQUFvQkosS0FBcEIsQ0FBMEI7QUFDdEIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLEtBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBQ0EsVUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsNkJBQUQsQ0FBekI7O0FBRUEsV0FBTztBQUNIVSxNQUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNhLGVBRGI7QUFFSEMsUUFBQUEsVUFBVSxFQUFFSixTQUZUO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWQsVUFBVSxDQUFDSSxLQUFNLEtBRHhCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZixVQUFVLENBQUNnQixTQUFVO0FBRjFCO0FBSEgsT0FESjtBQVVIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEVjtBQUVOTixRQUFBQSxVQUFVLEVBQUVMLElBRk47QUFHTk0sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sY0FEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ21CLElBQUs7QUFGckI7QUFIQSxPQVZQO0FBa0JIQyxNQUFBQSxPQUFPLEVBQUU7QUFDTFYsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEWDtBQUVMTixRQUFBQSxVQUFVLEVBQUVOLE9BRlA7QUFHTE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sYUFEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ29CLE9BQVE7QUFGeEI7QUFIRDtBQWxCTixLQUFQO0FBMkJIOztBQXJDcUI7O0FBd0MxQnRCLEtBQUssQ0FBQ3VCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IHRhYmxlTmFtZXMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhYmxlTmFtZXNcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcblxuY2xhc3MgT3JkZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLm9yZGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgT3JkZXJJdGVtID0gcmVxdWlyZShcIi4vb3JkZXJJdGVtL29yZGVySXRlbS5tb2RlbFwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuSGFzTWFueVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IE9yZGVySXRlbSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMub3JkZXJJdGVtfS5vcmRlcl9pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IFVzZXIsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLm9yZGVyfS5jdXN0b21lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzczogQ29tcGFueSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcjtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n    static get tableName() {\n        return tableNames.order;\n    }\n\n    static get relationMappings() {\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n        const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n        return {\n            items: {\n                relation: Model.HasManyRelation,\n                modelClass: OrderItem,\n                join: {\n                    from: &#x60;${tableNames.order}.id&#x60;,\n                    to: &#x60;${tableNames.orderItem}.order_id&#x60;,\n                },\n            },\n\n            customer: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.order}.customer_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Company,\n                join: {\n                    from: &#x60;${tableNames.order}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Order;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;66&#x2F;ordermodel_662f5b9ea6475bcabfd0d4f0bf405dda.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2967&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5243,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5240,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Order&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 230,
                    &quot;endOffset&quot;: 230,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 267,
                    &quot;endOffset&quot;: 317,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 328,
                    &quot;endOffset&quot;: 1185,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n  orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVySXRlbS5yb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhdXRoIiwiQXV0aCIsInJvbGUiLCJvcmRlclNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInB1dCIsImN1c3RvbWVyIiwidXBkYXRlT3JkZXJJdGVtIiwicmVxIiwicmVzIiwibmV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJGLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxrQkFBRCxDQUE1Qjs7QUFFQSxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBUixDQUFlO0FBQzFCQyxFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUFmLENBQWY7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQk4sSUFBSSxDQUFDQyxJQUFJLENBQUNNLFFBQU4sQ0FBcEIsRUFBcUNDLGVBQXJDOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDckNULEVBQUFBLFlBQVksQ0FBQ00sZUFBYjtBQUNIOztBQUVESSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCByb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi4vb3JkZXIuc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wdXQoXCIvXCIsIEF1dGgocm9sZS5jdXN0b21lciksIHVwZGF0ZU9yZGVySXRlbSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVySXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZS51cGRhdGVPcmRlckl0ZW0oKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n    orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;orderItemroutes_440b1db2888128c60482407cf8bcef31.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2968&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2184,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2181,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 406,
                    &quot;endOffset&quot;: 484,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        }
      ]
    },
    {
      &quot;leaks&quot;: false,
      &quot;numFailingTests&quot;: 0,
      &quot;numPassingTests&quot;: 17,
      &quot;numPendingTests&quot;: 0,
      &quot;numTodoTests&quot;: 0,
      &quot;openHandles&quot;: [],
      &quot;perfStats&quot;: {
        &quot;end&quot;: 1610567035815,
        &quot;runtime&quot;: 2741,
        &quot;slow&quot;: false,
        &quot;start&quot;: 1610567033074
      },
      &quot;skipped&quot;: false,
      &quot;snapshot&quot;: {
        &quot;added&quot;: 0,
        &quot;fileDeleted&quot;: false,
        &quot;matched&quot;: 0,
        &quot;unchecked&quot;: 0,
        &quot;unmatched&quot;: 0,
        &quot;updated&quot;: 0,
        &quot;uncheckedKeys&quot;: []
      },
      &quot;testFilePath&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.test.js&quot;,
      &quot;testResults&quot;: [
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;&quot;
          ],
          &quot;duration&quot;: 146,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F; should fail to create a company for an unauthorized user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to create a company for an unauthorized user&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;&quot;
          ],
          &quot;duration&quot;: 142,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F; should fail to create a company missing description&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to create a company missing description&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;&quot;
          ],
          &quot;duration&quot;: 250,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F; should create a company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should create a company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 144,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id should fail to update another persons company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to update another persons company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 197,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id should update company name&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should update company name&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 143,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id should fail to update duplicate company name&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to update duplicate company name&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET api&#x2F;v1&#x2F;company&quot;
          ],
          &quot;duration&quot;: 128,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET api&#x2F;v1&#x2F;company should not fetch companies for a non admin user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should not fetch companies for a non admin user&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET api&#x2F;v1&#x2F;company&quot;
          ],
          &quot;duration&quot;: 137,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET api&#x2F;v1&#x2F;company should fetch companies for admin user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fetch companies for admin user&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 139,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id should fail to update another persons company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to update another persons company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 171,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id should update company name&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should update company name&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 156,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PATCH &#x2F;api&#x2F;v1&#x2F;company&#x2F;:id should fail to update duplicate company name&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to update duplicate company name&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 21,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET api&#x2F;v1&#x2F;company&#x2F;:id owner should not fetch another company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;owner should not fetch another company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 20,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET api&#x2F;v1&#x2F;company&#x2F;:id should fetch owner company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fetch owner company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 28,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET api&#x2F;v1&#x2F;company&#x2F;:id should return company to admin&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should return company to admin&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET api&#x2F;v1&#x2F;company&#x2F;mine&quot;
          ],
          &quot;duration&quot;: 22,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET api&#x2F;v1&#x2F;company&#x2F;mine should fetch my companies&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fetch my companies&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;DELETE api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 32,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;DELETE api&#x2F;v1&#x2F;company&#x2F;:id owner should not delete anothers company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;owner should not delete anothers company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;DELETE api&#x2F;v1&#x2F;company&#x2F;:id&quot;
          ],
          &quot;duration&quot;: 55,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;DELETE api&#x2F;v1&#x2F;company&#x2F;:id should delete company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should delete company&quot;
        }
      ],
      &quot;failureMessage&quot;: null,
      &quot;v8Coverage&quot;: [
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\n\nconst compression &#x3D; require(\&quot;compression\&quot;);\n\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\n\nconst cors &#x3D; require(\&quot;cors\&quot;); &#x2F;&#x2F; Swagger stuff\n\n\nrequire(\&quot;rootpath\&quot;)();\n\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\n\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\n\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;\n  });\n});\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\nmodule.exports &#x3D; app;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvbXByZXNzaW9uIiwiaGVsbWV0IiwiY29ycyIsInN3YWdnZXJVaSIsInN3YWdnZXJEb2MiLCJjb25maWciLCJtaWRkbGV3YXJlcyIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJtZXNzYWdlIiwic2VydmUiLCJzZXR1cCIsIm5vdEZvdW5kIiwiZXJyb3JIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxVQUFELENBQVA7O0FBQ0EsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JPLE1BQWxCOztBQUVBLE1BQU1DLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsTUFBTVMsR0FBRyxHQUFHVCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNVSxHQUFHLEdBQUdYLE9BQU8sRUFBbkI7QUFFQVcsR0FBRyxDQUFDQyxHQUFKLENBQVFWLE1BQU0sQ0FBQyxLQUFELENBQWQ7QUFDQVMsR0FBRyxDQUFDQyxHQUFKLENBQVFSLE1BQU0sRUFBZDtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVAsSUFBSSxFQUFaO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRVCxXQUFXLEVBQW5CO0FBQ0FRLEdBQUcsQ0FBQ0MsR0FBSixDQUFRWixPQUFPLENBQUNhLElBQVIsRUFBUjtBQUVBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTO0FBQ0xJLElBQUFBLE9BQU8sRUFBRTtBQURKLEdBQVQ7QUFHSCxDQUpEO0FBTUFOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJGLEdBQW5CO0FBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJOLFNBQVMsQ0FBQ1ksS0FBL0IsRUFBc0NaLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQlosVUFBaEIsQ0FBdEM7QUFFQUksR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1csUUFBcEI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1ksWUFBcEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbi8vIFN3YWdnZXIgc3R1ZmZcbnJlcXVpcmUoXCJyb290cGF0aFwiKSgpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcbmNvbnN0IHN3YWdnZXJEb2MgPSByZXF1aXJlKFwiLi4vZG9jcy9zd2FnZ2VyLmpzb25cIik7XG5cbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IG1pZGRsZXdhcmVzID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXNcIik7XG5jb25zdCBhcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCLwn6aE8J+MiOKcqPCfkYvwn4yO8J+MjfCfjI&#x2F;inKjwn4yI8J+mhFwiLFxuICAgIH0pO1xufSk7XG5cbmFwcC51c2UoXCIvYXBpL3YxXCIsIGFwaSk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2MpKTtcblxuYXBwLnVzZShtaWRkbGV3YXJlcy5ub3RGb3VuZCk7XG5hcHAudXNlKG1pZGRsZXdhcmVzLmVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\nconst compression &#x3D; require(\&quot;compression\&quot;);\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\nconst cors &#x3D; require(\&quot;cors\&quot;);\n\n&#x2F;&#x2F; Swagger stuff\nrequire(\&quot;rootpath\&quot;)();\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\n\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;,\n    });\n});\n\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\n\nmodule.exports &#x3D; app;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;68&#x2F;app_6855482f668a469a3eba3734dab1ce4c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2039&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4132,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4129,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 669,
                    &quot;endOffset&quot;: 739,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;function notFound(req, res, next) {\n  res.status(404);\n  const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n  next(error);\n}\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\n\n\nfunction errorHandler(err, req, res, next) {\n  &#x2F;* eslint-enable no-unused-vars *&#x2F;\n  const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n  res.status(statusCode);\n  if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n  res.json({\n    message: err.message,\n    stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack\n  });\n}\n\nmodule.exports &#x3D; {\n  notFound,\n  errorHandler\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbIm5vdEZvdW5kIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwiRXJyb3IiLCJvcmlnaW5hbFVybCIsImVycm9ySGFuZGxlciIsImVyciIsInN0YXR1c0NvZGUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImpzb24iLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVg7QUFDQSxRQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFXLG9CQUFtQkwsR0FBRyxDQUFDTSxXQUFZLEVBQTlDLENBQWQ7QUFDQUosRUFBQUEsSUFBSSxDQUFDRSxLQUFELENBQUo7QUFDSDtBQUVEOzs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxHQUF0QixFQUEyQlIsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QztBQUNBLFFBQU1PLFVBQVUsR0FBR1IsR0FBRyxDQUFDUSxVQUFKLEtBQW1CLEdBQW5CLEdBQXlCUixHQUFHLENBQUNRLFVBQTdCLEdBQTBDLEdBQTdEO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXTSxVQUFYO0FBQ0EsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNPLE9BQWhCO0FBQzNDZCxFQUFBQSxHQUFHLENBQUNlLElBQUosQ0FBUztBQUNMRCxJQUFBQSxPQUFPLEVBQUVQLEdBQUcsQ0FBQ08sT0FEUjtBQUVMRSxJQUFBQSxLQUFLLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQXdDLElBQXhDLEdBQStDSixHQUFHLENBQUNTO0FBRnJELEdBQVQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwQixFQUFBQSxRQURhO0FBRWJRLEVBQUFBO0FBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3RGb3VuZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihg8J+UjSAtIE5vdCBGb3VuZCAtICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIG5leHQoZXJyb3IpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlICE9PSAyMDAgPyByZXMuc3RhdHVzQ29kZSA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gXCLwn6WeXCIgOiBlcnIuc3RhY2ssXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5vdEZvdW5kLFxuICAgIGVycm9ySGFuZGxlcixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;function notFound(req, res, next) {\n    res.status(404);\n    const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n    next(error);\n}\n\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\nfunction errorHandler(err, req, res, next) {\n    &#x2F;* eslint-enable no-unused-vars *&#x2F;\n    const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n    res.status(statusCode);\n    if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n    res.json({\n        message: err.message,\n        stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack,\n    });\n}\n\nmodule.exports &#x3D; {\n    notFound,\n    errorHandler,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0d&#x2F;middlewares_0d2bc57a77c05a727da8aec38de48282.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2172&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3010,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3007,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;notFound&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 89,
                    &quot;endOffset&quot;: 226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;errorHandler&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 265,
                    &quot;endOffset&quot;: 626,
                    &quot;count&quot;: 6
                  },
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 407,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 600,
                    &quot;endOffset&quot;: 606,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;API - üëãüåéüåçüåè\&quot;\n  });\n});\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsT0FBTyxFQUFFO0FBREosR0FBVDtBQUdILENBSkQ7QUFNQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QlIsT0FBTyxDQUFDLG9CQUFELENBQS9CO0FBQ0FDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJSLE9BQU8sQ0FBQywwQkFBRCxDQUE5QjtBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiQVBJIC0g8J+Ri&#x2F;CfjI7wn4yN8J+Mj1wiLFxuICAgIH0pO1xufSk7XG5cbnJvdXRlci51c2UoXCIvYWNjb3VudHNcIiwgcmVxdWlyZShcIi4vYXV0aC9hdXRoLnJvdXRlc1wiKSk7XG5yb3V0ZXIudXNlKFwiL2NvbXBhbnlcIiwgcmVxdWlyZShcIi4vY29tcGFueS9jb21wYW55LnJvdXRlc1wiKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;API - üëãüåéüåçüåè\&quot;,\n    });\n});\n\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;46&#x2F;index_46150bc44a91011b69db233a13fb0837.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2173&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1664,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 175,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nconst {\n  signinSchema,\n  signupSchema,\n  updateSchema,\n  verifyEmailSchema\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\n\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n  const {\n    email,\n    password\n  } &#x3D; req.body;\n  authService.login({\n    email,\n    password\n  }).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    res.json({\n      user,\n      token\n    });\n  }).catch(next);\n}\n\nfunction register(req, res, next) {\n  req.body.role &#x3D; Role.owner;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n  req.body.role &#x3D; Role.customer;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n  authService.verifyEmail(req.body).then(() &#x3D;&gt; res.json({\n    message: \&quot;Verification successfull\&quot;\n  })).catch(next);\n}\n\nfunction getAll(req, res, next) {\n  authService.getAll().then(accounts &#x3D;&gt; res.json(accounts)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  &#x2F;&#x2F; users can get their own account and admin can get any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.getById(req.params.id).then(account &#x3D;&gt; account ? res.json(account) : res.sendStatus(404)).catch(next);\n}\n\nfunction create(req, res, next) {\n  authService.create(req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; users can update their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.update(req.params.id, req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction _delete(req, res, next) {\n  &#x2F;&#x2F; users can delete their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.delete(req.param.id).then(() &#x3D;&gt; res.json({\n    message: \&quot;Account deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwic2lnbmluU2NoZW1hIiwic2lnbnVwU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoU2VydmljZSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsInBvc3QiLCJsb2dpbiIsInJlZ2lzdGVyQ3VzdG9tZXIiLCJyZWdpc3RlciIsInZlcmlmeUVtYWlsIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGwiLCJnZXRCeUlkIiwib3duZXIiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwidG9rZW4iLCJqc29uIiwiY2F0Y2giLCJyb2xlIiwibWVzc2FnZSIsImN1c3RvbWVyIiwiYWNjb3VudHMiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImFjY291bnQiLCJzZW5kU3RhdHVzIiwicGFyYW0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLFlBREU7QUFFRkMsRUFBQUEsWUFGRTtBQUdGQyxFQUFBQSxZQUhFO0FBSUZDLEVBQUFBO0FBSkUsSUFLRk4sT0FBTyxDQUFDLG1CQUFELENBTFg7O0FBTUEsTUFBTU8sV0FBVyxHQUFHUCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTTtBQUFFUSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJULE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7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QTNCLEVBQWlDO0FBQzdCO0FBQ0EsTUFBSWEsTUFBTSxDQUFDZixHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBQVosQ0FBTixLQUEwQmpCLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxFQUFuQyxJQUF5Q2pCLEdBQUcsQ0FBQ08sSUFBSixDQUFTSSxJQUFULEtBQWtCN0IsSUFBSSxDQUFDTyxLQUFwRSxFQUEyRTtBQUN2RSxXQUFPWSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNIOztBQUVEakMsRUFBQUEsV0FBVyxDQUNOaUIsTUFETCxDQUNZSSxHQUFHLENBQUNxQixLQUFKLENBQVVKLEVBRHRCLEVBRUtYLElBRkwsQ0FFVSxNQUNGTCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUNMRyxJQUFBQSxPQUFPLEVBQUUsOEJBREo7QUFFTEssSUFBQUEsRUFBRSxFQUFFakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQztBQUZWLEdBQVQsQ0FIUixFQVFLUCxLQVJMLENBUVdSLElBUlg7QUFTSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB7XG4gICAgc2lnbmluU2NoZW1hLFxuICAgIHNpZ251cFNjaGVtYSxcbiAgICB1cGRhdGVTY2hlbWEsXG4gICAgdmVyaWZ5RW1haWxTY2hlbWEsXG59ID0gcmVxdWlyZShcIi4vYXV0aC52YWxpZGF0b3JzXCIpO1xuY29uc3QgYXV0aFNlcnZpY2UgPSByZXF1aXJlKFwiLi9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCB7IGF1dGg6IEF1dGggfSA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcm9sZVwiKTtcblxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgc2lnbmluU2NoZW1hLCBsb2dpbik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci1jdXN0b21lclwiLCBzaWdudXBTY2hlbWEsIHJlZ2lzdGVyQ3VzdG9tZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItb3duZXJcIiwgc2lnbnVwU2NoZW1hLCByZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi92ZXJpZnktZW1haWxcIiwgdmVyaWZ5RW1haWxTY2hlbWEsIHZlcmlmeUVtYWlsKTtcbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoUm9sZS5hZG1pbiksIGdldEFsbCk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBBdXRoKCksIGdldEJ5SWQpO1xucm91dGVyLnBvc3QoXCIvY3JlYXRlLXN0YWZmXCIsIEF1dGgoUm9sZS5vd25lciksIHNpZ251cFNjaGVtYSwgY3JlYXRlKTtcbnJvdXRlci5wdXQoXCIvOmlkXCIsIEF1dGgoKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aCgpLCBfZGVsZXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5sb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IHVzZXIsIHRva2VuIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUub3duZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUuY3VzdG9tZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlFbWFpbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC52ZXJpZnlFbWFpbChyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsbFwiIH0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAudGhlbigoYWNjb3VudHMpID0+IHJlcy5qc29uKGFjY291bnRzKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gdXNlcnMgY2FuIGdldCB0aGVpciBvd24gYWNjb3VudCBhbmQgYWRtaW4gY2FuIGdldCBhbnkgYWNjb3VudFxuICAgIGlmIChOdW1iZXIocmVxLnBhcmFtcy5pZCkgIT09IHJlcS51c2VyLmlkICYmIHJlcS51c2VyLnJvbGUgIT09IFJvbGUuYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF0aG9yaXplZFwiIH0pO1xuICAgIH1cblxuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChhY2NvdW50KSA9PiAoYWNjb3VudCA&#x2F;IHJlcy5qc29uKGFjY291bnQpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGFjY291bnQpID0+IHJlcy5qc29uKGFjY291bnQpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiB1cGRhdGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbigoYWNjb3VudCkgPT4gcmVzLmpzb24oYWNjb3VudCkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gX2RlbGV0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAuZGVsZXRlKHJlcS5wYXJhbS5pZClcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst router &#x3D; express.Router();\nconst {\n    signinSchema,\n    signupSchema,\n    updateSchema,\n    verifyEmailSchema,\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\n\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n    const { email, password } &#x3D; req.body;\n    authService\n        .login({ email, password })\n        .then(({ user, token }) &#x3D;&gt; {\n            res.json({ user, token });\n        })\n        .catch(next);\n}\n\nfunction register(req, res, next) {\n    req.body.role &#x3D; Role.owner;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n    req.body.role &#x3D; Role.customer;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n    authService\n        .verifyEmail(req.body)\n        .then(() &#x3D;&gt; res.json({ message: \&quot;Verification successfull\&quot; }))\n        .catch(next);\n}\n\nfunction getAll(req, res, next) {\n    authService\n        .getAll()\n        .then((accounts) &#x3D;&gt; res.json(accounts))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    &#x2F;&#x2F; users can get their own account and admin can get any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .getById(req.params.id)\n        .then((account) &#x3D;&gt; (account ? res.json(account) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction create(req, res, next) {\n    authService\n        .create(req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; users can update their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .update(req.params.id, req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction _delete(req, res, next) {\n    &#x2F;&#x2F; users can delete their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .delete(req.param.id)\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Account deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;75&#x2F;authroutes_75bf7888c8e4ac0a10e44194cc103f96.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2174&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 15260,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 15257,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 919,
                    &quot;endOffset&quot;: 1157,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1058,
                    &quot;endOffset&quot;: 1141,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1159,
                    &quot;endOffset&quot;: 1486,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;registerCustomer&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1488,
                    &quot;endOffset&quot;: 1826,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1828,
                    &quot;endOffset&quot;: 1985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1987,
                    &quot;endOffset&quot;: 2095,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2097,
                    &quot;endOffset&quot;: 2472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2474,
                    &quot;endOffset&quot;: 2588,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2590,
                    &quot;endOffset&quot;: 2944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2946,
                    &quot;endOffset&quot;: 3350,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    firstName: Joi.string().required(),\n    lastName: Joi.string().required(),\n    phoneNumber: Joi.string().min(10).max(15).required(),\n    role: Joi.string().min(5).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required(),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    firstName: Joi.string().empty(\&quot;\&quot;),\n    lastName: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    role: Joi.string().min(5).empty(\&quot;\&quot;),\n    phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n    password: Joi.string().min(8).empty(\&quot;\&quot;),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;)\n  }; &#x2F;&#x2F;  TODO figure out how admin can update role\n\n  const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n  validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    token: Joi.string().required()\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsInNpZ251cFNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwicGhvbmVOdW1iZXIiLCJtaW4iLCJtYXgiLCJyb2xlIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInZhbGlkIiwicmVmIiwic2lnbmluU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSIsIndpdGgiLCJ2ZXJpZnlFbWFpbFNjaGVtYSIsInRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUVBRSxPQUFPLENBQUNDLFlBQVIsR0FBdUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTUMsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBVztBQUN0QkMsSUFBQUEsU0FBUyxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYUMsUUFBYixFQURXO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRlk7QUFHdEJFLElBQUFBLFdBQVcsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFJLEdBQWIsQ0FBaUIsRUFBakIsRUFBcUJDLEdBQXJCLENBQXlCLEVBQXpCLEVBQTZCSixRQUE3QixFQUhTO0FBSXRCSyxJQUFBQSxJQUFJLEVBQUVqQixHQUFHLENBQUNXLE1BQUosR0FBYUksR0FBYixDQUFpQixDQUFqQixFQUFvQkgsUUFBcEIsRUFKZ0I7QUFLdEJNLElBQUFBLEtBQUssRUFB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RUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FMRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5zaWdudXBTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5yZXF1aXJlZCgpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLnJlcXVpcmVkKCksXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS52YWxpZChKb2kucmVmKFwicGFzc3dvcmRcIikpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMuc2lnbmluU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgIH0pO1xuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYVJ1bGVzID0ge1xuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLmVtcHR5KFwiXCIpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLmVtcHR5KFwiXCIpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5lbXB0eShcIlwiKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogSm9pLnN0cmluZygpLnZhbGlkKEpvaS5yZWYoXCJwYXNzd29yZFwiKSkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIC8vICBUT0RPIGZpZ3VyZSBvdXQgaG93IGFkbWluIGNhbiB1cGRhdGUgcm9sZVxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpLndpdGgoXCJwYXNzd29yZFwiLCBcImNvbmZpcm1QYXNzd29yZFwiKTtcblxuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeUVtYWlsU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIHRva2VuOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        firstName: Joi.string().required(),\n        lastName: Joi.string().required(),\n        phoneNumber: Joi.string().min(10).max(15).required(),\n        role: Joi.string().min(5).required(),\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        firstName: Joi.string().empty(\&quot;\&quot;),\n        lastName: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        role: Joi.string().min(5).empty(\&quot;\&quot;),\n        phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n        password: Joi.string().min(8).empty(\&quot;\&quot;),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;),\n    };\n\n    &#x2F;&#x2F;  TODO figure out how admin can update role\n    const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n\n    validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        token: Joi.string().required(),\n    });\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;93&#x2F;authvalidators_93d8fdb0df4bea4d1ddc0a198e2ff769.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2175&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7592,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7589,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 651,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 677,
                    &quot;endOffset&quot;: 863,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 889,
                    &quot;endOffset&quot;: 1438,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1469,
                    &quot;endOffset&quot;: 1601,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n  const options &#x3D; {\n    abortEarly: false,\n    &#x2F;&#x2F; include all errors\n    allowUnknown: true,\n    &#x2F;&#x2F; ignore unknown props\n    stripUnknown: true &#x2F;&#x2F; remove unknown props\n\n  };\n  const {\n    error,\n    value\n  } &#x3D; schema.validate(req.body, options);\n\n  if (error) {\n    next(&#x60;Validation error: ${error.details.map(x &#x3D;&gt; x.message).join(\&quot;, \&quot;)}&#x60;);\n  } else {\n    req.body &#x3D; value;\n    next();\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwibmV4dCIsInNjaGVtYSIsIm9wdGlvbnMiLCJhYm9ydEVhcmx5IiwiYWxsb3dVbmtub3duIiwic3RyaXBVbmtub3duIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYm9keSIsImRldGFpbHMiLCJtYXAiLCJ4IiwibWVzc2FnZSIsImpvaW4iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGVBQWpCOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFDeEMsUUFBTUMsT0FBTyxHQUFHO0FBQ1pDLElBQUFBLFVBQVUsRUFBRSxLQURBO0FBQ087QUFDbkJDLElBQUFBLFlBQVksRUFBRSxJQUZGO0FBRVE7QUFDcEJDLElBQUFBLFlBQVksRUFBRSxJQUhGLENBR1E7O0FBSFIsR0FBaEI7QUFNQSxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFtQk4sTUFBTSxDQUFDTyxRQUFQLENBQWdCVCxHQUFHLENBQUNVLElBQXBCLEVBQTBCUCxPQUExQixDQUF6Qjs7QUFDQSxNQUFJSSxLQUFKLEVBQVc7QUFDUE4sSUFBQUEsSUFBSSxDQUNDLHFCQUFvQk0sS0FBSyxDQUFDSSxPQUFOLENBQ2hCQyxHQURnQixDQUNYQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsT0FERyxFQUVoQkMsSUFGZ0IsQ0FFWCxJQUZXLENBRUwsRUFIaEIsQ0FBSjtBQUtILEdBTkQsTUFNTztBQUNIZixJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0YsS0FBWDtBQUNBUCxJQUFBQSxJQUFJO0FBQ1A7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVSZXF1ZXN0O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSwgLy8gaW5jbHVkZSBhbGwgZXJyb3JzXG4gICAgICAgIGFsbG93VW5rbm93bjogdHJ1ZSwgLy8gaWdub3JlIHVua25vd24gcHJvcHNcbiAgICAgICAgc3RyaXBVbmtub3duOiB0cnVlLCAvLyByZW1vdmUgdW5rbm93biBwcm9wc1xuICAgIH07XG5cbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5LCBvcHRpb25zKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChcbiAgICAgICAgICAgIGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLmRldGFpbHNcbiAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLmJvZHkgPSB2YWx1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n    const options &#x3D; {\n        abortEarly: false, &#x2F;&#x2F; include all errors\n        allowUnknown: true, &#x2F;&#x2F; ignore unknown props\n        stripUnknown: true, &#x2F;&#x2F; remove unknown props\n    };\n\n    const { error, value } &#x3D; schema.validate(req.body, options);\n    if (error) {\n        next(\n            &#x60;Validation error: ${error.details\n                .map((x) &#x3D;&gt; x.message)\n                .join(\&quot;, \&quot;)}&#x60;\n        );\n    } else {\n        req.body &#x3D; value;\n        next();\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;45&#x2F;validateRequest_45057a96b73bd940f5249869883efa4a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2228&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2528,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2525,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;validateRequest&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 124,
                    &quot;endOffset&quot;: 562,
                    &quot;count&quot;: 19
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 481,
                    &quot;endOffset&quot;: 495,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\n\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\n\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\n\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n  &#x2F;**\n   * refreshtoken\n   * revoketoken\n   * forgotPassword\n   * validateResetToken\n   * validateResetToken\n   * resetPassword\n   *&#x2F;\n  login,\n  register,\n  verifyEmail,\n  create,\n  update,\n  getAll,\n  getById,\n  delete: _delete\n};\n\nasync function login({\n  email,\n  password\n}) {\n  const account &#x3D; await getAccount({\n    email\n  });\n\n  if (!account || &#x2F;&#x2F; !account.isVerified ||\n  !(await bcrypt.compare(password, account.password))) {\n    const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n    throw error;\n  }\n\n  const token &#x3D; await jwt.sign(account.toJSON());\n  return {\n    user: basicDetails(account),\n    token\n  };\n}\n\nasync function register(params, origin) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n    &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n    const error &#x3D; new Error(&#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;);\n    throw error;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; send email;\n  &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n  const token &#x3D; await jwt.sign(account);\n  return {\n    user: account,\n    token\n  };\n}\n\nasync function verifyEmail({\n  token\n}) {\n  const account &#x3D; await getAccount({\n    verificationToken: token\n  });\n  if (!account) throw \&quot;Verification failed\&quot;;\n  await account.$query().patch({\n    verified: Date.now(),\n    isVerified: true,\n    verificationToken: null\n  });\n}\n\nasync function create(params) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; TODO? bind to company here.\n\n  return basicDetails(account);\n}\n\nasync function update(id, params) {\n  const account &#x3D; await getAccount({\n    id\n  }); &#x2F;&#x2F; validate if email was changed\n\n  if (params.email &amp;&amp; account.email !&#x3D;&#x3D; params.email &amp;&amp; (await getAccount({\n    email: params.email\n  }))) {\n    const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n    throw error;\n  } &#x2F;&#x2F; hash password if it was entered\n\n\n  if (params.password) {\n    params.password &#x3D; await hash(params.password);\n  }\n\n  const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params\n  });\n  return basicDetails(updatedUser);\n} &#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\n\n\nasync function getAll() {\n  const accounts &#x3D; await User.query();\n  return accounts.map(x &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n  const account &#x3D; await getAccount({\n    id\n  });\n  return basicDetails(account);\n} &#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\n\n\nasync function _delete(id) {\n  await User.query().deleteById(id);\n}\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\n\n\nasync function getAccount(param) {\n  const account &#x3D; await User.query().where({ ...param\n  }).first();\n  return account;\n}\n\nasync function insertUser(params) {\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    role,\n    phoneNumber\n  } &#x3D; params; &#x2F;&#x2F; hash password and verification token\n\n  const hashedPassword &#x3D; await hash(password, 10);\n  const verificationToken &#x3D; randomTokenString(); &#x2F;&#x2F; create account\n\n  const account &#x3D; await User.query().insert({\n    email,\n    firstName,\n    lastName,\n    password: hashedPassword,\n    phoneNumber,\n    role: role,\n    active: true,\n    isVerified: false,\n    verified: new Date().toISOString(),\n    verificationToken\n  });\n  return basicDetails(account);\n}\n\nasync function hash(password) {\n  return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n  return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n  const {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  } &#x3D; account;\n  return {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  };\n}\n\nasync function sendVerificationEmail(account, origin) {\n  let message;\n\n  if (origin) {\n    const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n    message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: account.email,\n    subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n    html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;\n  });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n  let message;\n\n  if (origin) {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: email,\n    subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n    html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImJjcnlwdCIsImNyeXB0byIsInNlbmRFbWFpbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbiIsInJlZ2lzdGVyIiwidmVyaWZ5RW1haWwiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsImNvbXBhcmUiLCJlcnJvciIsIkVycm9yIiwidG9rZW4iLCJzaWduIiwidG9KU09OIiwidXNlciIsImJhc2ljRGV0YWlscyIsInBhcmFtcyIsIm9yaWdpbiIsImluc2VydFVzZXIiLCJ2ZXJpZmljYXRpb25Ub2tlbiIsIiRxdWVyeSIsInBhdGNoIiwidmVyaWZpZWQiLCJEYXRlIiwibm93IiwiaXNWZXJpZmllZCIsImlkIiwiaGFzaCIsInVwZGF0ZWRVc2VyIiwicXVlcnkiLCJwYXRjaEFuZEZldGNoQnlJZCIsImFjY291bnRzIiwibWFwIiwieCIsImRlbGV0ZUJ5SWQiLCJwYXJhbSIsIndoZXJlIiwiZmlyc3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGUiLCJwaG9uZU51bWJlciIsImhhc2hlZFBhc3N3b3JkIiwicmFuZG9tVG9rZW5TdHJpbmciLCJpbnNlcnQiLCJhY3RpdmUiLCJ0b0lTT1N0cmluZyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVkIiwidXBkYXRlZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIm1lc3NhZ2UiLCJ2ZXJpZnlVcmwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwic2VuZEFscmVhZHlSZWdpc3RlcmVkRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQW5C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a0IsRUFBakY7QUFDQWlDLElBQUFBLE9BQU8sR0FBSTtzQkFDR0MsU0FBVSxLQUFJQSxTQUFVO1NBRHRDO0FBR0gsR0FMRCxNQUtPO0FBQ0hELElBQUFBLE9BQU8sR0FBSTs4QkFDVzlDLE9BQU8sQ0FBQ2EsaUJBQWtCLGFBRGhEO0FBRUg7O0FBRUQsUUFBTTNCLFNBQVMsQ0FBQztBQUNaOEQsSUFBQUEsRUFBRSxFQUFFaEQsT0FBTyxDQUFDRixLQURBO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUseUNBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHOztVQUVMSixPQUFRO0FBTEUsR0FBRCxDQUFmO0FBT0g7O0FBRUQsZUFBZUssMEJBQWYsQ0FBMENyRCxLQUExQyxFQUFpRGEsTUFBakQsRUFBeUQ7QUFDckQsTUFBSW1DLE9BQUo7O0FBQ0EsTUFBSW5DLE1BQUosRUFBWTtBQUNSbUMsSUFBQUEsT0FBTyxHQUFJLGdFQUErRG5DLE1BQU8sc0RBQWpGO0FBQ0gsR0FGRCxNQUVPO0FBQ0htQyxJQUFBQSxPQUFPLEdBQUksK0dBQVg7QUFDSDs7QUFFRCxRQUFNNUQsU0FBUyxDQUFDO0FBQ1o4RCxJQUFBQSxFQUFFLEVBQUVsRCxLQURRO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUscURBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHO3VDQUN3QnBELEtBQU07aUJBQzVCZ0QsT0FBUTtBQUxMLEdBQUQsQ0FBZjtBQU9IIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi91c2VyL3VzZXIubW9kZWxcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvand0XCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZW1haWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2h0b2tlblxuICAgICAqIHJldm9rZXRva2VuXG4gICAgICogZm9yZ290UGFzc3dvcmRcbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiByZXNldFBhc3N3b3JkXG4gICAgICovXG4gICAgbG9naW4sXG4gICAgcmVnaXN0ZXIsXG4gICAgdmVyaWZ5RW1haWwsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBnZXRBbGwsXG4gICAgZ2V0QnlJZCxcbiAgICBkZWxldGU6IF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBlbWFpbCB9KTtcblxuICAgIGlmIChcbiAgICAgICAgIWFjY291bnQgfHxcbiAgICAgICAgLy8gIWFjY291bnQuaXNWZXJpZmllZCB8fFxuICAgICAgICAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhY2NvdW50LnBhc3N3b3JkKSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJFbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudC50b0pTT04oKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBiYXNpY0RldGFpbHMoYWNjb3VudCksXG4gICAgICAgIHRva2VuLFxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHBhcmFtcywgb3JpZ2luKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgLy8gc2VuZCBhbHJlYWR5IHJlZ2lzdGVyZWQgZXJyb3IgaW4gZW1haWwgdG8gcHJldmVudCBhY2NvdW50IGVudW1lcmF0aW9uXG4gICAgICAgIC8vIGF3YWl0IHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKHBhcmFtcy5lbWFpbCwgb3JpZ2luKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRW1haWwgXCInICsgcGFyYW1zLmVtYWlsICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCdcbiAgICAgICAgKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgaW5zZXJ0VXNlcihwYXJhbXMpO1xuXG4gICAgLy8gc2VuZCBlbWFpbDtcbiAgICAvLyBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKTtcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBhY2NvdW50LFxuICAgICAgICB0b2tlbixcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh7IHRva2VuIH0pIHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZ2V0QWNjb3VudCh7IHZlcmlmaWNhdGlvblRva2VuOiB0b2tlbiB9KTtcblxuICAgIGlmICghYWNjb3VudCkgdGhyb3cgXCJWZXJpZmljYXRpb24gZmFpbGVkXCI7XG5cbiAgICBhd2FpdCBhY2NvdW50LiRxdWVyeSgpLnBhdGNoKHtcbiAgICAgICAgdmVyaWZpZWQ6IERhdGUubm93KCksXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2VuOiBudWxsLFxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgdGhyb3cgJ0VtYWlsIFwiJyArIHBhcmFtcy5lbWFpbCArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBpbnNlcnRVc2VyKHBhcmFtcyk7XG5cbiAgICAvLyBUT0RPPyBiaW5kIHRvIGNvbXBhbnkgaGVyZS5cblxuICAgIHJldHVybiBiYXNpY0RldGFpbHMoYWNjb3VudCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBpZCB9KTtcblxuICAgIC8vIHZhbGlkYXRlIGlmIGVtYWlsIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMuZW1haWwgJiZcbiAgICAgICAgYWNjb3VudC5lbWFpbCAhPT0gcGFyYW1zLmVtYWlsICYmXG4gICAgICAgIChhd2FpdCBnZXRBY2NvdW50KHsgZW1haWw6IHBhcmFtcy5lbWFpbCB9KSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVtYWlsICR7cGFyYW1zLmVtYWlsfSBpcyBhbHJlYWR5IHRha2VuYCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcbiAgICBpZiAocGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgICAgIHBhcmFtcy5wYXNzd29yZCA9IGF3YWl0IGhhc2gocGFyYW1zLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwgeyAuLi5wYXJhbXMgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKHVwZGF0ZWRVc2VyKTtcbn1cblxuLy8gVE9ETyBNQUtFIFNPIElUIENBTiBRVUVSWSBGT1IgRElGRkVSRU5UIFRZUEVTIE9GIFVTRVJTXG5hc3luYyBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBVc2VyLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoeCkgPT4gYmFzaWNEZXRhaWxzKHgpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhhY2NvdW50KTtcbn1cblxuLy8gVE9ETyBNQUtFIElUIEFDQ0VQVCBBTiBBUlJBWSBPRiBJRFxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgIGF3YWl0IFVzZXIucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT0gSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09ICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50KHBhcmFtKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyAuLi5wYXJhbSB9KVxuICAgICAgICAuZmlyc3QoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmVOdW1iZXIgfSA9IHBhcmFtcztcblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiB0b2tlblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgMTApO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gcmFuZG9tVG9rZW5TdHJpbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKS5pbnNlcnQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgdmVyaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKGFjY291bnQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYXNoKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVRva2VuU3RyaW5nKCkge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDApLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoYWNjb3VudCkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBjcmVhdGVkLFxuICAgICAgICB1cGRhdGVkLFxuICAgICAgICBpc1ZlcmlmaWVkLFxuICAgIH0gPSBhY2NvdW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgdXBkYXRlZCxcbiAgICAgICAgaXNWZXJpZmllZCxcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKSB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgICBjb25zdCB2ZXJpZnlVcmwgPSBgJHtvcmlnaW59L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7YWNjb3VudC52ZXJpZmljYXRpb25Ub2tlbn1gO1xuICAgICAgICBtZXNzYWdlID0gYDxwPiBQbGVhc2UgY2xpY2sgdGhlIGJlbG93IGxpbmsgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzczo8L3A+XG4gICAgICAgIDxwPjxhIGhyZWY9XCIke3ZlcmlmeVVybH1cIj4ke3ZlcmlmeVVybH08L2E+PC9wPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+UGxlYXNlIHVzZSB0aGUgYmVsb3cgdG9rZW4gdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyB3aXRoIHRoZSA8Y29kZT4vYXV0aC92ZXJpZnktZW1haWw8L2NvZGU+IGFwaSByb3V0ZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+JHthY2NvdW50LnZlcmlmaWNhdGlvblRva2VufTwvY29kZT48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogYWNjb3VudC5lbWFpbCxcbiAgICAgICAgc3ViamVjdDogXCJTaWduLXVwIHZlcmlmaWNhdGlvbiBBUEkgLSBWZXJpZnkgRW1haWxcIixcbiAgICAgICAgaHRtbDogYDxoND5WZXJpZnkgRW1haWw8L2g0PlxuICAgICAgICA8cD5UaGFua3MgZm9yIHJlZ2lzdGVyaW5nITwvcD5cbiAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKGVtYWlsLCBvcmlnaW4pIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+SWYgeW91IGRvbid0IGtub3cgeW91ciBwYXNzd29yZCBwbGVhc2UgdmlzaXQgdGhlIDxhIGhyZWY9XCIke29yaWdpbn0vYXV0aC9mb3Jnb3QtcGFzc3dvcmRcIj5mb3Jnb3QgcGFzc3dvcmQ8L2E+IHBhZ2UuPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGA8cD5JZiB5b3UgZG9uJ3Qga25vdyB5b3VyIHBhc3N3b3JkIHlvdSBjYW4gcmVzZXQgaXQgdmlhIHRoZSA8Y29kZT4vYXV0aC9mb3Jnb3QtcGFzc3dvcmQ8L2NvZGU+IGFwaSByb3V0ZS48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IFwiU2lnbi11cCBWZXJpZmljYXRpb24gQVBJIC0gRW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkXCIsXG4gICAgICAgIGh0bWw6IGA8aDQ+RW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkPC9oND5cbiAgICAgICAgICAgICAgIDxwPllvdXIgZW1haWwgPHN0cm9uZz4ke2VtYWlsfTwvc3Ryb25nPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9wPlxuICAgICAgICAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n    &#x2F;**\n     * refreshtoken\n     * revoketoken\n     * forgotPassword\n     * validateResetToken\n     * validateResetToken\n     * resetPassword\n     *&#x2F;\n    login,\n    register,\n    verifyEmail,\n    create,\n    update,\n    getAll,\n    getById,\n    delete: _delete,\n};\n\nasync function login({ email, password }) {\n    const account &#x3D; await getAccount({ email });\n\n    if (\n        !account ||\n        &#x2F;&#x2F; !account.isVerified ||\n        !(await bcrypt.compare(password, account.password))\n    ) {\n        const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n        throw error;\n    }\n\n    const token &#x3D; await jwt.sign(account.toJSON());\n\n    return {\n        user: basicDetails(account),\n        token,\n    };\n}\n\nasync function register(params, origin) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n        &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n        const error &#x3D; new Error(\n            &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;\n        );\n\n        throw error;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; send email;\n    &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n    const token &#x3D; await jwt.sign(account);\n\n    return {\n        user: account,\n        token,\n    };\n}\n\nasync function verifyEmail({ token }) {\n    const account &#x3D; await getAccount({ verificationToken: token });\n\n    if (!account) throw \&quot;Verification failed\&quot;;\n\n    await account.$query().patch({\n        verified: Date.now(),\n        isVerified: true,\n        verificationToken: null,\n    });\n}\n\nasync function create(params) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; TODO? bind to company here.\n\n    return basicDetails(account);\n}\n\nasync function update(id, params) {\n    const account &#x3D; await getAccount({ id });\n\n    &#x2F;&#x2F; validate if email was changed\n    if (\n        params.email &amp;&amp;\n        account.email !&#x3D;&#x3D; params.email &amp;&amp;\n        (await getAccount({ email: params.email }))\n    ) {\n        const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n        throw error;\n    }\n\n    &#x2F;&#x2F; hash password if it was entered\n    if (params.password) {\n        params.password &#x3D; await hash(params.password);\n    }\n\n    const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params });\n\n    return basicDetails(updatedUser);\n}\n\n&#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\nasync function getAll() {\n    const accounts &#x3D; await User.query();\n    return accounts.map((x) &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n    const account &#x3D; await getAccount({ id });\n    return basicDetails(account);\n}\n\n&#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\nasync function _delete(id) {\n    await User.query().deleteById(id);\n}\n\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\nasync function getAccount(param) {\n    const account &#x3D; await User.query()\n        .where({ ...param })\n        .first();\n    return account;\n}\n\nasync function insertUser(params) {\n    const { firstName, lastName, email, password, role, phoneNumber } &#x3D; params;\n\n    &#x2F;&#x2F; hash password and verification token\n    const hashedPassword &#x3D; await hash(password, 10);\n    const verificationToken &#x3D; randomTokenString();\n\n    &#x2F;&#x2F; create account\n    const account &#x3D; await User.query().insert({\n        email,\n        firstName,\n        lastName,\n        password: hashedPassword,\n        phoneNumber,\n        role: role,\n        active: true,\n        isVerified: false,\n        verified: new Date().toISOString(),\n        verificationToken,\n    });\n\n    return basicDetails(account);\n}\n\nasync function hash(password) {\n    return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n    return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n    const {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    } &#x3D; account;\n    return {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    };\n}\n\nasync function sendVerificationEmail(account, origin) {\n    let message;\n    if (origin) {\n        const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n        message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: account.email,\n        subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n        html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;,\n    });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n    let message;\n    if (origin) {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: email,\n        subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n        html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;,\n    });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;15&#x2F;authservice_15139629ee8738726404e916e3a02258.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2229&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 22003,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 22000,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 546,
                    &quot;endOffset&quot;: 944,
                    &quot;count&quot;: 44
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 946,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1779,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1781,
                    &quot;endOffset&quot;: 2062,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2064,
                    &quot;endOffset&quot;: 2621,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2682,
                    &quot;endOffset&quot;: 2793,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2795,
                    &quot;endOffset&quot;: 2907,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2948,
                    &quot;endOffset&quot;: 3015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccount&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3076,
                    &quot;endOffset&quot;: 3198,
                    &quot;count&quot;: 22
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;insertUser&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3200,
                    &quot;endOffset&quot;: 3791,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;hash&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3793,
                    &quot;endOffset&quot;: 3868,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;randomTokenString&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3870,
                    &quot;endOffset&quot;: 3951,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3953,
                    &quot;endOffset&quot;: 4226,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendVerificationEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4228,
                    &quot;endOffset&quot;: 4965,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4967,
                    &quot;endOffset&quot;: 5605,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n  static get tableName() {\n    return tableNames.user;\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; User;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiVXNlciIsInRhYmxlTmFtZSIsInVzZXIiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsSUFBTixTQUFtQkosS0FBbkIsQ0FBeUI7QUFDckIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLElBQWxCO0FBQ0g7O0FBSG9COztBQU16Qk4sS0FBSyxDQUFDTyxJQUFOLENBQVdKLEVBQVg7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vZGJcIik7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLnVzZXI7XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n    static get tableName() {\n        return tableNames.user;\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; User;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;65&#x2F;usermodel_65a16864dea2cc43f1cea59fb9ce1a95.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2230&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1454,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1451,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;User&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 224,
                    &quot;endOffset&quot;: 224,
                    &quot;count&quot;: 27
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 260,
                    &quot;endOffset&quot;: 309,
                    &quot;count&quot;: 81
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  user: \&quot;user\&quot;,\n  address: \&quot;address\&quot;,\n  company: \&quot;company\&quot;,\n  accounts: \&quot;accounts\&quot;,\n  category: \&quot;category\&quot;,\n  menu: \&quot;menu\&quot;,\n  item: \&quot;item\&quot;,\n  order: \&quot;order\&quot;,\n  orderItem: \&quot;orderItem\&quot;,\n  payments: \&quot;payments\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlTmFtZXMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInVzZXIiLCJhZGRyZXNzIiwiY29tcGFueSIsImFjY291bnRzIiwiY2F0ZWdvcnkiLCJtZW51IiwiaXRlbSIsIm9yZGVyIiwib3JkZXJJdGVtIiwicGF5bWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFLE1BRE87QUFFYkMsRUFBQUEsT0FBTyxFQUFFLFNBRkk7QUFHYkMsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYkMsRUFBQUEsUUFBUSxFQUFFLFVBSkc7QUFLYkMsRUFBQUEsUUFBUSxFQUFFLFVBTEc7QUFNYkMsRUFBQUEsSUFBSSxFQUFFLE1BTk87QUFPYkMsRUFBQUEsSUFBSSxFQUFFLE1BUE87QUFRYkMsRUFBQUEsS0FBSyxFQUFFLE9BUk07QUFTYkMsRUFBQUEsU0FBUyxFQUFFLFdBVEU7QUFVYkMsRUFBQUEsUUFBUSxFQUFFO0FBVkcsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB1c2VyOiBcInVzZXJcIixcbiAgICBhZGRyZXNzOiBcImFkZHJlc3NcIixcbiAgICBjb21wYW55OiBcImNvbXBhbnlcIixcbiAgICBhY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgbWVudTogXCJtZW51XCIsXG4gICAgaXRlbTogXCJpdGVtXCIsXG4gICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICBvcmRlckl0ZW06IFwib3JkZXJJdGVtXCIsXG4gICAgcGF5bWVudHM6IFwicGF5bWVudHNcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    user: \&quot;user\&quot;,\n    address: \&quot;address\&quot;,\n    company: \&quot;company\&quot;,\n    accounts: \&quot;accounts\&quot;,\n    category: \&quot;category\&quot;,\n    menu: \&quot;menu\&quot;,\n    item: \&quot;item\&quot;,\n    order: \&quot;order\&quot;,\n    orderItem: \&quot;orderItem\&quot;,\n    payments: \&quot;payments\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;d1&#x2F;tableNames_d158fb35bde4ba2feb47fa73fcd1c0db.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2443&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1435,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1432,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\n\nconst {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\n\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\nconst db &#x3D; Knex(connectionConfig);\nModel.knex(db);\nmodule.exports &#x3D; db;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIktuZXgiLCJyZXF1aXJlIiwiTW9kZWwiLCJrbmV4RmlsZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29ubmVjdGlvbkNvbmZpZyIsImRiIiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQVlELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUVBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixJQUF3QixhQUE1QztBQUNBLE1BQU1DLGdCQUFnQixHQUFHTCxRQUFRLENBQUNDLFdBQUQsQ0FBakM7QUFFQSxNQUFNSyxFQUFFLEdBQUdULElBQUksQ0FBQ1EsZ0JBQUQsQ0FBZjtBQUVBTixLQUFLLENBQUNRLElBQU4sQ0FBV0QsRUFBWDtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJILEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS25leCA9IHJlcXVpcmUoXCJrbmV4XCIpO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcblxuY29uc3Qga25leEZpbGUgPSByZXF1aXJlKFwiLi4va25leGZpbGVcIik7XG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcbmNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSBrbmV4RmlsZVtlbnZpcm9ubWVudF07XG5cbmNvbnN0IGRiID0gS25leChjb25uZWN0aW9uQ29uZmlnKTtcblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\nconst { Model } &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\n\nconst db &#x3D; Knex(connectionConfig);\n\nModel.knex(db);\n\nmodule.exports &#x3D; db;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;06&#x2F;db_061f2ffe7a9d03a98dba0f960ecba1d1.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2444&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1629,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n  test: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB_TEST,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  development: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  production: {\n    client: \&quot;pg\&quot;,\n    connection: process.env.DATABASE_URL,\n    pool: {\n      min: 2,\n      max: 10\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  }\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJkYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19EQl9URVNUIiwidXNlciIsIlBPU1RHUkVTX1VTRVIiLCJwYXNzd29yZCIsIlBPU1RHUkVTX1BBU1NXT1JEIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsIl9fZGlybmFtZSIsInNlZWRzIiwiZGV2ZWxvcG1lbnQiLCJQT1NUR1JFU19EQiIsInByb2R1Y3Rpb24iLCJEQVRBQkFTRV9VUkwiLCJwb29sIiwibWluIiwibWF4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxNQUFNLEVBQUUsSUFETjtBQUVGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFGZDtBQUdSQyxNQUFBQSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxhQUhWO0FBSVJDLE1BQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmQsS0FGVjtBQVFGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUkMsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEZixLQVJWO0FBWUZDLElBQUFBLEtBQUssRUFBRTtBQUNIRixNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURwQjtBQVpMLEdBRE87QUFrQmJFLEVBQUFBLFdBQVcsRUFBRTtBQUNUZCxJQUFBQSxNQUFNLEVBQUUsSUFEQztBQUVUQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxXQUZkO0FBR1JULE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGFBSFY7QUFJUkMsTUFBQUEsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFKZCxLQUZIO0FBUVRDLElBQUFBLFVBQVUsRUFBRTtBQUNSQyxNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURmLEtBUkg7QUFZVEMsSUFBQUEsS0FBSyxFQUFFO0FBQ0hGLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRHBCO0FBWkUsR0FsQkE7QUFtQ2JJLEVBQUFBLFVBQVUsRUFBRTtBQUNSaEIsSUFBQUEsTUFBTSxFQUFFLElBREE7QUFFUkMsSUFBQUEsVUFBVSxFQUFFRSxPQUFPLENBQUNDLEdBQVIsQ0FBWWEsWUFGaEI7QUFHUkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEdBQUcsRUFBRSxDQURIO0FBRUZDLE1BQUFBLEdBQUcsRUFBRTtBQUZILEtBSEU7QUFPUlYsSUFBQUEsVUFBVSxFQUFFO0FBQ1JDLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRGYsS0FQSjtBQVdSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEYsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEcEI7QUFYQztBQW5DQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVwZGF0ZSB3aXRoIHlvdXIgY29uZmlnIHNldHRpbmdzLlxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVzdDoge1xuICAgICAgICBjbGllbnQ6IFwicGdcIixcbiAgICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICAgICAgLy8gaG9zdDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQl9URVNULFxuICAgICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVNFUixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QT1NUR1JFU19QQVNTV09SRCxcbiAgICAgICAgfSxcbiAgICAgICAgbWlncmF0aW9uczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9taWdyYXRpb25zXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VlZHM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvc2VlZHNcIixcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgZGV2ZWxvcG1lbnQ6IHtcbiAgICAgICAgY2xpZW50OiBcInBnXCIsXG4gICAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGhvc3Q6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIsXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VU0VSLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgICBtaWdyYXRpb25zOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL21pZ3JhdGlvbnNcIixcbiAgICAgICAgfSxcblxuICAgICAgICBzZWVkczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9zZWVkc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIGNsaWVudDogXCJwZ1wiLFxuICAgICAgICBjb25uZWN0aW9uOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICAgIG1pbjogMixcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvbWlncmF0aW9uc1wiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHNlZWRzOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL3NlZWRzXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n    test: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB_TEST,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    development: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    production: {\n        client: \&quot;pg\&quot;,\n        connection: process.env.DATABASE_URL,\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e2&#x2F;knexfile_e268b34e213dcf9ff4bbc9c1fff3199f.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2676&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4994,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4991,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n  return new Promise((resolve, reject) &#x3D;&gt; {\n    jwt.sign(payload, process.env.JWT_SECRET, {\n      expiresIn: \&quot;3h\&quot;\n    }, (error, token) &#x3D;&gt; {\n      if (error) return reject(error);\n      return resolve(token);\n    });\n  });\n}\n\nmodule.exports &#x3D; {\n  sign\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2lnbiIsInBheWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJ0b2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBRUEsU0FBU0MsSUFBVCxDQUFjQyxPQUFkLEVBQXVCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwQ04sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQ0lDLE9BREosRUFFSUksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmhCLEVBR0k7QUFDSUMsTUFBQUEsU0FBUyxFQUFFO0FBRGYsS0FISixFQU1JLENBQUNDLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUNkLFVBQUlELEtBQUosRUFBVyxPQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYjtBQUNYLGFBQU9OLE9BQU8sQ0FBQ08sS0FBRCxDQUFkO0FBQ0gsS0FUTDtBQVdILEdBWk0sQ0FBUDtBQWFIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlosRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGp3dC5zaWduKFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjNoXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWduLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n    return new Promise((resolve, reject) &#x3D;&gt; {\n        jwt.sign(\n            payload,\n            process.env.JWT_SECRET,\n            {\n                expiresIn: \&quot;3h\&quot;,\n            },\n            (error, token) &#x3D;&gt; {\n                if (error) return reject(error);\n                return resolve(token);\n            }\n        );\n    });\n}\n\nmodule.exports &#x3D; {\n    sign,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;a2&#x2F;jwt_a2ecd03f3666d6bdf618e5bb010e6f13.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2728&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1961,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sign&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 127,
                    &quot;endOffset&quot;: 376,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 173,
                    &quot;endOffset&quot;: 372,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 273,
                    &quot;endOffset&quot;: 366,
                    &quot;count&quot;: 11
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\n\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({\n  to,\n  subject,\n  html,\n  from &#x3D; config[\&quot;emailFrom\&quot;]\n}) {\n  const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n  await transporter.sendMail({\n    from,\n    to,\n    subject,\n    html\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJmcm9tIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxTQUFqQjs7QUFFQSxlQUFlQSxTQUFmLENBQXlCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsT0FBTjtBQUFlQyxFQUFBQSxJQUFmO0FBQXFCQyxFQUFBQSxJQUFJLEdBQUdQLE1BQU0sQ0FBQyxXQUFEO0FBQWxDLENBQXpCLEVBQTRFO0FBQ3hFLFFBQU1RLFdBQVcsR0FBR1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCVCxNQUFNLENBQUMsYUFBRCxDQUFqQyxDQUFwQjtBQUNBLFFBQU1RLFdBQVcsQ0FBQ0UsUUFBWixDQUFxQjtBQUFFSCxJQUFBQSxJQUFGO0FBQVFILElBQUFBLEVBQVI7QUFBWUMsSUFBQUEsT0FBWjtBQUFxQkMsSUFBQUE7QUFBckIsR0FBckIsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRFbWFpbDtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwsIGZyb20gPSBjb25maWdbXCJlbWFpbEZyb21cIl0gfSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoY29uZmlnW1wic210cE9wdGlvbnNcIl0pO1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHsgZnJvbSwgdG8sIHN1YmplY3QsIGh0bWwgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({ to, subject, html, from &#x3D; config[\&quot;emailFrom\&quot;] }) {\n    const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n    await transporter.sendMail({ from, to, subject, html });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;email_4444491566e111edc26f59e95bae5b33.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2819&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1859,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1856,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 204,
                    &quot;endOffset&quot;: 441,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n  auth,\n  isOwner\n};\n\nfunction auth(roles &#x3D; []) {\n  if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n    roles &#x3D; [roles];\n  }\n\n  return async (req, res, next) &#x3D;&gt; {\n    let token;\n\n    if (req.headers.authorization &amp;&amp; req.headers.authorization.startsWith(\&quot;Bearer \&quot;)) {\n      token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n    } else {\n      return res.status(403).json({\n        message: \&quot;Token not found, access denied\&quot;\n      });\n    } &#x2F;&#x2F; verify token and account\n\n\n    try {\n      const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n      const user &#x3D; await User.query().where({\n        id: decodedToken.id\n      }).first();\n\n      if (!user || roles.length &amp;&amp; !roles.includes(decodedToken.role)) {\n        &#x2F;&#x2F; account does not exist or role not authorized\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      } &#x2F;&#x2F; authentication and authorization successful\n\n\n      req.user &#x3D; decodedToken;\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nfunction isOwner() {\n  return async (req, res, next) &#x3D;&gt; {\n    try {\n      const bool &#x3D; await Company.query().where({\n        owner_id: req.user.id,\n        id: req.params.company_id\n      }).first();\n\n      if (!bool) {\n        console.log(bool);\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      }\n\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIlVzZXIiLCJDb21wYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsImF1dGgiLCJpc093bmVyIiwicm9sZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZFRva2VuIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwicXVlcnkiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInJvbGUiLCJlcnJvciIsImJvb2wiLCJvd25lcl9pZCIsInBhcmFtcyIsImNvbXBhbnlfaWQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLHdCQUFELENBQXBCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFEYTtBQUViQyxFQUFBQTtBQUZhLENBQWpCOztBQUtBLFNBQVNELElBQVQsQ0FBY0UsS0FBSyxHQUFHLEVBQXRCLEVBQTBCO0FBQ3RCLE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkEsSUFBQUEsS0FBSyxHQUFHLENBQUNBLEtBQUQsQ0FBUjtBQUNIOztBQUVELFNBQU8sT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJQyxLQUFKOztBQUNBLFFBQ0lILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLElBQ0FMLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxVQUExQixDQUFxQyxTQUFyQyxDQUZKLEVBR0U7QUFDRUgsTUFBQUEsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBWixDQUEwQkUsS0FBMUIsQ0FBZ0MsU0FBaEMsRUFBMkMsQ0FBM0MsQ0FBUjtBQUNILEtBTEQsTUFLTztBQUNILGFBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQyxRQUFBQSxPQUFPLEVBQUU7QUFEZSxPQUFyQixDQUFQO0FBR0gsS0FYNEIsQ0FhN0I7OztBQUNBLFFBQUk7QUFDQSxZQUFNQyxZQUFZLEdBQUdwQixHQUFHLENBQUNxQixNQUFKLENBQVdULEtBQVgsRUFBa0JVLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFyQjtBQUVBLFlBQU1DLElBQUksR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsS0FBTCxHQUNkQyxLQURjLENBQ1I7QUFBRUMsUUFBQUEsRUFBRSxFQUFFUixZQUFZLENBQUNRO0FBQW5CLE9BRFEsRUFFZEMsS0FGYyxFQUFuQjs7QUFJQSxVQUFJLENBQUNKLElBQUQsSUFBVWpCLEtBQUssQ0FBQ3NCLE1BQU4sSUFBZ0IsQ0FBQ3RCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZVgsWUFBWSxDQUFDWSxJQUE1QixDQUEvQixFQUFtRTtBQUMvRDtBQUNBLGVBQU90QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0gsT0FWRCxDQVlBOzs7QUFDQVYsTUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixHQUFXTCxZQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDUCxLQWZELENBZUUsT0FBT3NCLEtBQVAsRUFBYztBQUNadEIsTUFBQUEsSUFBSSxDQUFDc0IsS0FBRCxDQUFKO0FBQ0g7QUFDSixHQWhDRDtBQWlDSDs7QUFFRCxTQUFTMUIsT0FBVCxHQUFtQjtBQUNmLFNBQU8sT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJO0FBQ0EsWUFBTXVCLElBQUksR0FBRyxNQUFNL0IsT0FBTyxDQUFDdUIsS0FBUixHQUNkQyxLQURjLENBQ1I7QUFDSFEsUUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTRyxFQURoQjtBQUVIQSxRQUFBQSxFQUFFLEVBQUVuQixHQUFHLENBQUMyQixNQUFKLENBQVdDO0FBRlosT0FEUSxFQUtkUixLQUxjLEVBQW5COztBQU9BLFVBQUksQ0FBQ0ssSUFBTCxFQUFXO0FBQ1BJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxJQUFaO0FBQ0EsZUFBT3hCLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCLENBQVA7QUFDSDs7QUFDRFIsTUFBQUEsSUFBSTtBQUNQLEtBYkQsQ0FhRSxPQUFPc0IsS0FBUCxFQUFjO0FBQ1p0QixNQUFBQSxJQUFJLENBQUNzQixLQUFELENBQUo7QUFDSDtBQUNKLEdBakJEO0FBa0JIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vYXBpL3VzZXIvdXNlci5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vYXBpL2NvbXBhbnkvY29tcGFueS5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aCxcbiAgICBpc093bmVyLFxufTtcblxuZnVuY3Rpb24gYXV0aChyb2xlcyA9IFtdKSB7XG4gICAgaWYgKHR5cGVvZiByb2xlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByb2xlcyA9IFtyb2xlc107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3RhcnRzV2l0aChcIkJlYXJlciBcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCJCZWFyZXIgXCIpWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIG5vdCBmb3VuZCwgYWNjZXNzIGRlbmllZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgdG9rZW4gYW5kIGFjY291bnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgKHJvbGVzLmxlbmd0aCAmJiAhcm9sZXMuaW5jbHVkZXMoZGVjb2RlZFRva2VuLnJvbGUpKSkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb3Igcm9sZSBub3QgYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZFRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc093bmVyKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogcmVxLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiByZXEucGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9vbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n    auth,\n    isOwner,\n};\n\nfunction auth(roles &#x3D; []) {\n    if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n        roles &#x3D; [roles];\n    }\n\n    return async (req, res, next) &#x3D;&gt; {\n        let token;\n        if (\n            req.headers.authorization &amp;&amp;\n            req.headers.authorization.startsWith(\&quot;Bearer \&quot;)\n        ) {\n            token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n        } else {\n            return res.status(403).json({\n                message: \&quot;Token not found, access denied\&quot;,\n            });\n        }\n\n        &#x2F;&#x2F; verify token and account\n        try {\n            const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n\n            const user &#x3D; await User.query()\n                .where({ id: decodedToken.id })\n                .first();\n\n            if (!user || (roles.length &amp;&amp; !roles.includes(decodedToken.role))) {\n                &#x2F;&#x2F; account does not exist or role not authorized\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            &#x2F;&#x2F; authentication and authorization successful\n            req.user &#x3D; decodedToken;\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n\nfunction isOwner() {\n    return async (req, res, next) &#x3D;&gt; {\n        try {\n            const bool &#x3D; await Company.query()\n                .where({\n                    owner_id: req.user.id,\n                    id: req.params.company_id,\n                })\n                .first();\n\n            if (!bool) {\n                console.log(bool);\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;be&#x2F;auth_bef81972d508eee6f0010ea0d7e5ae1e.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2853&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7428,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7425,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;auth&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 275,
                    &quot;endOffset&quot;: 1253,
                    &quot;count&quot;: 28
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 1250,
                    &quot;count&quot;: 33
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1255,
                    &quot;endOffset&quot;: 1662,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1285,
                    &quot;endOffset&quot;: 1659,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n  static get tableName() {\n    return tableNames.company;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n\n    const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n    return {\n      owner: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.company}.owner_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      accounts: {\n        relation: Model.HasManyRelation,\n        modelClass: Account,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.accounts}.company_id&#x60;\n        }\n      },\n      menus: {\n        relation: Model.HasManyRelation,\n        modelClass: Menu,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.menu}.company_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports &#x3D; Company;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsInNjaGVtYSIsIkNvbXBhbnkiLCJ0YWJsZU5hbWUiLCJjb21wYW55IiwianNvblNjaGVtYSIsInJlbGF0aW9uTWFwcGluZ3MiLCJVc2VyIiwiQWNjb3VudCIsIk1lbnUiLCJvd25lciIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsInVzZXIiLCJhY2NvdW50cyIsIkhhc01hbnlSZWxhdGlvbiIsIm1lbnVzIiwibWVudSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxPQUFOLFNBQXNCSixLQUF0QixDQUE0QjtBQUN4QixhQUFXSyxTQUFYLEdBQXVCO0FBQ25CLFdBQU9ILFVBQVUsQ0FBQ0ksT0FBbEI7QUFDSDs7QUFFRCxhQUFXQyxVQUFYLEdBQXdCO0FBQ3BCLFdBQU9KLE1BQVA7QUFDSDs7QUFFRCxhQUFXSyxnQkFBWCxHQUE4QjtBQUMxQjtBQUNBLFVBQU1DLElBQUksR0FBR1IsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLFVBQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLDJCQUFELENBQXZCOztBQUNBLFVBQU1VLElBQUksR0FBR1YsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUVBLFdBQU87QUFDSFcsTUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFFBQUFBLFFBQVEsRUFBRWIsS0FBSyxDQUFDYyxvQkFEYjtBQUVIQyxRQUFBQSxVQUFVLEVBQUVOLElBRlQ7QUFHSE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZixVQUFVLENBQUNJLE9BQVEsV0FEMUI7QUFFRlksVUFBQUEsRUFBRSxFQUFHLEdBQUVoQixVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEgsT0FESjtBQVNIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURWO0FBRU5OLFFBQUFBLFVBQVUsRUFBRUwsT0FGTjtBQUdOTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ2tCLFFBQVM7QUFGekI7QUFIQSxPQVRQO0FBaUJIRSxNQUFBQSxLQUFLLEVBQUU7QUFDSFQsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURiO0FBRUhOLFFBQUFBLFVBQVUsRUFBRUosSUFGVDtBQUdISyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ3FCLElBQUs7QUFGckI7QUFISDtBQWpCSixLQUFQO0FBMEJIOztBQXpDdUI7O0FBNEM1QkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkuc2NoZW1hLmpzb25cIik7XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLmNvbXBhbnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IHJlcXVpcmUoXCIuL2FjY291bnRzL2FjY291bnRzLm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvd25lcjoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBVc2VyLFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5vd25lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY291bnRzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBBY2NvdW50LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmFjY291bnRzfS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBNZW51LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLm1lbnV9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wYW55O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n    static get tableName() {\n        return tableNames.company;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n        const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n        const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n        return {\n            owner: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.company}.owner_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            accounts: {\n                relation: Model.HasManyRelation,\n                modelClass: Account,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.accounts}.company_id&#x60;,\n                },\n            },\n            menus: {\n                relation: Model.HasManyRelation,\n                modelClass: Menu,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.menu}.company_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nmodule.exports &#x3D; Company;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8b&#x2F;companymodel_8b713279ce3af8b604431fcbf24964b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2854&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5514,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5511,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Company&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 241,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 20
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 280,
                    &quot;endOffset&quot;: 332,
                    &quot;count&quot;: 81
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 343,
                    &quot;endOffset&quot;: 384,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 395,
                    &quot;endOffset&quot;: 1298,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  admin: \&quot;admin\&quot;,\n  owner: \&quot;owner\&quot;,\n  customer: \&quot;customer\&quot;,\n  staff: \&quot;staff\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFkbWluIiwib3duZXIiLCJjdXN0b21lciIsInN0YWZmIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLEtBQUssRUFBRSxPQURNO0FBRWJDLEVBQUFBLEtBQUssRUFBRSxPQUZNO0FBR2JDLEVBQUFBLFFBQVEsRUFBRSxVQUhHO0FBSWJDLEVBQUFBLEtBQUssRUFBRTtBQUpNLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRtaW46IFwiYWRtaW5cIixcbiAgICBvd25lcjogXCJvd25lclwiLFxuICAgIGN1c3RvbWVyOiBcImN1c3RvbWVyXCIsXG4gICAgc3RhZmY6IFwic3RhZmZcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    admin: \&quot;admin\&quot;,\n    owner: \&quot;owner\&quot;,\n    customer: \&quot;customer\&quot;,\n    staff: \&quot;staff\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;c3&#x2F;role_c386996d0c7428ed82a7fa0a3ec37236.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2855&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 789,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 786,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\n\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  scopedItems\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\n\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\n\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\n\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.owner_id &#x3D; req.user.id;\n  companyService.create(req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n  companyService.getAllCompanies().then(companies &#x3D;&gt; {\n    res.json(scopedItems(req.user, companies));\n  }).catch(next);\n}\n\nfunction getMyCompanies(req, res, next) {\n  companyService.getMyCompanies(req.user.id).then(companies &#x3D;&gt; companies ? res.json(companies) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyById(req, res, next) {\n  &#x2F;&#x2F; owner can get his company and the admin can get any company\n  companyService.getCompanyById(req.params.id).then(company &#x3D;&gt; {\n    if (company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    res.json(company);\n  }).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company\n  companyService.updateCompany({\n    id: req.params.id,\n    owner_id: req.user.id\n  }, req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company\n  companyService._delete({\n    id: parseInt(req.params.id),\n    owner_id: req.user.id\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: parseInt(req.params.id)\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiY29tcGFueVNlcnZpY2UiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJzY29wZWRJdGVtcyIsIkFjY291bnQiLCJNZW51IiwiT3JkZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsInBhdGNoIiwidXBkYXRlIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRNeUNvbXBhbmllcyIsImdldENvbXBhbnlCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZUNvbXBhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJvd25lcl9pZCIsInVzZXIiLCJpZCIsInRoZW4iLCJjb21wYW55IiwianNvbiIsImNhdGNoIiwiY29tcGFuaWVzIiwic2VuZFN0YXR1cyIsInBhcmFtcyIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQ29tcGFueSIsIl9kZWxldGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsc0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVPLEVBQUFBO0FBQUYsSUFBa0JQLE9BQU8sQ0FBQyx5QkFBRCxDQUEvQjs7QUFF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QURMLENBQ2E7QUFBRVosSUFBQUEsRUFBRSxFQUFFYSxRQUFRLENBQUNuQixHQUFHLENBQUNhLE1BQUosQ0FBV1AsRUFBWixDQUFkO0FBQStCRixJQUFBQSxRQUFRLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQztBQUFsRCxHQURiLEVBRUtDLElBRkwsQ0FFVSxNQUFNO0FBQ1JOLElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixDQUFTO0FBQUVILE1BQUFBLEVBQUUsRUFBRWEsUUFBUSxDQUFDbkIsR0FBRyxDQUFDYSxNQUFKLENBQVdQLEVBQVo7QUFBZCxLQUFUO0FBQ0gsR0FKTCxFQUtLSSxLQUxMLENBS1dSLElBTFg7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY29tcGFueS5zZXJ2aWNlXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCB7IHNjb3BlZEl0ZW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcGVybWlzc2lvbnNcIik7XG5cbmNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy9hY2NvdW50cy5yb3V0ZXNcIik7XG5jb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51LnJvdXRlc1wiKTtcbmNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4vb3JkZXIvb3JkZXIucm91dGVzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnkvMS9hY2NvdW50c1xucm91dGVyLnVzZShcIi86Y29tcGFueV9pZC9hY2NvdW50c1wiLCBBY2NvdW50KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvbWVudVwiLCBNZW51KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvb3JkZXJcIiwgT3JkZXIpO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmdldChcIi9cIiwgQXV0aChbUm9sZS5hZG1pbl0pLCBnZXRBbGxDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi9taW5lXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgZ2V0TXlDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aChbUm9sZS5hZG1pbiwgUm9sZS5vd25lcl0pLCBnZXRDb21wYW55QnlJZCk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLmFkbWluLCBSb2xlLm93bmVyXSksIF9kZWxldGVDb21wYW55KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5Lm93bmVyX2lkID0gcmVxLnVzZXIuaWQ7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGxDb21wYW5pZXMoKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihzY29wZWRJdGVtcyhyZXEudXNlciwgY29tcGFuaWVzKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldE15Q29tcGFuaWVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldE15Q29tcGFuaWVzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PlxuICAgICAgICAgICAgY29tcGFuaWVzID8gcmVzLmpzb24oY29tcGFuaWVzKSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb21wYW55QnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG93bmVyIGNhbiBnZXQgaGlzIGNvbXBhbnkgYW5kIHRoZSBhZG1pbiBjYW4gZ2V0IGFueSBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY29tcGFueS5vd25lcl9pZCAhPT0gcmVxLnVzZXIuaWQgJiZcbiAgICAgICAgICAgICAgICByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMuanNvbihjb21wYW55KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueVxuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVDb21wYW55KHsgaWQ6IHJlcS5wYXJhbXMuaWQsIG93bmVyX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDb21wYW55KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLl9kZWxldGUoeyBpZDogcGFyc2VJbnQocmVxLnBhcmFtcy5pZCksIG93bmVyX2lkOiByZXEudXNlci5pZCB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IGlkOiBwYXJzZUludChyZXEucGFyYW1zLmlkKSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { scopedItems } &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.owner_id &#x3D; req.user.id;\n    companyService\n        .create(req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n    companyService\n        .getAllCompanies()\n        .then((companies) &#x3D;&gt; {\n            res.json(scopedItems(req.user, companies));\n        })\n        .catch(next);\n}\nfunction getMyCompanies(req, res, next) {\n    companyService\n        .getMyCompanies(req.user.id)\n        .then((companies) &#x3D;&gt;\n            companies ? res.json(companies) : res.sendStatus(404)\n        )\n        .catch(next);\n}\nfunction getCompanyById(req, res, next) {\n    &#x2F;&#x2F; owner can get his company and the admin can get any company\n    companyService\n        .getCompanyById(req.params.id)\n        .then((company) &#x3D;&gt; {\n            if (\n                company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp;\n                req.user.role !&#x3D;&#x3D; Role.admin\n            ) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            res.json(company);\n        })\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company\n    companyService\n        .updateCompany({ id: req.params.id, owner_id: req.user.id }, req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company\n    companyService\n        ._delete({ id: parseInt(req.params.id), owner_id: req.user.id })\n        .then(() &#x3D;&gt; {\n            res.json({ id: parseInt(req.params.id) });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2a&#x2F;companyroutes_2accae81b914ebc49b8ad824faf130cd.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2856&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 11663,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 11660,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1186,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1294,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1340,
                    &quot;endOffset&quot;: 1505,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1423,
                    &quot;endOffset&quot;: 1489,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1507,
                    &quot;endOffset&quot;: 1681,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1599,
                    &quot;endOffset&quot;: 1665,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1644,
                    &quot;endOffset&quot;: 1665,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1683,
                    &quot;endOffset&quot;: 2058,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1842,
                    &quot;endOffset&quot;: 2042,
                    &quot;count&quot;: 3
                  },
                  {
                    &quot;startOffset&quot;: 1896,
                    &quot;endOffset&quot;: 1927,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1929,
                    &quot;endOffset&quot;: 2014,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2014,
                    &quot;endOffset&quot;: 2041,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2281,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2237,
                    &quot;endOffset&quot;: 2265,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;_deleteCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2283,
                    &quot;endOffset&quot;: 2553,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2469,
                    &quot;endOffset&quot;: 2537,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    logo_url: Joi.string(),\n    website_url: Joi.string(),\n    email: Joi.string().email().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    owner: Joi.number().empty(\&quot;\&quot;),\n    logo_url: Joi.string().empty(\&quot;\&quot;),\n    website_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsImxvZ29fdXJsIiwid2Vic2l0ZV91cmwiLCJlbWFpbCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiLCJvd25lciIsIm51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsUUFBUSxFQUFFZCxHQUFHLENBQUNXLE1BQUosRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosRUFKUztBQUt0QkssSUFBQUEsS0FBSyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFLLEtBQWIsR0FBcUJKLFFBQXJCO0FBTGUsR0FBWCxDQUFmO0FBT0FWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQ7O0FBV0FMLE9BQU8sQ0FBQ2MsWUFBUixHQUF1QixDQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNVyxXQUFXLEdBQUc7QUFDaEJSLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQk4sSUFBQUEsV0FBVyxFQUFFYixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQixDQUZHO0FBR2hCSCxJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYUssS0FBYixHQUFxQkcsS0FBckIsQ0FBMkIsRUFBM0IsQ0FIUztBQUloQkMsSUFBQUEsS0FBSyxFQUFFcEIsR0FBRyxDQUFDcUIsTUFBSixHQUFhRixLQUFiLENBQW1CLEVBQW5CLENBSlM7QUFLaEJMLElBQUFBLFFBQVEsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FMTTtBQU1oQkosSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQjtBQU5HLEdBQXBCO0FBU0EsUUFBTVgsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV1MsV0FBWCxDQUFmO0FBRUFoQixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQWJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBsb2dvX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICB3ZWJzaXRlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIG93bmVyOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGxvZ29fdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIHdlYnNpdGVfdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        logo_url: Joi.string(),\n        website_url: Joi.string(),\n        email: Joi.string().email().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        owner: Joi.number().empty(\&quot;\&quot;),\n        logo_url: Joi.string().empty(\&quot;\&quot;),\n        website_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;3c&#x2F;companyvalidators_3ce01f397e22205413767a4933ebdfd8.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2857&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4153,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4150,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 489,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 515,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n  create,\n  updateCompany,\n  getAllCompanies,\n  getMyCompanies,\n  getCompanyById,\n  _delete\n};\n\nasync function create(params) {\n  &#x2F;&#x2F; validate if company name exists\n  if (await getCompany({\n    name: params.name\n  })) {\n    error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n  }\n\n  const company &#x3D; await Company.query().insert(params);\n  return company;\n}\n\nasync function updateCompany(queryParams, params) {\n  const company &#x3D; await getCompany({ ...queryParams\n  });\n\n  if (!company) {\n    error(\&quot;Unauthorized\&quot;);\n  } &#x2F;&#x2F; validate if name was changed\n\n\n  if (params.name &amp;&amp; company.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCompany({\n    name: params.name\n  }))) {\n    error(&#x60;Name ${params.name} is already taken&#x60;);\n  }\n\n  const updatedCompany &#x3D; await Company.query().patchAndFetchById(queryParams.id, { ...params\n  });\n  return updatedCompany;\n}\n\nasync function getAllCompanies() {\n  const companies &#x3D; await Company.query();\n  return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n  const companies &#x3D; await Company.query().where({\n    owner_id: ownerId\n  });\n  return companies;\n}\n\nasync function getCompanyById(id) {\n  const company &#x3D; await getCompany({\n    id\n  });\n  return company;\n}\n\nasync function _delete(queryParams) {\n  const tobeDeleted &#x3D; await getCompany(queryParams);\n\n  if (tobeDeleted) {\n    return await Company.query().delete().where({ ...queryParams\n    });\n  }\n\n  return error(\&quot;Forbidden\&quot;);\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCompany(param) {\n  const company &#x3D; await Company.query().where({ ...param\n  }).first();\n  return company;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDb21wYW55IiwicmVxdWlyZSIsImVycm9yIiwiY3JlYXRlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlIiwidXBkYXRlQ29tcGFueSIsImdldEFsbENvbXBhbmllcyIsImdldE15Q29tcGFuaWVzIiwiZ2V0Q29tcGFueUJ5SWQiLCJfZGVsZXRlIiwicGFyYW1zIiwiZ2V0Q29tcGFueSIsIm5hbWUiLCJjb21wYW55IiwicXVlcnkiLCJpbnNlcnQiLCJxdWVyeVBhcmFtcyIsInVwZGF0ZWRDb21wYW55IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJpZCIsImNvbXBhbmllcyIsIm93bmVySWQiLCJ3aGVyZSIsIm93bmVyX2lkIiwidG9iZURlbGV0ZWQiLCJkZWxldGUiLCJwYXJhbSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUFyQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxhQUZhO0FBR2JDLEVBQUFBLGVBSGE7QUFJYkMsRUFBQUEsY0FKYTtBQUtiQyxFQUFBQSxjQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsTUFBZixDQUFzQk0sTUFBdEIsRUFBOEI7QUFDMUI7QUFDQSxNQUFJLE1BQU1DLFVBQVUsQ0FBQztBQUFFQyxJQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0U7QUFBZixHQUFELENBQXBCLEVBQTZDO0FBQ3pDWixJQUFBQSxLQUFLLENBQUMsV0FBV1UsTUFBTSxDQUFDRSxJQUFsQixHQUF5Qix5QkFBMUIsQ0FBTDtBQUNIOztBQUVELFFBQU1DLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQWdCQyxNQUFoQixDQUF1QkwsTUFBdkIsQ0FBdEI7QUFDQSxTQUFPRyxPQUFQO0FBQ0g7O0FBRUQsZUFBZVIsYUFBZixDQUE2QlcsV0FBN0IsRUFBMENOLE1BQTFDLEVBQWtEO0FBQzlDLFFBQU1HLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUMsRUFBRSxHQUFHSztBQUFMLEdBQUQsQ0FBaEM7O0FBRUEsTUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVmIsSUFBQUEsS0FBSyxDQUFDLGNBQUQsQ0FBTDtBQUNILEdBTDZDLENBTzlDOzs7QUFDQSxNQUNJVSxNQUFNLENBQUNFLElBQVAsSUFDQUMsT0FBTyxDQUFDRCxJQUFSLEtBQWlCRixNQUFNLENBQUNFLElBRHhCLEtBRUMsTUFBTUQsVUFBVSxDQUFDO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBTSxDQUFDRTtBQUFmLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0VaLElBQUFBLEtBQUssQ0FBRSxRQUFPVSxNQUFNLENBQUNFLElBQUssbUJBQXJCLENBQUw7QUFDSDs7QUFFRCxRQUFNSyxjQUFjLEdBQUcsTUFBTW5CLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JJLGlCQUFoQixDQUN6QkYsV0FBVyxDQUFDRyxFQURhLEVBRXpCLEVBQ0ksR0FBR1Q7QUFEUCxHQUZ5QixDQUE3QjtBQU9BLFNBQU9PLGNBQVA7QUFDSDs7QUFFRCxlQUFlWCxlQUFmLEdBQWlDO0FBQzdCLFFBQU1jLFNBQVMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDZ0IsS0FBUixFQUF4QjtBQUNBLFNBQU9NLFNBQVA7QUFDSDs7QUFFRCxlQUFlYixjQUFmLENBQThCYyxPQUE5QixFQUF1QztBQUNuQyxRQUFNRCxTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JRLEtBQWhCLENBQXNCO0FBQzFDQyxJQUFBQSxRQUFRLEVBQUVGO0FBRGdDLEdBQXRCLENBQXhCO0FBR0EsU0FBT0QsU0FBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsQ0FBOEJXLEVBQTlCLEVBQWtDO0FBQzlCLFFBQU1OLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUM7QUFBRVEsSUFBQUE7QUFBRixHQUFELENBQWhDO0FBQ0EsU0FBT04sT0FBUDtBQUNIOztBQUVELGVBQWVKLE9BQWYsQ0FBdUJPLFdBQXZCLEVBQW9DO0FBQ2hDLFFBQU1RLFdBQVcsR0FBRyxNQUFNYixVQUFVLENBQUNLLFdBQUQsQ0FBcEM7O0FBRUEsTUFBSVEsV0FBSixFQUFpQjtBQUNiLFdBQU8sTUFBTTFCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FDUlcsTUFEUSxHQUVSSCxLQUZRLENBRUYsRUFBRSxHQUFHTjtBQUFMLEtBRkUsQ0FBYjtBQUdIOztBQUVELFNBQU9oQixLQUFLLENBQUMsV0FBRCxDQUFaO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUVBLGVBQWVXLFVBQWYsQ0FBMEJlLEtBQTFCLEVBQWlDO0FBQzdCLFFBQU1iLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQ2pCUSxLQURpQixDQUNYLEVBQUUsR0FBR0k7QUFBTCxHQURXLEVBRWpCQyxLQUZpQixFQUF0QjtBQUdBLFNBQU9kLE9BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5jb25zdCBjcmVhdGVFcnJvciA9IHJlcXVpcmUoXCJodHRwLWVycm9yc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUNvbXBhbnksXG4gICAgZ2V0QWxsQ29tcGFuaWVzLFxuICAgIGdldE15Q29tcGFuaWVzLFxuICAgIGdldENvbXBhbnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGUgaWYgY29tcGFueSBuYW1lIGV4aXN0c1xuICAgIGlmIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpIHtcbiAgICAgICAgZXJyb3IoJ05hbWUgXCInICsgcGFyYW1zLm5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcGFueShxdWVyeVBhcmFtcywgcGFyYW1zKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyAuLi5xdWVyeVBhcmFtcyB9KTtcblxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgICBlcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBpZiBuYW1lIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjb21wYW55Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBOYW1lICR7cGFyYW1zLm5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChcbiAgICAgICAgcXVlcnlQYXJhbXMuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gdXBkYXRlZENvbXBhbnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHtcbiAgICBjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNvbXBhbmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TXlDb21wYW5pZXMob3duZXJJZCkge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS53aGVyZSh7XG4gICAgICAgIG93bmVyX2lkOiBvd25lcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBjb21wYW5pZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyBpZCB9KTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGNvbnN0IHRvYmVEZWxldGVkID0gYXdhaXQgZ2V0Q29tcGFueShxdWVyeVBhcmFtcyk7XG5cbiAgICBpZiAodG9iZURlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvbXBhbnkucXVlcnkoKVxuICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAud2hlcmUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3IoXCJGb3JiaWRkZW5cIik7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIF9zb2Z0RGVsZXRlKGlkKSB7XG4vL21hcmsgYXMgaW5hY3RpdmVcbi8vICBhd2FpdCBDb21wYW55LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnkocGFyYW0pIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBjb21wYW55O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n    create,\n    updateCompany,\n    getAllCompanies,\n    getMyCompanies,\n    getCompanyById,\n    _delete,\n};\n\nasync function create(params) {\n    &#x2F;&#x2F; validate if company name exists\n    if (await getCompany({ name: params.name })) {\n        error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n    }\n\n    const company &#x3D; await Company.query().insert(params);\n    return company;\n}\n\nasync function updateCompany(queryParams, params) {\n    const company &#x3D; await getCompany({ ...queryParams });\n\n    if (!company) {\n        error(\&quot;Unauthorized\&quot;);\n    }\n\n    &#x2F;&#x2F; validate if name was changed\n    if (\n        params.name &amp;&amp;\n        company.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCompany({ name: params.name }))\n    ) {\n        error(&#x60;Name ${params.name} is already taken&#x60;);\n    }\n\n    const updatedCompany &#x3D; await Company.query().patchAndFetchById(\n        queryParams.id,\n        {\n            ...params,\n        }\n    );\n\n    return updatedCompany;\n}\n\nasync function getAllCompanies() {\n    const companies &#x3D; await Company.query();\n    return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n    const companies &#x3D; await Company.query().where({\n        owner_id: ownerId,\n    });\n    return companies;\n}\n\nasync function getCompanyById(id) {\n    const company &#x3D; await getCompany({ id });\n    return company;\n}\n\nasync function _delete(queryParams) {\n    const tobeDeleted &#x3D; await getCompany(queryParams);\n\n    if (tobeDeleted) {\n        return await Company.query()\n            .delete()\n            .where({ ...queryParams });\n    }\n\n    return error(\&quot;Forbidden\&quot;);\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCompany(param) {\n    const company &#x3D; await Company.query()\n        .where({ ...param })\n        .first();\n    return company;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;10&#x2F;companyservice_103976749abb46712c9f5147304425bb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2858&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7967,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 615,
                    &quot;count&quot;: 3
                  },
                  {
                    &quot;startOffset&quot;: 468,
                    &quot;endOffset&quot;: 470,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 538,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 538,
                    &quot;endOffset&quot;: 613,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 613,
                    &quot;endOffset&quot;: 614,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;updateCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 617,
                    &quot;endOffset&quot;: 1096,
                    &quot;count&quot;: 17
                  },
                  {
                    &quot;startOffset&quot;: 726,
                    &quot;endOffset&quot;: 744,
                    &quot;count&quot;: 6
                  },
                  {
                    &quot;startOffset&quot;: 744,
                    &quot;endOffset&quot;: 776,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 776,
                    &quot;endOffset&quot;: 860,
                    &quot;count&quot;: 4
                  },
                  {
                    &quot;startOffset&quot;: 861,
                    &quot;endOffset&quot;: 911,
                    &quot;count&quot;: 3
                  },
                  {
                    &quot;startOffset&quot;: 913,
                    &quot;endOffset&quot;: 1094,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1094,
                    &quot;endOffset&quot;: 1095,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1098,
                    &quot;endOffset&quot;: 1197,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1175,
                    &quot;endOffset&quot;: 1195,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1195,
                    &quot;endOffset&quot;: 1196,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1199,
                    &quot;endOffset&quot;: 1339,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1317,
                    &quot;endOffset&quot;: 1337,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1337,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1341,
                    &quot;endOffset&quot;: 1446,
                    &quot;count&quot;: 6
                  },
                  {
                    &quot;startOffset&quot;: 1426,
                    &quot;endOffset&quot;: 1444,
                    &quot;count&quot;: 3
                  },
                  {
                    &quot;startOffset&quot;: 1444,
                    &quot;endOffset&quot;: 1445,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1448,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 5
                  },
                  {
                    &quot;startOffset&quot;: 1538,
                    &quot;endOffset&quot;: 1559,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1559,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1667,
                    &quot;endOffset&quot;: 1668,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1808,
                    &quot;endOffset&quot;: 1933,
                    &quot;count&quot;: 30
                  },
                  {
                    &quot;startOffset&quot;: 1913,
                    &quot;endOffset&quot;: 1931,
                    &quot;count&quot;: 15
                  },
                  {
                    &quot;startOffset&quot;: 1931,
                    &quot;endOffset&quot;: 1932,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; message &#x3D;&gt; {\n  const error &#x3D; new Error(message);\n  throw error;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsT0FBRCxJQUFhO0FBQzFCLFFBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLE9BQVYsQ0FBZDtBQUNBLFFBQU1DLEtBQU47QUFDSCxDQUhEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; (message) &#x3D;&gt; {\n    const error &#x3D; new Error(message);\n    throw error;\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;fa&#x2F;error_fa67f28dedb39797d87045fcac49c533.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2859&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 690,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 687,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 106,
                    &quot;endOffset&quot;: 171,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n  if (user.role &#x3D;&#x3D; role.admin) return items;\n  return items.filter(item &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n  scopedItems\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb25zLmpzIl0sIm5hbWVzIjpbInJvbGUiLCJyZXF1aXJlIiwic2NvcGVkSXRlbXMiLCJ1c2VyIiwiaXRlbXMiLCJhZG1pbiIsImZpbHRlciIsIml0ZW0iLCJvd25lcl9pZCIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsTUFBSUQsSUFBSSxDQUFDSCxJQUFMLElBQWFBLElBQUksQ0FBQ0ssS0FBdEIsRUFBNkIsT0FBT0QsS0FBUDtBQUM3QixTQUFPQSxLQUFLLENBQUNFLE1BQU4sQ0FBY0MsSUFBRCxJQUFVQSxJQUFJLENBQUNDLFFBQUwsSUFBaUJMLElBQUksQ0FBQ00sRUFBN0MsQ0FBUDtBQUNIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlQsRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvbGUgPSByZXF1aXJlKFwiLi9yb2xlXCIpO1xuXG5mdW5jdGlvbiBzY29wZWRJdGVtcyh1c2VyLCBpdGVtcykge1xuICAgIGlmICh1c2VyLnJvbGUgPT0gcm9sZS5hZG1pbikgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ub3duZXJfaWQgPT0gdXNlci5pZCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNjb3BlZEl0ZW1zLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n    if (user.role &#x3D;&#x3D; role.admin) return items;\n    return items.filter((item) &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n    scopedItems,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;08&#x2F;permissions_089e905c4105820f9841c9d528f11f86.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2862&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1344,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1341,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;scopedItems&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 122,
                    &quot;endOffset&quot;: 261,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 202,
                    &quot;endOffset&quot;: 260,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 225,
                    &quot;endOffset&quot;: 257,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n  mergeParams: true\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n  try {\n    &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n    &#x2F;&#x2F; }\n    const accounts &#x3D; await Account.query().where({\n      company_id: req.params.company_id\n    });\n\n    if (!accounts) {\n      return res.status(404);\n    }\n\n    res.json(accounts);\n  } catch (error) {\n    next(error);\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJBY2NvdW50IiwicmVxdWlyZSIsIkNvbXBhbnkiLCJSb2xlIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJnZXQiLCJhZG1pbiIsIm93bmVyIiwiZ2V0QWNjb3VudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImFjY291bnRzIiwicXVlcnkiLCJ3aGVyZSIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUcsRUFBQUEsSUFBSSxFQUFFQyxJQUFSO0FBQWNDLEVBQUFBO0FBQWQsSUFBMEJMLE9BQU8sQ0FBQyw0QkFBRCxDQUF2Qzs7QUFFQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJPLE1BQW5CLENBQTBCO0FBQ3JDQyxFQUFBQSxXQUFXLEVBQUU7QUFEd0IsQ0FBMUIsQ0FBZjs7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkwsSUFBSSxDQUFDLENBQUNGLElBQUksQ0FBQ1EsS0FBTixFQUFhUixJQUFJLENBQUNTLEtBQWxCLENBQUQsQ0FBcEIsRUFBZ0ROLE9BQU8sRUFBdkQsRUFBMkRPLFdBQTNEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakI7O0FBRUEsZUFBZU0sV0FBZixDQUEyQkcsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QyxNQUFJO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTUMsUUFBUSxHQUFHLE1BQU1uQixPQUFPLENBQUNvQixLQUFSLEdBQWdCQyxLQUFoQixDQUFzQjtBQUN6Q0MsTUFBQUEsVUFBVSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0Q7QUFEa0IsS0FBdEIsQ0FBdkI7O0FBSUEsUUFBSSxDQUFDSCxRQUFMLEVBQWU7QUFDWCxhQUFPRixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLENBQVA7QUFDSDs7QUFFRFAsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNOLFFBQVQ7QUFDSCxHQWRELENBY0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pSLElBQUFBLElBQUksQ0FBQ1EsS0FBRCxDQUFKO0FBQ0g7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS5tb2RlbFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcm9sZVwiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCwgaXNPd25lciB9ID0gcmVxdWlyZShcIi4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoW1JvbGUuYWRtaW4sIFJvbGUub3duZXJdKSwgaXNPd25lcigpLCBnZXRBY2NvdW50cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50cyhyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGlmICghY29tcGFueSAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50LnF1ZXJ5KCkud2hlcmUoe1xuICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjY291bnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oYWNjb3VudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n    mergeParams: true,\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\n\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n    try {\n        &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n        &#x2F;&#x2F; }\n\n        const accounts &#x3D; await Account.query().where({\n            company_id: req.params.company_id,\n        });\n\n        if (!accounts) {\n            return res.status(404);\n        }\n\n        res.json(accounts);\n    } catch (error) {\n        next(error);\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f5&#x2F;accountsroutes_f54e96c4db6e4acb21a322f351ad9a58.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2863&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3778,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3775,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccounts&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n  static get tableName() {\n    return tableNames.accounts;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n}\n\nmodule.exports &#x3D; Account;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJzY2hlbWEiLCJBY2NvdW50IiwidGFibGVOYW1lIiwiYWNjb3VudHMiLCJqc29uU2NoZW1hIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUVBLE1BQU1HLE9BQU4sU0FBc0JKLEtBQXRCLENBQTRCO0FBQ3hCLGFBQVdLLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0gsVUFBVSxDQUFDSSxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0osTUFBUDtBQUNIOztBQVB1Qjs7QUFVNUJLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkwsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2FjY291bnRzLnNjaGVtYS5qc29uXCIpO1xuXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5hY2NvdW50cztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGpzb25TY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnQ7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n    static get tableName() {\n        return tableNames.accounts;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n}\n\nmodule.exports &#x3D; Account;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;01&#x2F;accountsmodel_01a1ad309c7db6ca01e6d4ebe4774684.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2864&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Account&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 245,
                    &quot;endOffset&quot;: 245,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 284,
                    &quot;endOffset&quot;: 337,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 389,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\n\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.company_id &#x3D; parseInt(req.params.company_id);\n  menuService.createMenu(req.body).then(menu &#x3D;&gt; res.json(menu)).catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  menuService.getAllCompanyMenus({\n    id: company_id\n  }).then(menus &#x3D;&gt; menus ? res.json(menus) : res.sendStatus(404)).catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n  menuService.getMenuById(req.params.id).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService.updateMenu(req.params.id, req.body);\n  }).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiQ29tcGFueSIsImF1dGgiLCJBdXRoIiwiaXNPd25lciIsIlJvbGUiLCJDYXRlZ29yeSIsIm1lbnVTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlTWVudSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYm9keSIsImNvbXBhbnlfaWQiLCJwYXJzZUludCIsInBhcmFtcyIsImNyZWF0ZU1lbnUiLCJ0aGVuIiwibWVudSIsImpzb24iLCJjYXRjaCIsImlkIiwibWVudXMiLCJzZW5kU3RhdHVzIiwicXVlcnkiLCJ3aGVyZSIsInVzZXIiLCJmaXJzdCIsImNvbXBhbnkiLCJzdGF0dXMiLCJ1cGRhdGVNZW51IiwiX2RlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsa0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQk4sT0FBTyxDQUFDLDRCQUFELENBQXZDOztBQUNBLE1BQU1PLElBQUksR0FBR1AsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU1RLFFBQVEsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1T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aEJMLEVBaUJLRCxLQWpCTCxDQWlCV1QsSUFqQlg7QUFrQkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL21lbnUudmFsaWRhdG9yXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5LnJvdXRlc1wiKTtcblxuY29uc3QgbWVudVNlcnZpY2UgPSByZXF1aXJlKFwiLi9tZW51LnNlcnZpY2VcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbi8vIGFwaS92MS9jb21wYW55L2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeVxucm91dGVyLnVzZShcIi86bWVudV9pZC9jYXRlZ29yeVwiLCBDYXRlZ29yeSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQ29tcGFueU1lbnVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldE1lbnVCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCB1cGRhdGVTY2hlbWEsIHVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIF9kZWxldGVNZW51KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5LmNvbXBhbnlfaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmNvbXBhbnlfaWQpO1xuICAgIG1lbnVTZXJ2aWNlXG4gICAgICAgIC5jcmVhdGVNZW51KHJlcS5ib2R5KVxuICAgICAgICAudGhlbigobWVudSkgPT4gcmVzLmpzb24obWVudSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29tcGFueU1lbnVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjb21wYW55X2lkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgbWVudVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlNZW51cyh7IGlkOiBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChtZW51cykgPT4gKG1lbnVzID8gcmVzLmpzb24obWVudXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVudUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBtZW51U2VydmljZVxuICAgICAgICAuZ2V0TWVudUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKG1lbnUpID0+IChtZW51ID8gcmVzLmpzb24obWVudSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBtZW51XG5cbiAgICBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgb3duZXI6IHJlcS51c2VyLmlkIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJVbmF0aG9yaXplZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTZXJ2aWNlLnVwZGF0ZU1lbnUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigobWVudSkgPT4gKG1lbnUgPyByZXMuanNvbihtZW51KSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVNZW51KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55IG1lbnVcblxuICAgIENvbXBhbnkucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyBvd25lcjogcmVxLnVzZXIuaWQgfSlcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICghY29tcGFueSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICAgICAgICAgICAgICBlcnJvcihcIlVuYXRob3JpemVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.company_id &#x3D; parseInt(req.params.company_id);\n    menuService\n        .createMenu(req.body)\n        .then((menu) &#x3D;&gt; res.json(menu))\n        .catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    menuService\n        .getAllCompanyMenus({ id: company_id })\n        .then((menus) &#x3D;&gt; (menus ? res.json(menus) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n    menuService\n        .getMenuById(req.params.id)\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService.updateMenu(req.params.id, req.body);\n        })\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;99&#x2F;menuroutes_997150f167642e0bf13a4d7cf8d13bc4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2952&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 954,
                    &quot;endOffset&quot;: 1123,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1125,
                    &quot;endOffset&quot;: 1348,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1350,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1879,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1881,
                    &quot;endOffset&quot;: 2321,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    cover_url: Joi.string()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    cover_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUudmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJleHBvcnRzIiwiY3JlYXRlU2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiY292ZXJfdXJsIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsU0FBUyxFQUFFZCxHQUFHLENBQUNXLE1BQUo7QUFIVyxHQUFYLENBQWY7QUFLQVQsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FQRDs7QUFTQUwsT0FBTyxDQUFDWSxZQUFSLEdBQXVCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1TLFdBQVcsR0FBRztBQUNoQk4sSUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixDQUFtQixFQUFuQixDQURVO0FBRWhCSixJQUFBQSxXQUFXLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhTSxLQUFiLENBQW1CLEVBQW5CLENBRkc7QUFHaEJILElBQUFBLFNBQVMsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFwQjtBQU1BLFFBQU1ULE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdPLFdBQVgsQ0FBZjtBQUVBZCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdChzY2hlbWFSdWxlcyk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        cover_url: Joi.string(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        cover_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0b&#x2F;menuvalidator_0bff2254f7ebb231be87a9bba47a9cd7.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2953&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3165,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 216,
                    &quot;endOffset&quot;: 418,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 444,
                    &quot;endOffset&quot;: 689,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\n\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  &#x2F;&#x2F; check if owner of company\n  const payload &#x3D; req.body;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.createcategory(payload);\n  }).then(category &#x3D;&gt; res.json(category)).catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  categoryService.getAllCompanyCategorys({\n    company_id\n  }).then(categories &#x3D;&gt; categories ? res.json(categories) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n  categoryService.getCategoryById(req.params.id).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company category\n  const payload &#x3D; req.body;\n  payload.menu_id &#x3D; req.params.menu_id;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.updateCategory(req.params.id, payload);\n  }).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company category\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function isOwner(owner_id, company_id) {\n  const bool &#x3D; await Company.query().where({\n    owner_id,\n    id: company_id\n  }).first();\n  return bool;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZVNjaGVtYSIsInVwZGF0ZVNjaGVtYSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsIkNvbXBhbnkiLCJJdGVtIiwiY2F0ZWdvcnlTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlDYXRlZ29yeXMiLCJnZXRDYXRlZ29yeUJ5SWQiLCJwYXRjaCIsInVwZGF0ZSIsImRlbGV0ZSIsIl9kZWxldGVDYXRlZ29yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGF5bG9hZCIsImJvZHkiLCJpc093bmVyIiwidXNlciIsImlkIiwicGFyYW1zIiwiY29tcGFueV9pZCIsInRoZW4iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNyZWF0ZWNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjYXRjaCIsImNhdGVnb3JpZXMiLCJzZW5kU3RhdHVzIiwibWVudV9pZCIsInVwZGF0ZUNhdGVnb3J5IiwiX2RlbGV0ZSIsIm93bmVyX2lkIiwiYm9vbCIsInF1ZXJ5Iiwid2hlcmUiLCJmaXJzdCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsdUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJKLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFFQSxNQUFNTyxJ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T0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNIOztBQUNELFdBQU8vQixlQUFlLENBQUN1QyxPQUFoQixDQUF3QjtBQUMzQmQsTUFBQUEsRUFBRSxFQUFFUCxHQUFHLENBQUNRLE1BQUosQ0FBV0QsRUFEWTtBQUUzQkUsTUFBQUEsVUFBVSxFQUFFVCxHQUFHLENBQUNRLE1BQUosQ0FBV0M7QUFGSSxLQUF4QixDQUFQO0FBSUgsR0FUTCxFQVVLQyxJQVZMLENBVVUsTUFBTTtBQUNSVCxJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFTCxNQUFBQSxFQUFFLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRDtBQUFqQixLQUFUO0FBQ0gsR0FaTCxFQWFLUyxLQWJMLENBYVdkLElBYlg7QUFjSCxDLENBRUQ7OztBQUNBLGVBQWVHLE9BQWYsQ0FBdUJpQixRQUF2QixFQUFpQ2IsVUFBakMsRUFBNkM7QUFDekMsUUFBTWMsSUFBSSxHQUFHLE1BQU0zQyxPQUFPLENBQUM0QyxLQUFSLEdBQ2RDLEtBRGMsQ0FDUjtBQUFFSCxJQUFBQSxRQUFGO0FBQVlmLElBQUFBLEVBQUUsRUFBRUU7QUFBaEIsR0FEUSxFQUVkaUIsS0FGYyxFQUFuQjtBQUlBLFNBQU9ILElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCB9ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3QgUm9sZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi91dGlscy9yb2xlXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYW55Lm1vZGVsXCIpO1xuXG5jb25zdCBJdGVtID0gcmVxdWlyZShcIi4vaXRlbS9pdGVtLnJvdXRlc1wiKTtcblxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2VydmljZVwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeS9jYXRlZ29yeV9pZC9pdGVtXG5yb3V0ZXIudXNlKFwiLzpjYXRlZ29yeV9pZC9pdGVtXCIsIEl0ZW0pO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCBnZXRBbGxDb21wYW55Q2F0ZWdvcnlzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldENhdGVnb3J5QnlJZCk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBfZGVsZXRlQ2F0ZWdvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gY2hlY2sgaWYgb3duZXIgb2YgY29tcGFueVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcblxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlY2F0ZWdvcnkocGF5bG9hZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yeSkgPT4gcmVzLmpzb24oY2F0ZWdvcnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbnlDYXRlZ29yeXMocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IGNvbXBhbnlfaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlDYXRlZ29yeXMoeyBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yaWVzKSA9PlxuICAgICAgICAgICAgY2F0ZWdvcmllcyA&#x2F;IHJlcy5qc29uKGNhdGVnb3JpZXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgICAgIC5nZXRDYXRlZ29yeUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGNhdGVnb3J5KSA9PlxuICAgICAgICAgICAgY2F0ZWdvcnkgPyByZXMuanNvbihjYXRlZ29yeSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcbiAgICBwYXlsb2FkLm1lbnVfaWQgPSByZXEucGFyYW1zLm1lbnVfaWQ7XG5cbiAgICBpc093bmVyKHJlcS51c2VyLmlkLCByZXEucGFyYW1zLmNvbXBhbnlfaWQpXG4gICAgICAgIC50aGVuKChvd25lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5wYXJhbXMuaWQsIHBheWxvYWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoY2F0ZWdvcnkpID0+XG4gICAgICAgICAgICBjYXRlZ29yeSA&#x2F;IHJlcy5qc29uKGNhdGVnb3J5KSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDYXRlZ29yeShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG9ubHkgb3duZXIgZGVsZXRlIGNhbiBkZWxldGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGlzT3duZXIob3duZXJfaWQsIGNvbXBhbnlfaWQpIHtcbiAgICBjb25zdCBib29sID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IG93bmVyX2lkLCBpZDogY29tcGFueV9pZCB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIHJldHVybiBib29sO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    &#x2F;&#x2F; check if owner of company\n    const payload &#x3D; req.body;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.createcategory(payload);\n        })\n        .then((category) &#x3D;&gt; res.json(category))\n        .catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    categoryService\n        .getAllCompanyCategorys({ company_id })\n        .then((categories) &#x3D;&gt;\n            categories ? res.json(categories) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n    categoryService\n        .getCategoryById(req.params.id)\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company category\n    const payload &#x3D; req.body;\n    payload.menu_id &#x3D; req.params.menu_id;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.updateCategory(req.params.id, payload);\n        })\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company category\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function isOwner(owner_id, company_id) {\n    const bool &#x3D; await Company.query()\n        .where({ owner_id, id: company_id })\n        .first();\n\n    return bool;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f9&#x2F;categoryroutes_f95c539ef7b2381e749f49618b0199b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2954&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 12907,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 12904,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 962,
                    &quot;endOffset&quot;: 1328,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1330,
                    &quot;endOffset&quot;: 1576,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1578,
                    &quot;endOffset&quot;: 1754,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1756,
                    &quot;endOffset&quot;: 2229,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2231,
                    &quot;endOffset&quot;: 2690,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2738,
                    &quot;endOffset&quot;: 2893,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    menu_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    menu_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVTY2hlbWEiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibWVudV9pZCIsIm51bWJlciIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsMENBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxPQUFPLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBRmEsR0FBWCxDQUFmO0FBSUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBTkQ7O0FBUUFMLE9BQU8sQ0FBQ1ksWUFBUixHQUF1QixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNUyxXQUFXLEdBQUc7QUFDaEJOLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQkosSUFBQUEsT0FBTyxFQUFFYixHQUFHLENBQUNjLE1BQUosR0FBYUcsS0FBYixDQUFtQixFQUFuQjtBQUZPLEdBQXBCO0FBS0EsUUFBTVQsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV08sV0FBWCxDQUFmO0FBRUFkLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy92YWxpZGF0ZVJlcXVlc3RcIik7XG5cbmV4cG9ydHMuY3JlYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        menu_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        menu_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;1b&#x2F;categoryvalidators_1b6fa12bad6d90716c229117a118363b.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2955&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 219,
                    &quot;endOffset&quot;: 388,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 414,
                    &quot;endOffset&quot;: 616,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  itemService.createItem(req.body).then(item &#x3D;&gt; res.status(201).json(item)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  itemService.getItemById(req.params.id).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction updateItem(req, res, next) {\n  itemService.updateItem(req.params.id, req.body).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n  itemService.deleteItem({\n    id: req.params.id\n  }).then(() &#x3D;&gt; res.json({\n    message: \&quot;Item deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwiUm9sZSIsIml0ZW1TZXJ2aWNlIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJwb3N0Iiwib3duZXIiLCJjcmVhdGUiLCJnZXQiLCJnZXRCeUlkIiwicGF0Y2giLCJ1cGRhdGVJdGVtIiwiZGVsZXRlIiwiZGVsZXRlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3JlYXRlSXRlbSIsImJvZHkiLCJ0aGVuIiwiaXRlbSIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImdldEl0ZW1CeUlkIiwicGFyYW1zIiwiaWQiLCJzZW5kU3RhdHVzIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsbUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQkwsT0FBTyxDQUFDLGtDQUFELENBQXZDOztBQUNBLE1BQU1NLElBQUksR0FBR04sT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1PLFdBQVcsR0FBR1AsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUVBLE1BQU1RLE1BQU0sR0FBR1QsT0FBTyxDQUFDVSxNQUFSLENBQWU7QUFDMUJDLEVBQUFBLFdBQVcsRUFBRTtBQURhLENBQWYsQ0FBZjtBQUlBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCUCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBckIsRUFBcUNQLE9BQU8sRUFBNUMsRUFBZ0RKLFlBQWhELEVBQThEWSxNQUE5RDtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxNQUFYLEVBQW1CVixJQUFJLEVBQXZCLEVBQTJCVyxPQUEzQjtBQUNBUCxNQUFNLENBQUNRLEtBQVAsQ0FBYSxNQUFiLEVBQXFCWixJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBekIsRUFBeUNQLE9BQU8sRUFBaEQsRUFBb0RILFlBQXBELEVBQWtFZSxVQUFsRTtBQUNBVCxNQUFNLENBQUNVLE1BQVAsQ0FBYyxNQUFkLEVBQXNCZCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBMUIsRUFBMENQLE9BQU8sRUFBakQsRUFBcURjLFVBQXJEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakI7O0FBRUEsU0FBU0ssTUFBVCxDQUFnQlMsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QmpCLEVBQUFBLFdBQVcsQ0FDTmtCLFVBREwsQ0FDZ0JILEdBQUcsQ0FBQ0ksSUFEcEIsRUFFS0MsSUFGTCxDQUVXQyxJQUFELElBQVVMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixJQUFyQixDQUZwQixFQUdLRyxLQUhMLENBR1dQLElBSFg7QUFJSDs7QUFFRCxTQUFTVCxPQUFULENBQWlCTyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCakIsRUFBQUEsV0FBVyxDQUNOeUIsV0FETCxDQUNpQlYsR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDVCLEVBRUtQLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU1AsVUFBVCxDQUFvQkssR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlUsVUFETCxDQUNnQkssR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDNCLEVBQytCWixHQUFHLENBQUNJLElBRG5DLEVBRUtDLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU0wsVUFBVCxDQUFvQkcsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlksVUFETCxDQUNnQjtBQUFFZSxJQUFBQSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ1csTUFBSixDQUFXQztBQUFqQixHQURoQixFQUVLUCxJQUZMLENBRVUsTUFDRkosR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDTE0sSUFBQUEsT0FBTyxFQUFFLDJCQURKO0FBRUxGLElBQUFBLEVBQUUsRUFBRVosR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBRlYsR0FBVCxDQUhSLEVBUUtILEtBUkwsQ0FRV1AsSUFSWDtBQVNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vaXRlbS52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBpdGVtU2VydmljZSA9IHJlcXVpcmUoXCIuL2l0ZW0uc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBpc093bmVyKCksIHVwZGF0ZVNjaGVtYSwgdXBkYXRlSXRlbSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgZGVsZXRlSXRlbSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5mdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuY3JlYXRlSXRlbShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHJlcy5zdGF0dXMoMjAxKS5qc29uKGl0ZW0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuZ2V0SXRlbUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IChpdGVtID8gcmVzLmpzb24oaXRlbSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJdGVtKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaXRlbVNlcnZpY2VcbiAgICAgICAgLnVwZGF0ZUl0ZW0ocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiAoaXRlbSA&#x2F;IHJlcy5qc29uKGl0ZW0pIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIGl0ZW1TZXJ2aWNlXG4gICAgICAgIC5kZWxldGVJdGVtKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSlcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    itemService\n        .createItem(req.body)\n        .then((item) &#x3D;&gt; res.status(201).json(item))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    itemService\n        .getItemById(req.params.id)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction updateItem(req, res, next) {\n    itemService\n        .updateItem(req.params.id, req.body)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n    itemService\n        .deleteItem({ id: req.params.id })\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Item deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;de&#x2F;itemroutes_de9b46cc999b0a12213b699c8d15bd22.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2956&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6599,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6596,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 717,
                    &quot;endOffset&quot;: 841,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 843,
                    &quot;endOffset&quot;: 991,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 993,
                    &quot;endOffset&quot;: 1153,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1155,
                    &quot;endOffset&quot;: 1353,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    price: Joi.number().required(),\n    quantity: Joi.number().required(),\n    description: Joi.string().required(),\n    image_url: Joi.string(),\n    category_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    price: Joi.number().empty(\&quot;\&quot;),\n    quantity: Joi.number().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    image_url: Joi.string(),\n    category_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0udmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJwcmljZSIsIm51bWJlciIsInF1YW50aXR5IiwiZGVzY3JpcHRpb24iLCJpbWFnZV91cmwiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsNkNBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxLQUFLLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiLEVBRmU7QUFHdEJHLElBQUFBLFFBQVEsRUFBRWYsR0FBRyxDQUFDYyxNQUFKLEdBQWFGLFFBQWIsRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFKUztBQUt0QkssSUFBQUEsU0FBUyxFQUFFakIsR0FBRyxDQUFDVyxNQUFKLEVBTFc7QUFNdEJPLElBQUFBLFdBQVcsRUFBRWxCLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBTlMsR0FBWCxDQUFmO0FBUUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVkQ7O0FBWUFMLE9BQU8sQ0FBQ2dCLFlBQVIsR0FBdUIsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTWEsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhVSxLQUFiLENBQW1CLEVBQW5CLENBRFU7QUFFaEJSLElBQUFBLEtBQUssRUFBRWIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkIsQ0FGUztBQUdoQk4sSUFBQUEsUUFBUSxFQUFFZixHQUFHLENBQUNjLE1BQUosR0FBYU8sS0FBYixDQUFtQixFQUFuQixDQUhNO0FBSWhCTCxJQUFBQSxXQUFXLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYVUsS0FBYixDQUFtQixFQUFuQixDQUpHO0FBS2hCSixJQUFBQSxTQUFTLEVBQUVqQixHQUFHLENBQUNXLE1BQUosRUFMSztBQU1oQk8sSUFBQUEsV0FBVyxFQUFFbEIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkI7QUFORyxHQUFwQjtBQVNBLFFBQU1iLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdXLFdBQVgsQ0FBZjtBQUVBbEIsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHByaWNlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGltYWdlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBjYXRlZ29yeV9pZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMudXBkYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hUnVsZXMgPSB7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHJpY2U6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgaW1hZ2VfdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgICAgIGNhdGVnb3J5X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        description: Joi.string().required(),\n        image_url: Joi.string(),\n        category_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        price: Joi.number().empty(\&quot;\&quot;),\n        quantity: Joi.number().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        image_url: Joi.string(),\n        category_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;b3&#x2F;itemvalidators_b3b5560b6fc02d936e24d53b4a41cdcb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2957&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4275,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4272,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 222,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 567,
                    &quot;endOffset&quot;: 916,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createItem,\n  getItemById,\n  updateItem,\n  deleteItem\n};\n\nasync function createItem(params) {\n  const item &#x3D; await Item.query().insert(params);\n  return basicDetails(item);\n}\n\nasync function getItemById(id) {\n  const item &#x3D; await getItem({\n    id\n  });\n  return item;\n}\n\nasync function updateItem(id, params) {\n  const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n  return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n  await Item.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getItem(params) {\n  const item &#x3D; await Item.query().where({ ...params\n  }).first();\n  return item;\n}\n\nfunction basicDetails(item) {\n  const {\n    id,\n    name,\n    description\n  } &#x3D; item;\n  return {\n    id,\n    name,\n    description\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0uc2VydmljZS5qcyJdLCJuYW1lcyI6WyJJdGVtIiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZUl0ZW0iLCJnZXRJdGVtQnlJZCIsInVwZGF0ZUl0ZW0iLCJkZWxldGVJdGVtIiwicGFyYW1zIiwiaXRlbSIsInF1ZXJ5IiwiaW5zZXJ0IiwiYmFzaWNEZXRhaWxzIiwiaWQiLCJnZXRJdGVtIiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsIndoZXJlIiwiZmlyc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFdBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQTtBQUphLENBQWpCOztBQU9BLGVBQWVILFVBQWYsQ0FBMEJJLE1BQTFCLEVBQWtDO0FBQzlCLFFBQU1DLElBQUksR0FBRyxNQUFNVixJQUFJLENBQUNXLEtBQUwsR0FBYUMsTUFBYixDQUFvQkgsTUFBcEIsQ0FBbkI7QUFDQSxTQUFPSSxZQUFZLENBQUNILElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlSixXQUFmLENBQTJCUSxFQUEzQixFQUErQjtBQUMzQixRQUFNSixJQUFJLEdBQUcsTUFBTUssT0FBTyxDQUFDO0FBQUVELElBQUFBO0FBQUYsR0FBRCxDQUExQjtBQUNBLFNBQU9KLElBQVA7QUFDSDs7QUFFRCxlQUFlSCxVQUFmLENBQTBCTyxFQUExQixFQUE4QkwsTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUYsVUFBVSxHQUFHLE1BQU1QLElBQUksQ0FBQ1csS0FBTCxHQUFhSyxpQkFBYixDQUErQkYsRUFBL0IsRUFBbUNMLE1BQW5DLENBQXpCO0FBRUEsU0FBT0YsVUFBUDtBQUNIOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJTLFdBQTFCLEVBQXVDO0FBQ25DLFFBQU1qQixJQUFJLENBQUNXLEtBQUwsR0FBYU8sTUFBYixDQUFvQixFQUFFLEdBQUdEO0FBQUwsR0FBcEIsQ0FBTjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZUYsT0FBZixDQUF1Qk4sTUFBdkIsRUFBK0I7QUFDM0IsUUFBTUMsSUFBSSxHQUFHLE1BQU1WLElBQUksQ0FBQ1csS0FBTCxHQUNkUSxLQURjLENBQ1IsRUFBRSxHQUFHVjtBQUFMLEdBRFEsRUFFZFcsS0FGYyxFQUFuQjtBQUdBLFNBQU9WLElBQVA7QUFDSDs7QUFFRCxTQUFTRyxZQUFULENBQXNCSCxJQUF0QixFQUE0QjtBQUN4QixRQUFNO0FBQUVJLElBQUFBLEVBQUY7QUFBTU8sSUFBQUEsSUFBTjtBQUFZQyxJQUFBQTtBQUFaLE1BQTRCWixJQUFsQztBQUNBLFNBQU87QUFBRUksSUFBQUEsRUFBRjtBQUFNTyxJQUFBQSxJQUFOO0FBQVlDLElBQUFBO0FBQVosR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSXRlbSA9IHJlcXVpcmUoXCIuL2l0ZW0ubW9kZWxcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlSXRlbSxcbiAgICBnZXRJdGVtQnlJZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGRlbGV0ZUl0ZW0sXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhpdGVtKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUJ5SWQoaWQpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgZ2V0SXRlbSh7IGlkIH0pO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gYXdhaXQgSXRlbS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0ocXVlcnlQYXJhbXMpIHtcbiAgICBhd2FpdCBJdGVtLnF1ZXJ5KCkuZGVsZXRlKHsgLi4ucXVlcnlQYXJhbXMgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT0gaGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW1zIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoaXRlbSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBpdGVtO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createItem,\n    getItemById,\n    updateItem,\n    deleteItem,\n};\n\nasync function createItem(params) {\n    const item &#x3D; await Item.query().insert(params);\n    return basicDetails(item);\n}\n\nasync function getItemById(id) {\n    const item &#x3D; await getItem({ id });\n    return item;\n}\n\nasync function updateItem(id, params) {\n    const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n\n    return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n    await Item.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function getItem(params) {\n    const item &#x3D; await Item.query()\n        .where({ ...params })\n        .first();\n    return item;\n}\n\nfunction basicDetails(item) {\n    const { id, name, description } &#x3D; item;\n    return { id, name, description };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;37&#x2F;itemservice_37723bc6ce9a1333746fd65833e30b1c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2958&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4281,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4278,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 261,
                    &quot;endOffset&quot;: 377,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItemById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 474,
                    &quot;endOffset&quot;: 607,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 609,
                    &quot;endOffset&quot;: 702,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 765,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 882,
                    &quot;endOffset&quot;: 1019,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n  static get tableName() {\n    return tableNames.item;\n  }\n\n  static get relationMappings() {\n    const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      category: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Category,\n        join: {\n          from: &#x60;${tableNames.item}.category_id&#x60;,\n          to: &#x60;${tableNames.category}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Item;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiQ2F0ZWdvcnkiLCJJdGVtIiwidGFibGVOYW1lIiwiaXRlbSIsInJlbGF0aW9uTWFwcGluZ3MiLCJjYXRlZ29yeSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsImtuZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsbUJBQUQsQ0FBbEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksSUFBTixTQUFtQkwsS0FBbkIsQ0FBeUI7QUFDckIsYUFBV00sU0FBWCxHQUF1QjtBQUNuQixXQUFPSixVQUFVLENBQUNLLElBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUosUUFBUSxHQUFHSCxPQUFPLENBQUMsK0JBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIUSxNQUFBQSxRQUFRLEVBQUU7QUFDTkMsUUFBQUEsUUFBUSxFQUFFVixLQUFLLENBQUNXLG9CQURWO0FBRU5DLFFBQUFBLFVBQVUsRUFBRVIsUUFGTjtBQUdOUyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVaLFVBQVUsQ0FBQ0ssSUFBSyxjQUR2QjtBQUVGUSxVQUFBQSxFQUFFLEVBQUcsR0FBRWIsVUFBVSxDQUFDTyxRQUFTO0FBRnpCO0FBSEE7QUFEUCxLQUFQO0FBVUg7O0FBbEJvQjs7QUFxQnpCVCxLQUFLLENBQUNnQixJQUFOLENBQVdiLEVBQVg7QUFFQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vZGJcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuLi9jYXRlZ29yeS5tb2RlbFwiKTtcblxuY2xhc3MgSXRlbSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuaXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZShcIi4uLy4uL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMuaXRlbX0uY2F0ZWdvcnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jYXRlZ29yeX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n    static get tableName() {\n        return tableNames.item;\n    }\n\n    static get relationMappings() {\n        const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            category: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Category,\n                join: {\n                    from: &#x60;${tableNames.item}.category_id&#x60;,\n                    to: &#x60;${tableNames.category}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Item;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;bd&#x2F;itemmodel_bde36e534327c1a1231475da3047e2a2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2959&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3171,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Item&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 290,
                    &quot;endOffset&quot;: 290,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 326,
                    &quot;endOffset&quot;: 375,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 386,
                    &quot;endOffset&quot;: 718,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n  static get tableName() {\n    return tableNames.category;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n\n    const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n    return {\n      menu: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Menu,\n        join: {\n          from: &#x60;${tableName.category}.menu_id&#x60;,\n          to: &#x60;${tableNames.menu}.id&#x60;\n        }\n      },\n      items: {\n        relation: Model.HasManyRelation,\n        modelClasss: Item,\n        join: {\n          from: &#x60;${tableNames.category}.id&#x60;,\n          to: &#x60;${tableNames.item}.category_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Category;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsImRiIiwic2NoZW1hIiwidGFibGVOYW1lcyIsIkNhdGVnb3J5IiwidGFibGVOYW1lIiwiY2F0ZWdvcnkiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIk1lbnUiLCJJdGVtIiwibWVudSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJpdGVtcyIsIkhhc01hbnlSZWxhdGlvbiIsIml0ZW0iLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBLE1BQU1JLFFBQU4sU0FBdUJMLEtBQXZCLENBQTZCO0FBQ3pCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUMsZUFBRCxDQUFwQjs7QUFDQSxVQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyx5QkFBRCxDQUFwQjs7QUFFQSxXQUFPO0FBQ0hXLE1BQUFBLElBQUksRUFBRTtBQUNGQyxRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ2Msb0JBRGQ7QUFFRkMsUUFBQUEsV0FBVyxFQUFFTCxJQUZYO0FBR0ZNLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRVgsU0FBUyxDQUFDQyxRQUFTLFVBRDFCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNRLElBQUs7QUFGckI7QUFISixPQURIO0FBU0hPLE1BQUFBLEtBQUssRUFBRTtBQUNITixRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ29CLGVBRGI7QUFFSEwsUUFBQUEsV0FBVyxFQUFFSixJQUZWO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWIsVUFBVSxDQUFDRyxRQUFTLEtBRDNCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEg7QUFUSixLQUFQO0FBa0JIOztBQWhDd0I7O0FBbUM3QnJCLEtBQUssQ0FBQ3NCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RiXCIpO1xuY29uc3Qgc2NoZW1hID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBDYXRlZ29yeSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUubW9kZWxcIik7XG4gICAgICAgIGNvbnN0IEl0ZW0gPSByZXF1aXJlKFwiLi4vbWVudS9pdGVtL2l0ZW0ubW9kZWxcIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IE1lbnUsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWUuY2F0ZWdvcnl9Lm1lbnVfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IEl0ZW0sXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLml0ZW19LmNhdGVnb3J5X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhdGVnb3J5O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n    static get tableName() {\n        return tableNames.category;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n        const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n        return {\n            menu: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Menu,\n                join: {\n                    from: &#x60;${tableName.category}.menu_id&#x60;,\n                    to: &#x60;${tableNames.menu}.id&#x60;,\n                },\n            },\n            items: {\n                relation: Model.HasManyRelation,\n                modelClasss: Item,\n                join: {\n                    from: &#x60;${tableNames.category}.id&#x60;,\n                    to: &#x60;${tableNames.item}.category_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Category;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0e&#x2F;categorymodel_0ef83f3e2352e4f7122c2a335cba1fb2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2960&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4654,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4651,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Category&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 287,
                    &quot;endOffset&quot;: 287,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 327,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 432,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 443,
                    &quot;endOffset&quot;: 1073,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createCategory,\n  updateCategory,\n  getAllCategory,\n  getAllCompanyCategorys,\n  getCategoryById,\n  _delete\n};\n\nasync function createCategory(params) {\n  const category &#x3D; await Category.query().insert(params);\n  return category;\n}\n\nasync function updateCategory(id, params) {\n  const category &#x3D; await getCategory({\n    id\n  }); &#x2F;&#x2F;check if category name is duplicated\n\n  if (params.name &amp;&amp; category.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCategory({\n    name: params.name,\n    menu_id: params.menu_id\n  }))) {\n    error(&#x60;Category ${params.name} already exists&#x60;);\n  }\n\n  const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, { ...params\n  });\n  return updatedcategory;\n}\n\nasync function getAllCategory() {\n  const categorys &#x3D; await Category.query();\n  return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n  const categorys &#x3D; await Category.query({ ...params\n  });\n  return categorys;\n}\n\nasync function getCategoryById(id) {\n  const category &#x3D; await getCategory({\n    id\n  });\n  return category;\n}\n\nasync function _delete(queryParams) {\n  await Category.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCategory(param) {\n  const category &#x3D; await Category.query().where({ ...param\n  }).withGraphFetched(\&quot;items\&quot;).first();\n  return category;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiQ2F0ZWdvcnkiLCJyZXF1aXJlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlQ2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImdldEFsbENhdGVnb3J5IiwiZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyIsImdldENhdGVnb3J5QnlJZCIsIl9kZWxldGUiLCJwYXJhbXMiLCJjYXRlZ29yeSIsInF1ZXJ5IiwiaW5zZXJ0IiwiaWQiLCJnZXRDYXRlZ29yeSIsIm5hbWUiLCJtZW51X2lkIiwidXBkYXRlZGNhdGVnb3J5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJjYXRlZ29yeXMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2hlcmUiLCJ3aXRoR3JhcGhGZXRjaGVkIiwiZmlyc3QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXhCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQXJCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsY0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLGNBSGE7QUFJYkMsRUFBQUEsc0JBSmE7QUFLYkMsRUFBQUEsZUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLGNBQWYsQ0FBOEJNLE1BQTlCLEVBQXNDO0FBQ2xDLFFBQU1DLFFBQVEsR0FBRyxNQUFNWixRQUFRLENBQUNhLEtBQVQsR0FBaUJDLE1BQWpCLENBQXdCSCxNQUF4QixDQUF2QjtBQUNBLFNBQU9DLFFBQVA7QUFDSDs7QUFFRCxlQUFlTixjQUFmLENBQThCUyxFQUE5QixFQUFrQ0osTUFBbEMsRUFBMEM7QUFDdEMsUUFBTUMsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEMsQ0FEc0MsQ0FFdEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLFFBQVEsQ0FBQ0ssSUFBVCxLQUFrQk4sTUFBTSxDQUFDTSxJQUR6QixLQUVDLE1BQU1ELFdBQVcsQ0FBQztBQUNmQyxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ00sSUFERTtBQUVmQyxJQUFBQSxPQUFPLEVBQUVQLE1BQU0sQ0FBQ087QUFGRCxHQUFELENBRmxCLENBREosRUFPRTtBQUNFaEIsSUFBQUEsS0FBSyxDQUFFLFlBQVdTLE1BQU0sQ0FBQ00sSUFBSyxpQkFBekIsQ0FBTDtBQUNIOztBQUNELFFBQU1FLGVBQWUsR0FBRyxNQUFNbkIsUUFBUSxDQUFDYSxLQUFULEdBQWlCTyxpQkFBakIsQ0FBbUNMLEVBQW5DLEVBQXVDLEVBQ2pFLEdBQUdKO0FBRDhELEdBQXZDLENBQTlCO0FBSUEsU0FBT1EsZUFBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsR0FBZ0M7QUFDNUIsUUFBTWMsU0FBUyxHQUFHLE1BQU1yQixRQUFRLENBQUNhLEtBQVQsRUFBeEI7QUFDQSxTQUFPUSxTQUFQO0FBQ0g7O0FBRUQsZUFBZWIsc0JBQWYsQ0FBc0NHLE1BQXRDLEVBQThDO0FBQzFDLFFBQU1VLFNBQVMsR0FBRyxNQUFNckIsUUFBUSxDQUFDYSxLQUFULENBQWUsRUFBRSxHQUFHRjtBQUFMLEdBQWYsQ0FBeEI7QUFDQSxTQUFPVSxTQUFQO0FBQ0g7O0FBRUQsZUFBZVosZUFBZixDQUErQk0sRUFBL0IsRUFBbUM7QUFDL0IsUUFBTUgsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEM7QUFDQSxTQUFPSCxRQUFQO0FBQ0g7O0FBRUQsZUFBZUYsT0FBZixDQUF1QlksV0FBdkIsRUFBb0M7QUFDaEMsUUFBTXRCLFFBQVEsQ0FBQ2EsS0FBVCxHQUFpQlUsTUFBakIsQ0FBd0IsRUFBRSxHQUFHRDtBQUFMLEdBQXhCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZU4sV0FBZixDQUEyQlEsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTVosUUFBUSxHQUFHLE1BQU1aLFFBQVEsQ0FBQ2EsS0FBVCxHQUNsQlksS0FEa0IsQ0FDWixFQUFFLEdBQUdEO0FBQUwsR0FEWSxFQUVsQkUsZ0JBRmtCLENBRUQsT0FGQyxFQUdsQkMsS0FIa0IsRUFBdkI7QUFLQSxTQUFPZixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNhdGVnb3J5LFxuICAgIHVwZGF0ZUNhdGVnb3J5LFxuICAgIGdldEFsbENhdGVnb3J5LFxuICAgIGdldEFsbENvbXBhbnlDYXRlZ29yeXMsXG4gICAgZ2V0Q2F0ZWdvcnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBnZXRDYXRlZ29yeSh7IGlkIH0pO1xuICAgIC8vY2hlY2sgaWYgY2F0ZWdvcnkgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjYXRlZ29yeS5uYW1lICE9PSBwYXJhbXMubmFtZSAmJlxuICAgICAgICAoYXdhaXQgZ2V0Q2F0ZWdvcnkoe1xuICAgICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgICBtZW51X2lkOiBwYXJhbXMubWVudV9pZCxcbiAgICAgICAgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBDYXRlZ29yeSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkY2F0ZWdvcnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5KCkge1xuICAgIGNvbnN0IGNhdGVnb3J5cyA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNhdGVnb3J5cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyhwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeXMgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSh7IC4uLnBhcmFtcyB9KTtcbiAgICByZXR1cm4gY2F0ZWdvcnlzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGdldENhdGVnb3J5KHsgaWQgfSk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKHF1ZXJ5UGFyYW1zKSB7XG4gICAgYXdhaXQgQ2F0ZWdvcnkucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IGNhdGVnb3J5LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhdGVnb3J5KHBhcmFtKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIilcbiAgICAgICAgLmZpcnN0KCk7XG5cbiAgICByZXR1cm4gY2F0ZWdvcnk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createCategory,\n    updateCategory,\n    getAllCategory,\n    getAllCompanyCategorys,\n    getCategoryById,\n    _delete,\n};\n\nasync function createCategory(params) {\n    const category &#x3D; await Category.query().insert(params);\n    return category;\n}\n\nasync function updateCategory(id, params) {\n    const category &#x3D; await getCategory({ id });\n    &#x2F;&#x2F;check if category name is duplicated\n    if (\n        params.name &amp;&amp;\n        category.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCategory({\n            name: params.name,\n            menu_id: params.menu_id,\n        }))\n    ) {\n        error(&#x60;Category ${params.name} already exists&#x60;);\n    }\n    const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedcategory;\n}\n\nasync function getAllCategory() {\n    const categorys &#x3D; await Category.query();\n    return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n    const categorys &#x3D; await Category.query({ ...params });\n    return categorys;\n}\n\nasync function getCategoryById(id) {\n    const category &#x3D; await getCategory({ id });\n    return category;\n}\n\nasync function _delete(queryParams) {\n    await Category.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCategory(param) {\n    const category &#x3D; await Category.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;items\&quot;)\n        .first();\n\n    return category;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;af&#x2F;categoryservice_af4a088c54a063175cdbab3d375f5ef2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2961&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6647,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6644,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 319,
                    &quot;endOffset&quot;: 437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 439,
                    &quot;endOffset&quot;: 884,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 886,
                    &quot;endOffset&quot;: 985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 987,
                    &quot;endOffset&quot;: 1115,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1117,
                    &quot;endOffset&quot;: 1226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1228,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1462,
                    &quot;endOffset&quot;: 1617,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createMenu,\n  updateMenu,\n  getAllMenu,\n  getAllCompanyMenus,\n  getMenuById,\n  _delete\n};\n\nasync function createMenu(params) {\n  const menu &#x3D; await Menu.query().insert(params);\n  return menu;\n}\n\nasync function updateMenu(id, params) {\n  const menu &#x3D; await getMenu({\n    id\n  }); &#x2F;&#x2F;check if menu name is duplicated\n\n  if (params.name &amp;&amp; menu.name !&#x3D;&#x3D; params.name &amp;&amp; (await getMenu({\n    name: params.name,\n    company_id: params.company_id\n  }))) {\n    error(&#x60;Menu ${params.name} already exists&#x60;);\n  }\n\n  const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, { ...params\n  });\n  return updatedmenu;\n}\n\nasync function getAllMenu() {\n  const menus &#x3D; await Menu.query();\n  return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n  const menus &#x3D; await Menu.query().where({ ...params\n  });\n  return menus;\n}\n\nasync function getMenuById(id) {\n  const menu &#x3D; await getMenu({\n    id\n  });\n  return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n  await Menu.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getMenu(param) {\n  const menu &#x3D; await Menu.query().where({ ...param\n  }).withGraphFetched(\&quot;categories\&quot;).first();\n  return menu;\n}\n\nfunction basicDetails(menu) {\n  const {\n    id,\n    name,\n    company_id,\n    categories\n  } &#x3D; menu;\n  return {\n    id,\n    name,\n    company_id,\n    categories\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJNZW51IiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU1lbnUiLCJ1cGRhdGVNZW51IiwiZ2V0QWxsTWVudSIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwiX2RlbGV0ZSIsInBhcmFtcyIsIm1lbnUiLCJxdWVyeSIsImluc2VydCIsImlkIiwiZ2V0TWVudSIsIm5hbWUiLCJjb21wYW55X2lkIiwidXBkYXRlZG1lbnUiLCJwYXRjaEFuZEZldGNoQnlJZCIsIm1lbnVzIiwid2hlcmUiLCJiYXNpY0RldGFpbHMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2l0aEdyYXBoRmV0Y2hlZCIsImZpcnN0IiwiY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFVBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQSxrQkFKYTtBQUtiQyxFQUFBQSxXQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsVUFBZixDQUEwQk0sTUFBMUIsRUFBa0M7QUFDOUIsUUFBTUMsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUFhQyxNQUFiLENBQW9CSCxNQUFwQixDQUFuQjtBQUNBLFNBQU9DLElBQVA7QUFDSDs7QUFFRCxlQUFlTixVQUFmLENBQTBCUyxFQUExQixFQUE4QkosTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLElBQUksQ0FBQ0ssSUFBTCxLQUFjTixNQUFNLENBQUNNLElBRHJCLEtBRUMsTUFBTUQsT0FBTyxDQUFDO0FBQ1hDLElBQUFBLElBQUksRUFBRU4sTUFBTSxDQUFDTSxJQURGO0FBRVhDLElBQUFBLFVBQVUsRUFBRVAsTUFBTSxDQUFDTztBQUZSLEdBQUQsQ0FGZCxDQURKLEVBT0U7QUFDRWhCLElBQUFBLEtBQUssQ0FBRSxRQUFPUyxNQUFNLENBQUNNLElBQUssaUJBQXJCLENBQUw7QUFDSDs7QUFDRCxRQUFNRSxXQUFXLEdBQUcsTUFBTW5CLElBQUksQ0FBQ2EsS0FBTCxHQUFhTyxpQkFBYixDQUErQkwsRUFBL0IsRUFBbUMsRUFDekQsR0FBR0o7QUFEc0QsR0FBbkMsQ0FBMUI7QUFJQSxTQUFPUSxXQUFQO0FBQ0g7O0FBRUQsZUFBZVosVUFBZixHQUE0QjtBQUN4QixRQUFNYyxLQUFLLEdBQUcsTUFBTXJCLElBQUksQ0FBQ2EsS0FBTCxFQUFwQjtBQUNBLFNBQU9RLEtBQVA7QUFDSDs7QUFFRCxlQUFlYixrQkFBZixDQUFrQ0csTUFBbEMsRUFBMEM7QUFDdEMsUUFBTVUsS0FBSyxHQUFHLE1BQU1yQixJQUFJLENBQUNhLEtBQUwsR0FBYVMsS0FBYixDQUFtQixFQUFFLEdBQUdYO0FBQUwsR0FBbkIsQ0FBcEI7QUFDQSxTQUFPVSxLQUFQO0FBQ0g7O0FBRUQsZUFBZVosV0FBZixDQUEyQk0sRUFBM0IsRUFBK0I7QUFDM0IsUUFBTUgsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUI7QUFDQSxTQUFPUSxZQUFZLENBQUNYLElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlRixPQUFmLENBQXVCYyxXQUF2QixFQUFvQztBQUNoQyxRQUFNeEIsSUFBSSxDQUFDYSxLQUFMLEdBQWFZLE1BQWIsQ0FBb0IsRUFBRSxHQUFHRDtBQUFMLEdBQXBCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZVIsT0FBZixDQUF1QlUsS0FBdkIsRUFBOEI7QUFDMUIsUUFBTWQsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUNkUyxLQURjLENBQ1IsRUFBRSxHQUFHSTtBQUFMLEdBRFEsRUFFZEMsZ0JBRmMsQ0FFRyxZQUZILEVBR2RDLEtBSGMsRUFBbkI7QUFJQSxTQUFPaEIsSUFBUDtBQUNIOztBQUVELFNBQVNXLFlBQVQsQ0FBc0JYLElBQXRCLEVBQTRCO0FBQ3hCLFFBQU07QUFBRUcsSUFBQUEsRUFBRjtBQUFNRSxJQUFBQSxJQUFOO0FBQVlDLElBQUFBLFVBQVo7QUFBd0JXLElBQUFBO0FBQXhCLE1BQXVDakIsSUFBN0M7QUFFQSxTQUFPO0FBQUVHLElBQUFBLEVBQUY7QUFBTUUsSUFBQUEsSUFBTjtBQUFZQyxJQUFBQSxVQUFaO0FBQXdCVyxJQUFBQTtBQUF4QixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUvbWVudS5tb2RlbFwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVNZW51LFxuICAgIHVwZGF0ZU1lbnUsXG4gICAgZ2V0QWxsTWVudSxcbiAgICBnZXRBbGxDb21wYW55TWVudXMsXG4gICAgZ2V0TWVudUJ5SWQsXG4gICAgX2RlbGV0ZSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lbnUocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gbWVudTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IGdldE1lbnUoeyBpZCB9KTtcbiAgICAvL2NoZWNrIGlmIG1lbnUgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBtZW51Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRNZW51KHtcbiAgICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgICAgY29tcGFueV9pZDogcGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgIH0pKVxuICAgICkge1xuICAgICAgICBlcnJvcihgTWVudSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZG1lbnU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbE1lbnUoKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW55TWVudXMocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCkud2hlcmUoeyAuLi5wYXJhbXMgfSk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW51QnlJZChpZCkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBnZXRNZW51KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhtZW51KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGF3YWl0IE1lbnUucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IG1lbnUucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcblxuLy8gfVxuXG4vLyA9PT09PT09PT09PSBoZWxwZXJzPT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVudShwYXJhbSkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBNZW51LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW0gfSlcbiAgICAgICAgLndpdGhHcmFwaEZldGNoZWQoXCJjYXRlZ29yaWVzXCIpXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBtZW51O1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMobWVudSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGNvbXBhbnlfaWQsIGNhdGVnb3JpZXMgfSA9IG1lbnU7XG5cbiAgICByZXR1cm4geyBpZCwgbmFtZSwgY29tcGFueV9pZCwgY2F0ZWdvcmllcyB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createMenu,\n    updateMenu,\n    getAllMenu,\n    getAllCompanyMenus,\n    getMenuById,\n    _delete,\n};\n\nasync function createMenu(params) {\n    const menu &#x3D; await Menu.query().insert(params);\n    return menu;\n}\n\nasync function updateMenu(id, params) {\n    const menu &#x3D; await getMenu({ id });\n    &#x2F;&#x2F;check if menu name is duplicated\n    if (\n        params.name &amp;&amp;\n        menu.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getMenu({\n            name: params.name,\n            company_id: params.company_id,\n        }))\n    ) {\n        error(&#x60;Menu ${params.name} already exists&#x60;);\n    }\n    const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedmenu;\n}\n\nasync function getAllMenu() {\n    const menus &#x3D; await Menu.query();\n    return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n    const menus &#x3D; await Menu.query().where({ ...params });\n    return menus;\n}\n\nasync function getMenuById(id) {\n    const menu &#x3D; await getMenu({ id });\n    return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n    await Menu.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getMenu(param) {\n    const menu &#x3D; await Menu.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;categories\&quot;)\n        .first();\n    return menu;\n}\n\nfunction basicDetails(menu) {\n    const { id, name, company_id, categories } &#x3D; menu;\n\n    return { id, name, company_id, categories };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f7&#x2F;menuservice_f7dbb9eba4d4e93803a88e42e2790161.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2962&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7024,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7021,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 294,
                    &quot;endOffset&quot;: 396,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 398,
                    &quot;endOffset&quot;: 809,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 811,
                    &quot;endOffset&quot;: 894,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 896,
                    &quot;endOffset&quot;: 1016,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1018,
                    &quot;endOffset&quot;: 1125,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1127,
                    &quot;endOffset&quot;: 1217,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1353,
                    &quot;endOffset&quot;: 1497,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1499,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n  static get tableName() {\n    return tableNames.menu;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Company,\n        join: {\n          from: &#x60;${tableNames.menu}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      },\n      categories: {\n        relation: Model.HasManyRelation,\n        modelClasss: Category,\n        join: {\n          from: &#x60;${tableNames.menu}.id&#x60;,\n          to: &#x60;${tableNames.category}.menu_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Menu;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwiZGIiLCJzY2hlbWEiLCJ0YWJsZU5hbWVzIiwiTWVudSIsInRhYmxlTmFtZSIsIm1lbnUiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIkNvbXBhbnkiLCJDYXRlZ29yeSIsImNvbXBhbnkiLCJyZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwibW9kZWxDbGFzc3MiLCJqb2luIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsIkhhc01hbnlSZWxhdGlvbiIsImNhdGVnb3J5Iiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUVBLE1BQU1JLElBQU4sU0FBbUJMLEtBQW5CLENBQXlCO0FBQ3JCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxJQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHVCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVUsUUFBUSxHQUFHVixPQUFPLENBQUMsMkJBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIVyxNQUFBQSxPQUFPLEVBQUU7QUFDTEMsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNjLG9CQURYO0FBRUxDLFFBQUFBLFdBQVcsRUFBRUwsT0FGUjtBQUdMTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxhQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDUSxPQUFRO0FBRnhCO0FBSEQsT0FETjtBQVNITyxNQUFBQSxVQUFVLEVBQUU7QUFDUk4sUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNvQixlQURSO0FBRVJMLFFBQUFBLFdBQVcsRUFBRUosUUFGTDtBQUdSSyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxLQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDaUIsUUFBUztBQUZ6QjtBQUhFO0FBVFQsS0FBUDtBQWtCSDs7QUFoQ29COztBQW1DekJyQixLQUFLLENBQUNzQixJQUFOLENBQVdwQixFQUFYO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL21lbnUuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBNZW51IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5tZW51O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIC8vIEltcG9ydGluZyBtb2RlbHMgaGVyZSBpcyBhIG9uZSB3YXkgdG8gYXZvaWQgcmVxdWlyZSBsb29wcy5cbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3NzOiBDb21wYW55LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMuY29tcGFueX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2F0ZWdvcmllczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5tZW51X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n    static get tableName() {\n        return tableNames.menu;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Company,\n                join: {\n                    from: &#x60;${tableNames.menu}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n            categories: {\n                relation: Model.HasManyRelation,\n                modelClasss: Category,\n                join: {\n                    from: &#x60;${tableNames.menu}.id&#x60;,\n                    to: &#x60;${tableNames.category}.menu_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Menu;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e0&#x2F;menumodel_e012a4d71206586de4438d54cc8c48bf.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2963&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4674,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4671,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Menu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 277,
                    &quot;endOffset&quot;: 277,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 313,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 414,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 425,
                    &quot;endOffset&quot;: 1081,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createOrderSchema,\n  updateOrderSchema,\n  companyOrderSchema\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem); &#x2F;&#x2F; update an order item customer aka update cart item\n\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\&quot;&#x2F;:id\&quot;, updateOrderSchema, Auth([Role.staff, Role.owner]), updateOrder);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\&quot;&#x2F;company-orders\&quot;, companyOrderSchema, Auth([Role.owner, Role.staff]), getCompanyOrders);\n\nfunction createOrder(req, res, next) {\n  const payload &#x3D; {\n    customer_id: req.user.id,\n    company_id: req.params.company_id,\n    item: req.body\n  };\n  orderService.createOrder(payload).then(orderItem &#x3D;&gt; res.json({\n    message: &#x60;${orderItem.item} has been added to the cart&#x60;\n  })).catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n  orderService.updateOrder(req.params.id, req.user, req.body).then(order &#x3D;&gt; res.json(order)).catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n  orderService.getOrderById(id).then(order &#x3D;&gt; order ? res.json(order) : res.sendStatus(404)).catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n  orderService.getOwnOrders(req.user.id).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n  &#x2F;&#x2F; TODO to use query params\n  params.company_id &#x3D; req.params.company_id;\n  orderService.getCompanyOrders(params).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyU2NoZW1hIiwidXBkYXRlT3JkZXJTY2hlbWEiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJvcmRlclNlcnZpY2UiLCJPcmRlckl0ZW0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJjdXN0b21lciIsImNyZWF0ZU9yZGVyIiwicGF0Y2giLCJzdGFmZiIsIm93bmVyIiwidXBkYXRlT3JkZXIiLCJnZXQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicmVxIiwicmVzIiwibmV4dCIsInBheWxvYWQiLCJjdXN0b21lcl9pZCIsInVzZXIiLCJpZCIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJpdGVtIiwiYm9keSIsInRoZW4iLCJvcmRlckl0ZW0iLCJqc29uIiwibWVzc2FnZSIsImNhdGNoIiwib3JkZXIiLCJzZW5kU3RhdHVzIiwib3JkZXJzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLGlCQURFO0FBRUZDLEVBQUFBLGlCQUZFO0FBR0ZDLEVBQUFBO0FBSEUsSUFJRkgsT0FBTyxDQUFDLG9CQUFELENBSlg7O0FBS0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyw0QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUFwQjs7QUFDQSxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQSxNQUFNUSxTQUFTLEdBQUdSLE9BQU8sQ0FBQyw4QkFBRCxDQUF6Qjs7QUFFQSxNQUFNUyxN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QUlIOztBQUVELFNBQVNILGdCQUFULENBQTBCQyxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDO0FBRUFNLEVBQUFBLE1BQU0sQ0FBQ0QsVUFBUCxHQUFvQlAsR0FBRyxDQUFDUSxNQUFKLENBQVdELFVBQS9CO0FBQ0F4QixFQUFBQSxZQUFZLENBQ1BnQixnQkFETCxDQUNzQlMsTUFEdEIsRUFFS0csSUFGTCxDQUVXTyxNQUFELElBQWFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixDQUFoQixHQUFvQkQsTUFBcEIsR0FBNkJqQixHQUFHLENBQUNnQixVQUFKLENBQWUsR0FBZixDQUZwRCxFQUdLRixLQUhMLENBR1diLElBSFg7QUFJSDs7QUFDRGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge1xuICAgIGNyZWF0ZU9yZGVyU2NoZW1hLFxuICAgIHVwZGF0ZU9yZGVyU2NoZW1hLFxuICAgIGNvbXBhbnlPcmRlclNjaGVtYSxcbn0gPSByZXF1aXJlKFwiLi9vcmRlci52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi9vcmRlci5zZXJ2aWNlXCIpO1xuXG5jb25zdCBPcmRlckl0ZW0gPSByZXF1aXJlKFwiLi9vcmRlckl0ZW0vb3JkZXJJdGVtLnJvdXRlc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci51c2UoXCIvOm9yZGVyX2lkL29yZGVySXRlbVwiLCBPcmRlckl0ZW0pO1xuXG4vLyB1cGRhdGUgYW4gb3JkZXIgaXRlbSBjdXN0b21lciBha2EgdXBkYXRlIGNhcnQgaXRlbVxucm91dGVyLnBvc3QoXCIvXCIsIGNyZWF0ZU9yZGVyU2NoZW1hLCBBdXRoKFJvbGUuY3VzdG9tZXIpLCBjcmVhdGVPcmRlcik7XG5yb3V0ZXIucGF0Y2goXG4gICAgXCIvOmlkXCIsXG4gICAgdXBkYXRlT3JkZXJTY2hlbWEsXG4gICAgQXV0aChbUm9sZS5zdGFmZiwgUm9sZS5vd25lcl0pLFxuICAgIHVwZGF0ZU9yZGVyXG4pO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRPcmRlckJ5SWQpO1xucm91dGVyLmdldChcIi86aWQvbXktb3JkZXJzXCIsIEF1dGgoUm9sZS5jdXN0b21lciksIGdldE93bk9yZGVycyk7XG5yb3V0ZXIuZ2V0KFxuICAgIFwiL2NvbXBhbnktb3JkZXJzXCIsXG4gICAgY29tcGFueU9yZGVyU2NoZW1hLFxuICAgIEF1dGgoW1JvbGUub3duZXIsIFJvbGUuc3RhZmZdKSxcbiAgICBnZXRDb21wYW55T3JkZXJzXG4pO1xuXG5mdW5jdGlvbiBjcmVhdGVPcmRlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGN1c3RvbWVyX2lkOiByZXEudXNlci5pZCxcbiAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICBpdGVtOiByZXEuYm9keSxcbiAgICB9O1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuY3JlYXRlT3JkZXIocGF5bG9hZClcbiAgICAgICAgLnRoZW4oKG9yZGVySXRlbSkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtvcmRlckl0ZW0uaXRlbX0gaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGNhcnRgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgb3JkZXJTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVPcmRlcihyZXEucGFyYW1zLmlkLCByZXEudXNlciwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChvcmRlcikgPT4gcmVzLmpzb24ob3JkZXIpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE9yZGVyQnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3JkZXJCeUlkKGlkKVxuICAgICAgICAudGhlbigob3JkZXIpID0+IChvcmRlciA&#x2F;IHJlcy5qc29uKG9yZGVyKSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE93bk9yZGVycyhyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3duT3JkZXJzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYW55T3JkZXJzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gVE9ETyB0byB1c2UgcXVlcnkgcGFyYW1zXG5cbiAgICBwYXJhbXMuY29tcGFueV9pZCA9IHJlcS5wYXJhbXMuY29tcGFueV9pZDtcbiAgICBvcmRlclNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlPcmRlcnMocGFyYW1zKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst {\n    createOrderSchema,\n    updateOrderSchema,\n    companyOrderSchema,\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem);\n\n&#x2F;&#x2F; update an order item customer aka update cart item\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\n    \&quot;&#x2F;:id\&quot;,\n    updateOrderSchema,\n    Auth([Role.staff, Role.owner]),\n    updateOrder\n);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\n    \&quot;&#x2F;company-orders\&quot;,\n    companyOrderSchema,\n    Auth([Role.owner, Role.staff]),\n    getCompanyOrders\n);\n\nfunction createOrder(req, res, next) {\n    const payload &#x3D; {\n        customer_id: req.user.id,\n        company_id: req.params.company_id,\n        item: req.body,\n    };\n    orderService\n        .createOrder(payload)\n        .then((orderItem) &#x3D;&gt;\n            res.json({\n                message: &#x60;${orderItem.item} has been added to the cart&#x60;,\n            })\n        )\n        .catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n    orderService\n        .updateOrder(req.params.id, req.user, req.body)\n        .then((order) &#x3D;&gt; res.json(order))\n        .catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n    orderService\n        .getOrderById(id)\n        .then((order) &#x3D;&gt; (order ? res.json(order) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n    orderService\n        .getOwnOrders(req.user.id)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n    &#x2F;&#x2F; TODO to use query params\n\n    params.company_id &#x3D; req.params.company_id;\n    orderService\n        .getCompanyOrders(params)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8f&#x2F;orderroutes_8f4620babd5b20aee9e160dc0d9cf20a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2964&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 9222,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 9219,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 978,
                    &quot;endOffset&quot;: 1275,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1277,
                    &quot;endOffset&quot;: 1423,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1425,
                    &quot;endOffset&quot;: 1572,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1574,
                    &quot;endOffset&quot;: 1734,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1736,
                    &quot;endOffset&quot;: 1974,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    item: Joi.number().required(),\n    quantity: Joi.number()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    customer_id: Joi.number().empty(),\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVPcmRlclNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJpdGVtIiwibnVtYmVyIiwicmVxdWlyZWQiLCJxdWFudGl0eSIsInVwZGF0ZU9yZGVyU2NoZW1hIiwib3JkZXJfc3RhdHVzIiwic3RyaW5nIiwiZW1wdHkiLCJwdXJjaGFzZV9zdGF0dXMiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJjdXN0b21lcl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxpQkFBUixHQUE0QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM1QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSjtBQUZZLEdBQVgsQ0FBZjtBQUlBVCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQU5EOztBQVFBTCxPQUFPLENBQUNXLGlCQUFSLEdBQTRCLENBQUNULEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJNLElBQUFBLFlBQVksRUFBRWYsR0FBRyxDQUFDZ0IsTUFBSixHQUFhQyxLQUFiLENBQW1CLEVBQW5CLENBRFE7QUFFdEJDLElBQUFBLGVBQWUsRUFBRWxCLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQjtBQUZLLEdBQVgsQ0FBZjtBQUtBZixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVBEOztBQVNBTCxPQUFPLENBQUNnQixrQkFBUixHQUE2QixDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM3QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCVyxJQUFBQSxXQUFXLEVBQUVwQixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixFQURTO0FBRXRCRixJQUFBQSxZQUFZLEVBQUVmLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQixDQUZRO0FBR3RCQyxJQUFBQSxlQUFlLEVBQUVsQixHQUFHLENBQUNnQixNQUFKLEdBQWFDLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFYLENBQWY7QUFNQWYsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FSRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBpdGVtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy5jb21wYW55T3JkZXJTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgY3VzdG9tZXJfaWQ6IEpvaS5udW1iZXIoKS5lbXB0eSgpLFxuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        item: Joi.number().required(),\n        quantity: Joi.number(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        customer_id: Joi.number().empty(),\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e1&#x2F;ordervalidators_e12e9bab16ee6f22191cb1085e8fa580.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2965&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3959,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3956,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 221,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 411,
                    &quot;endOffset&quot;: 594,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 626,
                    &quot;endOffset&quot;: 848,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n  createOrder,\n  updateOrderItem,\n  updateOrder,\n  getOrderById,\n  getOwnOrders,\n  getCompanyOrders\n};\n\nasync function createOrder(params) {\n  const order &#x3D; await get_or_create(params.customer_id, params.company_id); &#x2F;&#x2F; insert the item to the order item table\n\n  const orderItem &#x3D; order.$relatedQuery(\&quot;items\&quot;).insert({\n    item: params.item.id,\n    order: order.id\n  });\n  return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n  const order &#x3D; await getOrder(id); &#x2F;&#x2F; check item quantity\n\n  if (params.item.quantity &lt;&#x3D; 0) {\n    &#x2F;&#x2F; remove from cart\n    await order.$relatedQuery(\&quot;items\&quot;).delete().where({\n      item: params.item.id\n    });\n    return;\n  }\n\n  const orderItem &#x3D; await order.$relatedQuery(\&quot;items\&quot;).patch({\n    quantity: params.item.quantity\n  }).where({\n    item: params.item.id\n  }).returning(\&quot;*\&quot;);\n  return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n  let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n  if (order.company.id !&#x3D;&#x3D; user.company.id) {\n    const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n    throw error;\n  } &#x2F;&#x2F; aka update order table\n\n\n  order &#x3D; await Order.query().patchAndFetchById(id, params);\n  return order;\n}\n\nasync function getOrderById(id) {\n  const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n  return order;\n}\n\nasync function getOwnOrders(id) {\n  const orders &#x3D; await Order.query().where({\n    customer_id: id\n  }).orderBy(\&quot;created_at\&quot;);\n  return orders;\n}\n\nasync function getCompanyOrders(params) {\n  const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n  return orders;\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function get_or_create(id, company_id) {\n  &#x2F;&#x2F; checks for the existence of a customer order\n  &#x2F;&#x2F; if it exists add the new items on it\n  &#x2F;&#x2F; if it does not exist it creates one\n  let order &#x3D; await Order.query().where({\n    customer_id: id,\n    order_status: \&quot;New\&quot;\n  }).first();\n\n  if (!order) {\n    &#x2F;&#x2F; create one\n    order &#x3D; await Order.query().insert({\n      customer_id: id,\n      company_id,\n      order_status: \&quot;New\&quot;,\n      purchase_status: \&quot;unpaid\&quot;\n    });\n  }\n\n  return order;\n}\n\nasync function getOrder(id) {\n  const order &#x3D; await Order.query().findById(id);\n  return order;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU9yZGVyIiwidXBkYXRlT3JkZXJJdGVtIiwidXBkYXRlT3JkZXIiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicGFyYW1zIiwib3JkZXIiLCJnZXRfb3JfY3JlYXRlIiwiY3VzdG9tZXJfaWQiLCJjb21wYW55X2lkIiwib3JkZXJJdGVtIiwiJHJlbGF0ZWRRdWVyeSIsImluc2VydCIsIml0ZW0iLCJpZCIsImdldE9yZGVyIiwicXVhbnRpdHkiLCJkZWxldGUiLCJ3aGVyZSIsInBhdGNoIiwicmV0dXJuaW5nIiwidXNlciIsIndpdGhHcmFwaEZldGNoZWQiLCJjb21wYW55IiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJvcmRlcnMiLCJvcmRlckJ5Iiwib3JkZXJfc3RhdHVzIiwiZmlyc3QiLCJwdXJjaGFzZV9zdGF0dXMiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLFdBRGE7QUFFYkMsRUFBQUEsZUFGYTtBQUdiQyxFQUFBQSxXQUhhO0FBSWJDLEVBQUFBLFlBSmE7QUFLYkMsRUFBQUEsWUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLFdBQWYsQ0FBMkJNLE1BQTNCLEVBQW1DO0FBQy9CLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxhQUFhLENBQUNGLE1BQU0sQ0FBQ0csV0FBUixFQUFxQkgsTUFBTSxDQUFDSSxVQUE1QixDQUFqQyxDQUQrQixDQUcvQjs7QUFDQSxRQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FDbEJLLGFBRGEsQ0FDQyxPQURELEVBRWJDLE1BRmEsQ0FFTjtBQUFF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QUFJLENBQUN6QixLQUFMLEVBQVk7QUFDUjtBQUNBQSxJQUFBQSxLQUFLLEdBQUcsTUFBTVgsS0FBSyxDQUFDK0IsS0FBTixHQUFjZCxNQUFkLENBQXFCO0FBQy9CSixNQUFBQSxXQUFXLEVBQUVNLEVBRGtCO0FBRS9CTCxNQUFBQSxVQUYrQjtBQUcvQnFCLE1BQUFBLFlBQVksRUFBRSxLQUhpQjtBQUkvQkUsTUFBQUEsZUFBZSxFQUFFO0FBSmMsS0FBckIsQ0FBZDtBQU1IOztBQUVELFNBQU8xQixLQUFQO0FBQ0g7O0FBRUQsZUFBZVMsUUFBZixDQUF3QkQsRUFBeEIsRUFBNEI7QUFDeEIsUUFBTVIsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY08sUUFBZCxDQUF1Qm5CLEVBQXZCLENBQXBCO0FBQ0EsU0FBT1IsS0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT3JkZXIgPSByZXF1aXJlKFwiLi9vcmRlci5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlT3JkZXIsXG4gICAgdXBkYXRlT3JkZXJJdGVtLFxuICAgIHVwZGF0ZU9yZGVyLFxuICAgIGdldE9yZGVyQnlJZCxcbiAgICBnZXRPd25PcmRlcnMsXG4gICAgZ2V0Q29tcGFueU9yZGVycyxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0X29yX2NyZWF0ZShwYXJhbXMuY3VzdG9tZXJfaWQsIHBhcmFtcy5jb21wYW55X2lkKTtcblxuICAgIC8vIGluc2VydCB0aGUgaXRlbSB0byB0aGUgb3JkZXIgaXRlbSB0YWJsZVxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLmluc2VydCh7IGl0ZW06IHBhcmFtcy5pdGVtLmlkLCBvcmRlcjogb3JkZXIuaWQgfSk7XG5cbiAgICByZXR1cm4gb3JkZXJJdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckl0ZW0oaWQsIHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0T3JkZXIoaWQpO1xuXG4gICAgLy8gY2hlY2sgaXRlbSBxdWFudGl0eVxuICAgIGlmIChwYXJhbXMuaXRlbS5xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGNhcnRcbiAgICAgICAgYXdhaXQgb3JkZXJcbiAgICAgICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLndoZXJlKHsgaXRlbTogcGFyYW1zLml0ZW0uaWQgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVySXRlbSA9IGF3YWl0IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLnBhdGNoKHtcbiAgICAgICAgICAgIHF1YW50aXR5OiBwYXJhbXMuaXRlbS5xdWFudGl0eSxcbiAgICAgICAgfSlcbiAgICAgICAgLndoZXJlKHtcbiAgICAgICAgICAgIGl0ZW06IHBhcmFtcy5pdGVtLmlkLFxuICAgICAgICB9KVxuICAgICAgICAucmV0dXJuaW5nKFwiKlwiKTtcblxuICAgIHJldHVybiBvcmRlckl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkLCB1c2VyLCBwYXJhbXMpIHtcbiAgICBsZXQgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCkud2l0aEdyYXBoRmV0Y2hlZChcImNvbXBhbnlcIik7XG5cbiAgICBpZiAob3JkZXIuY29tcGFueS5pZCAhPT0gdXNlci5jb21wYW55LmlkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVW5hdGhvcml6ZWRcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBha2EgdXBkYXRlIG9yZGVyIHRhYmxlXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGdldE9yZGVyKGlkKS53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPd25PcmRlcnMoaWQpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IGN1c3RvbWVyX2lkOiBpZCB9KVxuICAgICAgICAub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFueU9yZGVycyhwYXJhbXMpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpLndoZXJlKHBhcmFtcykub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09aGVscGVycz09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRfb3JfY3JlYXRlKGlkLCBjb21wYW55X2lkKSB7XG4gICAgLy8gY2hlY2tzIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgY3VzdG9tZXIgb3JkZXJcbiAgICAvLyBpZiBpdCBleGlzdHMgYWRkIHRoZSBuZXcgaXRlbXMgb24gaXRcbiAgICAvLyBpZiBpdCBkb2VzIG5vdCBleGlzdCBpdCBjcmVhdGVzIG9uZVxuXG4gICAgbGV0IG9yZGVyID0gYXdhaXQgT3JkZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGlkLFxuICAgICAgICAgICAgb3JkZXJfc3RhdHVzOiBcIk5ld1wiLFxuICAgICAgICB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9uZVxuICAgICAgICBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuaW5zZXJ0KHtcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgICAgIGNvbXBhbnlfaWQsXG4gICAgICAgICAgICBvcmRlcl9zdGF0dXM6IFwiTmV3XCIsXG4gICAgICAgICAgICBwdXJjaGFzZV9zdGF0dXM6IFwidW5wYWlkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuZmluZEJ5SWQoaWQpO1xuICAgIHJldHVybiBvcmRlcjtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n    createOrder,\n    updateOrderItem,\n    updateOrder,\n    getOrderById,\n    getOwnOrders,\n    getCompanyOrders,\n};\n\nasync function createOrder(params) {\n    const order &#x3D; await get_or_create(params.customer_id, params.company_id);\n\n    &#x2F;&#x2F; insert the item to the order item table\n    const orderItem &#x3D; order\n        .$relatedQuery(\&quot;items\&quot;)\n        .insert({ item: params.item.id, order: order.id });\n\n    return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n    const order &#x3D; await getOrder(id);\n\n    &#x2F;&#x2F; check item quantity\n    if (params.item.quantity &lt;&#x3D; 0) {\n        &#x2F;&#x2F; remove from cart\n        await order\n            .$relatedQuery(\&quot;items\&quot;)\n            .delete()\n            .where({ item: params.item.id });\n\n        return;\n    }\n\n    const orderItem &#x3D; await order\n        .$relatedQuery(\&quot;items\&quot;)\n        .patch({\n            quantity: params.item.quantity,\n        })\n        .where({\n            item: params.item.id,\n        })\n        .returning(\&quot;*\&quot;);\n\n    return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n    let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n    if (order.company.id !&#x3D;&#x3D; user.company.id) {\n        const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n        throw error;\n    }\n    &#x2F;&#x2F; aka update order table\n    order &#x3D; await Order.query().patchAndFetchById(id, params);\n\n    return order;\n}\n\nasync function getOrderById(id) {\n    const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n    return order;\n}\n\nasync function getOwnOrders(id) {\n    const orders &#x3D; await Order.query()\n        .where({ customer_id: id })\n        .orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n\nasync function getCompanyOrders(params) {\n    const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function get_or_create(id, company_id) {\n    &#x2F;&#x2F; checks for the existence of a customer order\n    &#x2F;&#x2F; if it exists add the new items on it\n    &#x2F;&#x2F; if it does not exist it creates one\n\n    let order &#x3D; await Order.query()\n        .where({\n            customer_id: id,\n            order_status: \&quot;New\&quot;,\n        })\n        .first();\n\n    if (!order) {\n        &#x2F;&#x2F; create one\n        order &#x3D; await Order.query().insert({\n            customer_id: id,\n            company_id,\n            order_status: \&quot;New\&quot;,\n            purchase_status: \&quot;unpaid\&quot;,\n        });\n    }\n\n    return order;\n}\n\nasync function getOrder(id) {\n    const order &#x3D; await Order.query().findById(id);\n    return order;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2d&#x2F;orderservice_2dd8ed46d0ebb5dcc0edc8f1fb86b7ac.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2966&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10175,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10172,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 253,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 543,
                    &quot;endOffset&quot;: 993,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 995,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1324,
                    &quot;endOffset&quot;: 1437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1439,
                    &quot;endOffset&quot;: 1584,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1586,
                    &quot;endOffset&quot;: 1720,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get_or_create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1783,
                    &quot;endOffset&quot;: 2270,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2272,
                    &quot;endOffset&quot;: 2369,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n  static get tableName() {\n    return tableNames.order;\n  }\n\n  static get relationMappings() {\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n    return {\n      items: {\n        relation: Model.HasManyRelation,\n        modelClass: OrderItem,\n        join: {\n          from: &#x60;${tableNames.order}.id&#x60;,\n          to: &#x60;${tableNames.orderItem}.order_id&#x60;\n        }\n      },\n      customer: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.order}.customer_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Company,\n        join: {\n          from: &#x60;${tableNames.order}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Order;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJkYiIsIk9yZGVyIiwidGFibGVOYW1lIiwib3JkZXIiLCJyZWxhdGlvbk1hcHBpbmdzIiwiQ29tcGFueSIsIlVzZXIiLCJPcmRlckl0ZW0iLCJpdGVtcyIsInJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwibW9kZWxDbGFzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJvcmRlckl0ZW0iLCJjdXN0b21lciIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwidXNlciIsImNvbXBhbnkiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsS0FBTixTQUFvQkosS0FBcEIsQ0FBMEI7QUFDdEIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLEtBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBQ0EsVUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsNkJBQUQsQ0FBekI7O0FBRUEsV0FBTztBQUNIVSxNQUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNhLGVBRGI7QUFFSEMsUUFBQUEsVUFBVSxFQUFFSixTQUZUO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWQsVUFBVSxDQUFDSSxLQUFNLEtBRHhCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZixVQUFVLENBQUNnQixTQUFVO0FBRjFCO0FBSEgsT0FESjtBQVVIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEVjtBQUVOTixRQUFBQSxVQUFVLEVBQUVMLElBRk47QUFHTk0sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sY0FEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ21CLElBQUs7QUFGckI7QUFIQSxPQVZQO0FBa0JIQyxNQUFBQSxPQUFPLEVBQUU7QUFDTFYsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEWDtBQUVMTixRQUFBQSxVQUFVLEVBQUVOLE9BRlA7QUFHTE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sYUFEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ29CLE9BQVE7QUFGeEI7QUFIRDtBQWxCTixLQUFQO0FBMkJIOztBQXJDcUI7O0FBd0MxQnRCLEtBQUssQ0FBQ3VCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IHRhYmxlTmFtZXMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhYmxlTmFtZXNcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcblxuY2xhc3MgT3JkZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLm9yZGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgT3JkZXJJdGVtID0gcmVxdWlyZShcIi4vb3JkZXJJdGVtL29yZGVySXRlbS5tb2RlbFwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuSGFzTWFueVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IE9yZGVySXRlbSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMub3JkZXJJdGVtfS5vcmRlcl9pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IFVzZXIsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLm9yZGVyfS5jdXN0b21lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzczogQ29tcGFueSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcjtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n    static get tableName() {\n        return tableNames.order;\n    }\n\n    static get relationMappings() {\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n        const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n        return {\n            items: {\n                relation: Model.HasManyRelation,\n                modelClass: OrderItem,\n                join: {\n                    from: &#x60;${tableNames.order}.id&#x60;,\n                    to: &#x60;${tableNames.orderItem}.order_id&#x60;,\n                },\n            },\n\n            customer: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.order}.customer_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Company,\n                join: {\n                    from: &#x60;${tableNames.order}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Order;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;66&#x2F;ordermodel_662f5b9ea6475bcabfd0d4f0bf405dda.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2967&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5243,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5240,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Order&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 230,
                    &quot;endOffset&quot;: 230,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 267,
                    &quot;endOffset&quot;: 317,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 328,
                    &quot;endOffset&quot;: 1185,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n  orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVySXRlbS5yb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhdXRoIiwiQXV0aCIsInJvbGUiLCJvcmRlclNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInB1dCIsImN1c3RvbWVyIiwidXBkYXRlT3JkZXJJdGVtIiwicmVxIiwicmVzIiwibmV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJGLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxrQkFBRCxDQUE1Qjs7QUFFQSxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBUixDQUFlO0FBQzFCQyxFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUFmLENBQWY7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQk4sSUFBSSxDQUFDQyxJQUFJLENBQUNNLFFBQU4sQ0FBcEIsRUFBcUNDLGVBQXJDOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDckNULEVBQUFBLFlBQVksQ0FBQ00sZUFBYjtBQUNIOztBQUVESSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCByb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi4vb3JkZXIuc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wdXQoXCIvXCIsIEF1dGgocm9sZS5jdXN0b21lciksIHVwZGF0ZU9yZGVySXRlbSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVySXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZS51cGRhdGVPcmRlckl0ZW0oKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n    orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;orderItemroutes_440b1db2888128c60482407cf8bcef31.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2968&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2184,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2181,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 406,
                    &quot;endOffset&quot;: 484,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        }
      ]
    },
    {
      &quot;leaks&quot;: false,
      &quot;numFailingTests&quot;: 0,
      &quot;numPassingTests&quot;: 11,
      &quot;numPendingTests&quot;: 0,
      &quot;numTodoTests&quot;: 0,
      &quot;openHandles&quot;: [],
      &quot;perfStats&quot;: {
        &quot;end&quot;: 1610567038002,
        &quot;runtime&quot;: 2108,
        &quot;slow&quot;: false,
        &quot;start&quot;: 1610567035894
      },
      &quot;skipped&quot;: false,
      &quot;snapshot&quot;: {
        &quot;added&quot;: 0,
        &quot;fileDeleted&quot;: false,
        &quot;matched&quot;: 0,
        &quot;unchecked&quot;: 0,
        &quot;unmatched&quot;: 0,
        &quot;updated&quot;: 0,
        &quot;uncheckedKeys&quot;: []
      },
      &quot;testFilePath&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.test.js&quot;,
      &quot;testResults&quot;: [
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;register-owner&quot;
          ],
          &quot;duration&quot;: 44,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;register-owner should fail to create a user with missing fields&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to create a user with missing fields&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;register-owner&quot;
          ],
          &quot;duration&quot;: 51,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;register-owner should fail to signup user with existing email&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should fail to signup user with existing email&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;register-owner&quot;
          ],
          &quot;duration&quot;: 225,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;register-owner should signup a user &quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;should signup a user &quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;login&quot;
          ],
          &quot;duration&quot;: 109,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;login Should login user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should login user&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;login&quot;
          ],
          &quot;duration&quot;: 19,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;login Should not login user with wrong password&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should not login user with wrong password&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;login&quot;
          ],
          &quot;duration&quot;: 25,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;login Should fail to login for a non existenst user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should fail to login for a non existenst user&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST fetch accounts&quot;
          ],
          &quot;duration&quot;: 130,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST fetch accounts Should return an array of users&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should return an array of users&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PUT&#x2F;GET &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;:id fetch account by id&quot;
          ],
          &quot;duration&quot;: 135,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PUT&#x2F;GET &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;:id fetch account by id Should return the account of the user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should return the account of the user&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PUT&#x2F;GET &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;:id fetch account by id&quot;
          ],
          &quot;duration&quot;: 136,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PUT&#x2F;GET &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;:id fetch account by id Should not update the account of the admin&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should not update the account of the admin&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;PUT&#x2F;GET &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;:id fetch account by id&quot;
          ],
          &quot;duration&quot;: 189,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;PUT&#x2F;GET &#x2F;api&#x2F;v1&#x2F;accounts&#x2F;:id fetch account by id Should update the account of the owner&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should update the account of the owner&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F; create staff &quot;
          ],
          &quot;duration&quot;: 242,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;accounts&#x2F; create staff  owner should create a new user&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;owner should create a new user&quot;
        }
      ],
      &quot;failureMessage&quot;: null,
      &quot;v8Coverage&quot;: [
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\n\nconst compression &#x3D; require(\&quot;compression\&quot;);\n\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\n\nconst cors &#x3D; require(\&quot;cors\&quot;); &#x2F;&#x2F; Swagger stuff\n\n\nrequire(\&quot;rootpath\&quot;)();\n\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\n\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\n\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;\n  });\n});\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\nmodule.exports &#x3D; app;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvbXByZXNzaW9uIiwiaGVsbWV0IiwiY29ycyIsInN3YWdnZXJVaSIsInN3YWdnZXJEb2MiLCJjb25maWciLCJtaWRkbGV3YXJlcyIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJtZXNzYWdlIiwic2VydmUiLCJzZXR1cCIsIm5vdEZvdW5kIiwiZXJyb3JIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxVQUFELENBQVA7O0FBQ0EsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JPLE1BQWxCOztBQUVBLE1BQU1DLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsTUFBTVMsR0FBRyxHQUFHVCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNVSxHQUFHLEdBQUdYLE9BQU8sRUFBbkI7QUFFQVcsR0FBRyxDQUFDQyxHQUFKLENBQVFWLE1BQU0sQ0FBQyxLQUFELENBQWQ7QUFDQVMsR0FBRyxDQUFDQyxHQUFKLENBQVFSLE1BQU0sRUFBZDtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVAsSUFBSSxFQUFaO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRVCxXQUFXLEVBQW5CO0FBQ0FRLEdBQUcsQ0FBQ0MsR0FBSixDQUFRWixPQUFPLENBQUNhLElBQVIsRUFBUjtBQUVBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTO0FBQ0xJLElBQUFBLE9BQU8sRUFBRTtBQURKLEdBQVQ7QUFHSCxDQUpEO0FBTUFOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJGLEdBQW5CO0FBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJOLFNBQVMsQ0FBQ1ksS0FBL0IsRUFBc0NaLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQlosVUFBaEIsQ0FBdEM7QUFFQUksR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1csUUFBcEI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1ksWUFBcEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbi8vIFN3YWdnZXIgc3R1ZmZcbnJlcXVpcmUoXCJyb290cGF0aFwiKSgpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcbmNvbnN0IHN3YWdnZXJEb2MgPSByZXF1aXJlKFwiLi4vZG9jcy9zd2FnZ2VyLmpzb25cIik7XG5cbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IG1pZGRsZXdhcmVzID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXNcIik7XG5jb25zdCBhcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCLwn6aE8J+MiOKcqPCfkYvwn4yO8J+MjfCfjI&#x2F;inKjwn4yI8J+mhFwiLFxuICAgIH0pO1xufSk7XG5cbmFwcC51c2UoXCIvYXBpL3YxXCIsIGFwaSk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2MpKTtcblxuYXBwLnVzZShtaWRkbGV3YXJlcy5ub3RGb3VuZCk7XG5hcHAudXNlKG1pZGRsZXdhcmVzLmVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\nconst compression &#x3D; require(\&quot;compression\&quot;);\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\nconst cors &#x3D; require(\&quot;cors\&quot;);\n\n&#x2F;&#x2F; Swagger stuff\nrequire(\&quot;rootpath\&quot;)();\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\n\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;,\n    });\n});\n\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\n\nmodule.exports &#x3D; app;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;68&#x2F;app_6855482f668a469a3eba3734dab1ce4c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2039&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4132,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4129,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 669,
                    &quot;endOffset&quot;: 739,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;function notFound(req, res, next) {\n  res.status(404);\n  const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n  next(error);\n}\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\n\n\nfunction errorHandler(err, req, res, next) {\n  &#x2F;* eslint-enable no-unused-vars *&#x2F;\n  const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n  res.status(statusCode);\n  if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n  res.json({\n    message: err.message,\n    stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack\n  });\n}\n\nmodule.exports &#x3D; {\n  notFound,\n  errorHandler\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbIm5vdEZvdW5kIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwiRXJyb3IiLCJvcmlnaW5hbFVybCIsImVycm9ySGFuZGxlciIsImVyciIsInN0YXR1c0NvZGUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImpzb24iLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVg7QUFDQSxRQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFXLG9CQUFtQkwsR0FBRyxDQUFDTSxXQUFZLEVBQTlDLENBQWQ7QUFDQUosRUFBQUEsSUFBSSxDQUFDRSxLQUFELENBQUo7QUFDSDtBQUVEOzs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxHQUF0QixFQUEyQlIsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QztBQUNBLFFBQU1PLFVBQVUsR0FBR1IsR0FBRyxDQUFDUSxVQUFKLEtBQW1CLEdBQW5CLEdBQXlCUixHQUFHLENBQUNRLFVBQTdCLEdBQTBDLEdBQTdEO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXTSxVQUFYO0FBQ0EsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNPLE9BQWhCO0FBQzNDZCxFQUFBQSxHQUFHLENBQUNlLElBQUosQ0FBUztBQUNMRCxJQUFBQSxPQUFPLEVBQUVQLEdBQUcsQ0FBQ08sT0FEUjtBQUVMRSxJQUFBQSxLQUFLLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQXdDLElBQXhDLEdBQStDSixHQUFHLENBQUNTO0FBRnJELEdBQVQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwQixFQUFBQSxRQURhO0FBRWJRLEVBQUFBO0FBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3RGb3VuZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihg8J+UjSAtIE5vdCBGb3VuZCAtICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIG5leHQoZXJyb3IpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlICE9PSAyMDAgPyByZXMuc3RhdHVzQ29kZSA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gXCLwn6WeXCIgOiBlcnIuc3RhY2ssXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5vdEZvdW5kLFxuICAgIGVycm9ySGFuZGxlcixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;function notFound(req, res, next) {\n    res.status(404);\n    const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n    next(error);\n}\n\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\nfunction errorHandler(err, req, res, next) {\n    &#x2F;* eslint-enable no-unused-vars *&#x2F;\n    const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n    res.status(statusCode);\n    if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n    res.json({\n        message: err.message,\n        stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack,\n    });\n}\n\nmodule.exports &#x3D; {\n    notFound,\n    errorHandler,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0d&#x2F;middlewares_0d2bc57a77c05a727da8aec38de48282.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2172&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3010,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3007,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;notFound&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 89,
                    &quot;endOffset&quot;: 226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;errorHandler&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 265,
                    &quot;endOffset&quot;: 626,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;API - üëãüåéüåçüåè\&quot;\n  });\n});\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsT0FBTyxFQUFFO0FBREosR0FBVDtBQUdILENBSkQ7QUFNQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QlIsT0FBTyxDQUFDLG9CQUFELENBQS9CO0FBQ0FDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJSLE9BQU8sQ0FBQywwQkFBRCxDQUE5QjtBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiQVBJIC0g8J+Ri&#x2F;CfjI7wn4yN8J+Mj1wiLFxuICAgIH0pO1xufSk7XG5cbnJvdXRlci51c2UoXCIvYWNjb3VudHNcIiwgcmVxdWlyZShcIi4vYXV0aC9hdXRoLnJvdXRlc1wiKSk7XG5yb3V0ZXIudXNlKFwiL2NvbXBhbnlcIiwgcmVxdWlyZShcIi4vY29tcGFueS9jb21wYW55LnJvdXRlc1wiKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;API - üëãüåéüåçüåè\&quot;,\n    });\n});\n\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;46&#x2F;index_46150bc44a91011b69db233a13fb0837.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2173&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1664,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 175,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nconst {\n  signinSchema,\n  signupSchema,\n  updateSchema,\n  verifyEmailSchema\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\n\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n  const {\n    email,\n    password\n  } &#x3D; req.body;\n  authService.login({\n    email,\n    password\n  }).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    res.json({\n      user,\n      token\n    });\n  }).catch(next);\n}\n\nfunction register(req, res, next) {\n  req.body.role &#x3D; Role.owner;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n  req.body.role &#x3D; Role.customer;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n  authService.verifyEmail(req.body).then(() &#x3D;&gt; res.json({\n    message: \&quot;Verification successfull\&quot;\n  })).catch(next);\n}\n\nfunction getAll(req, res, next) {\n  authService.getAll().then(accounts &#x3D;&gt; res.json(accounts)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  &#x2F;&#x2F; users can get their own account and admin can get any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.getById(req.params.id).then(account &#x3D;&gt; account ? res.json(account) : res.sendStatus(404)).catch(next);\n}\n\nfunction create(req, res, next) {\n  authService.create(req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; users can update their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.update(req.params.id, req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction _delete(req, res, next) {\n  &#x2F;&#x2F; users can delete their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.delete(req.param.id).then(() &#x3D;&gt; res.json({\n    message: \&quot;Account deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwic2lnbmluU2NoZW1hIiwic2lnbnVwU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoU2VydmljZSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsInBvc3QiLCJsb2dpbiIsInJlZ2lzdGVyQ3VzdG9tZXIiLCJyZWdpc3RlciIsInZlcmlmeUVtYWlsIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGwiLCJnZXRCeUlkIiwib3duZXIiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwidG9rZW4iLCJqc29uIiwiY2F0Y2giLCJyb2xlIiwibWVzc2FnZSIsImN1c3RvbWVyIiwiYWNjb3VudHMiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImFjY291bnQiLCJzZW5kU3RhdHVzIiwicGFyYW0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLFlBREU7QUFFRkMsRUFBQUEsWUFGRTtBQUdGQyxFQUFBQSxZQUhFO0FBSUZDLEVBQUFBO0FBSkUsSUFLRk4sT0FBTyxDQUFDLG1CQUFELENBTFg7O0FBTUEsTUFBTU8sV0FBVyxHQUFHUCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTTtBQUFFUSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJULE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7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QTNCLEVBQWlDO0FBQzdCO0FBQ0EsTUFBSWEsTUFBTSxDQUFDZixHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBQVosQ0FBTixLQUEwQmpCLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxFQUFuQyxJQUF5Q2pCLEdBQUcsQ0FBQ08sSUFBSixDQUFTSSxJQUFULEtBQWtCN0IsSUFBSSxDQUFDTyxLQUFwRSxFQUEyRTtBQUN2RSxXQUFPWSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNIOztBQUVEakMsRUFBQUEsV0FBVyxDQUNOaUIsTUFETCxDQUNZSSxHQUFHLENBQUNxQixLQUFKLENBQVVKLEVBRHRCLEVBRUtYLElBRkwsQ0FFVSxNQUNGTCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUNMRyxJQUFBQSxPQUFPLEVBQUUsOEJBREo7QUFFTEssSUFBQUEsRUFBRSxFQUFFakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQztBQUZWLEdBQVQsQ0FIUixFQVFLUCxLQVJMLENBUVdSLElBUlg7QUFTSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB7XG4gICAgc2lnbmluU2NoZW1hLFxuICAgIHNpZ251cFNjaGVtYSxcbiAgICB1cGRhdGVTY2hlbWEsXG4gICAgdmVyaWZ5RW1haWxTY2hlbWEsXG59ID0gcmVxdWlyZShcIi4vYXV0aC52YWxpZGF0b3JzXCIpO1xuY29uc3QgYXV0aFNlcnZpY2UgPSByZXF1aXJlKFwiLi9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCB7IGF1dGg6IEF1dGggfSA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcm9sZVwiKTtcblxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgc2lnbmluU2NoZW1hLCBsb2dpbik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci1jdXN0b21lclwiLCBzaWdudXBTY2hlbWEsIHJlZ2lzdGVyQ3VzdG9tZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItb3duZXJcIiwgc2lnbnVwU2NoZW1hLCByZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi92ZXJpZnktZW1haWxcIiwgdmVyaWZ5RW1haWxTY2hlbWEsIHZlcmlmeUVtYWlsKTtcbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoUm9sZS5hZG1pbiksIGdldEFsbCk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBBdXRoKCksIGdldEJ5SWQpO1xucm91dGVyLnBvc3QoXCIvY3JlYXRlLXN0YWZmXCIsIEF1dGgoUm9sZS5vd25lciksIHNpZ251cFNjaGVtYSwgY3JlYXRlKTtcbnJvdXRlci5wdXQoXCIvOmlkXCIsIEF1dGgoKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aCgpLCBfZGVsZXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5sb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IHVzZXIsIHRva2VuIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUub3duZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUuY3VzdG9tZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlFbWFpbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC52ZXJpZnlFbWFpbChyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsbFwiIH0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAudGhlbigoYWNjb3VudHMpID0+IHJlcy5qc29uKGFjY291bnRzKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gdXNlcnMgY2FuIGdldCB0aGVpciBvd24gYWNjb3VudCBhbmQgYWRtaW4gY2FuIGdldCBhbnkgYWNjb3VudFxuICAgIGlmIChOdW1iZXIocmVxLnBhcmFtcy5pZCkgIT09IHJlcS51c2VyLmlkICYmIHJlcS51c2VyLnJvbGUgIT09IFJvbGUuYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF0aG9yaXplZFwiIH0pO1xuICAgIH1cblxuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChhY2NvdW50KSA9PiAoYWNjb3VudCA&#x2F;IHJlcy5qc29uKGFjY291bnQpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGFjY291bnQpID0+IHJlcy5qc29uKGFjY291bnQpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiB1cGRhdGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbigoYWNjb3VudCkgPT4gcmVzLmpzb24oYWNjb3VudCkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gX2RlbGV0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAuZGVsZXRlKHJlcS5wYXJhbS5pZClcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst router &#x3D; express.Router();\nconst {\n    signinSchema,\n    signupSchema,\n    updateSchema,\n    verifyEmailSchema,\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\n\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n    const { email, password } &#x3D; req.body;\n    authService\n        .login({ email, password })\n        .then(({ user, token }) &#x3D;&gt; {\n            res.json({ user, token });\n        })\n        .catch(next);\n}\n\nfunction register(req, res, next) {\n    req.body.role &#x3D; Role.owner;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n    req.body.role &#x3D; Role.customer;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n    authService\n        .verifyEmail(req.body)\n        .then(() &#x3D;&gt; res.json({ message: \&quot;Verification successfull\&quot; }))\n        .catch(next);\n}\n\nfunction getAll(req, res, next) {\n    authService\n        .getAll()\n        .then((accounts) &#x3D;&gt; res.json(accounts))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    &#x2F;&#x2F; users can get their own account and admin can get any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .getById(req.params.id)\n        .then((account) &#x3D;&gt; (account ? res.json(account) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction create(req, res, next) {\n    authService\n        .create(req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; users can update their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .update(req.params.id, req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction _delete(req, res, next) {\n    &#x2F;&#x2F; users can delete their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .delete(req.param.id)\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Account deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;75&#x2F;authroutes_75bf7888c8e4ac0a10e44194cc103f96.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2174&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 15260,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 15257,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 919,
                    &quot;endOffset&quot;: 1157,
                    &quot;count&quot;: 8
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1058,
                    &quot;endOffset&quot;: 1141,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1159,
                    &quot;endOffset&quot;: 1486,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1282,
                    &quot;endOffset&quot;: 1470,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;registerCustomer&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1488,
                    &quot;endOffset&quot;: 1826,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1828,
                    &quot;endOffset&quot;: 1985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1987,
                    &quot;endOffset&quot;: 2095,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2049,
                    &quot;endOffset&quot;: 2079,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2097,
                    &quot;endOffset&quot;: 2472,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2276,
                    &quot;endOffset&quot;: 2352,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2396,
                    &quot;endOffset&quot;: 2456,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2435,
                    &quot;endOffset&quot;: 2456,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2474,
                    &quot;endOffset&quot;: 2588,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2544,
                    &quot;endOffset&quot;: 2572,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2590,
                    &quot;endOffset&quot;: 2944,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 2771,
                    &quot;endOffset&quot;: 2847,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2900,
                    &quot;endOffset&quot;: 2928,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2946,
                    &quot;endOffset&quot;: 3350,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    firstName: Joi.string().required(),\n    lastName: Joi.string().required(),\n    phoneNumber: Joi.string().min(10).max(15).required(),\n    role: Joi.string().min(5).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required(),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    firstName: Joi.string().empty(\&quot;\&quot;),\n    lastName: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    role: Joi.string().min(5).empty(\&quot;\&quot;),\n    phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n    password: Joi.string().min(8).empty(\&quot;\&quot;),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;)\n  }; &#x2F;&#x2F;  TODO figure out how admin can update role\n\n  const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n  validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    token: Joi.string().required()\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsInNpZ251cFNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwicGhvbmVOdW1iZXIiLCJtaW4iLCJtYXgiLCJyb2xlIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInZhbGlkIiwicmVmIiwic2lnbmluU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSIsIndpdGgiLCJ2ZXJpZnlFbWFpbFNjaGVtYSIsInRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUVBRSxPQUFPLENBQUNDLFlBQVIsR0FBdUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTUMsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBVztBQUN0QkMsSUFBQUEsU0FBUyxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYUMsUUFBYixFQURXO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRlk7QUFHdEJFLElBQUFBLFdBQVcsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFJLEdBQWIsQ0FBaUIsRUFBakIsRUFBcUJDLEdBQXJCLENBQXlCLEVBQXpCLEVBQTZCSixRQUE3QixFQUhTO0FBSXRCSyxJQUFBQSxJQUFJLEVBQUVqQixHQUFHLENBQUNXLE1BQUosR0FBYUksR0FBYixDQUFpQixDQUFqQixFQUFvQkgsUUFBcEIsRUFKZ0I7QUFLdEJNLElBQUFBLEtBQUssRUFB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RUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FMRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5zaWdudXBTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5yZXF1aXJlZCgpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLnJlcXVpcmVkKCksXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS52YWxpZChKb2kucmVmKFwicGFzc3dvcmRcIikpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMuc2lnbmluU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgIH0pO1xuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYVJ1bGVzID0ge1xuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLmVtcHR5KFwiXCIpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLmVtcHR5KFwiXCIpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5lbXB0eShcIlwiKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogSm9pLnN0cmluZygpLnZhbGlkKEpvaS5yZWYoXCJwYXNzd29yZFwiKSkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIC8vICBUT0RPIGZpZ3VyZSBvdXQgaG93IGFkbWluIGNhbiB1cGRhdGUgcm9sZVxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpLndpdGgoXCJwYXNzd29yZFwiLCBcImNvbmZpcm1QYXNzd29yZFwiKTtcblxuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeUVtYWlsU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIHRva2VuOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        firstName: Joi.string().required(),\n        lastName: Joi.string().required(),\n        phoneNumber: Joi.string().min(10).max(15).required(),\n        role: Joi.string().min(5).required(),\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        firstName: Joi.string().empty(\&quot;\&quot;),\n        lastName: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        role: Joi.string().min(5).empty(\&quot;\&quot;),\n        phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n        password: Joi.string().min(8).empty(\&quot;\&quot;),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;),\n    };\n\n    &#x2F;&#x2F;  TODO figure out how admin can update role\n    const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n\n    validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        token: Joi.string().required(),\n    });\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;93&#x2F;authvalidators_93d8fdb0df4bea4d1ddc0a198e2ff769.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2175&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7592,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7589,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 651,
                    &quot;count&quot;: 4
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 677,
                    &quot;endOffset&quot;: 863,
                    &quot;count&quot;: 8
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 889,
                    &quot;endOffset&quot;: 1438,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1469,
                    &quot;endOffset&quot;: 1601,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n  const options &#x3D; {\n    abortEarly: false,\n    &#x2F;&#x2F; include all errors\n    allowUnknown: true,\n    &#x2F;&#x2F; ignore unknown props\n    stripUnknown: true &#x2F;&#x2F; remove unknown props\n\n  };\n  const {\n    error,\n    value\n  } &#x3D; schema.validate(req.body, options);\n\n  if (error) {\n    next(&#x60;Validation error: ${error.details.map(x &#x3D;&gt; x.message).join(\&quot;, \&quot;)}&#x60;);\n  } else {\n    req.body &#x3D; value;\n    next();\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwibmV4dCIsInNjaGVtYSIsIm9wdGlvbnMiLCJhYm9ydEVhcmx5IiwiYWxsb3dVbmtub3duIiwic3RyaXBVbmtub3duIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYm9keSIsImRldGFpbHMiLCJtYXAiLCJ4IiwibWVzc2FnZSIsImpvaW4iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGVBQWpCOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFDeEMsUUFBTUMsT0FBTyxHQUFHO0FBQ1pDLElBQUFBLFVBQVUsRUFBRSxLQURBO0FBQ087QUFDbkJDLElBQUFBLFlBQVksRUFBRSxJQUZGO0FBRVE7QUFDcEJDLElBQUFBLFlBQVksRUFBRSxJQUhGLENBR1E7O0FBSFIsR0FBaEI7QUFNQSxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFtQk4sTUFBTSxDQUFDTyxRQUFQLENBQWdCVCxHQUFHLENBQUNVLElBQXBCLEVBQTBCUCxPQUExQixDQUF6Qjs7QUFDQSxNQUFJSSxLQUFKLEVBQVc7QUFDUE4sSUFBQUEsSUFBSSxDQUNDLHFCQUFvQk0sS0FBSyxDQUFDSSxPQUFOLENBQ2hCQyxHQURnQixDQUNYQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsT0FERyxFQUVoQkMsSUFGZ0IsQ0FFWCxJQUZXLENBRUwsRUFIaEIsQ0FBSjtBQUtILEdBTkQsTUFNTztBQUNIZixJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0YsS0FBWDtBQUNBUCxJQUFBQSxJQUFJO0FBQ1A7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVSZXF1ZXN0O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSwgLy8gaW5jbHVkZSBhbGwgZXJyb3JzXG4gICAgICAgIGFsbG93VW5rbm93bjogdHJ1ZSwgLy8gaWdub3JlIHVua25vd24gcHJvcHNcbiAgICAgICAgc3RyaXBVbmtub3duOiB0cnVlLCAvLyByZW1vdmUgdW5rbm93biBwcm9wc1xuICAgIH07XG5cbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5LCBvcHRpb25zKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChcbiAgICAgICAgICAgIGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLmRldGFpbHNcbiAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLmJvZHkgPSB2YWx1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n    const options &#x3D; {\n        abortEarly: false, &#x2F;&#x2F; include all errors\n        allowUnknown: true, &#x2F;&#x2F; ignore unknown props\n        stripUnknown: true, &#x2F;&#x2F; remove unknown props\n    };\n\n    const { error, value } &#x3D; schema.validate(req.body, options);\n    if (error) {\n        next(\n            &#x60;Validation error: ${error.details\n                .map((x) &#x3D;&gt; x.message)\n                .join(\&quot;, \&quot;)}&#x60;\n        );\n    } else {\n        req.body &#x3D; value;\n        next();\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;45&#x2F;validateRequest_45057a96b73bd940f5249869883efa4a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2228&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2528,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2525,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;validateRequest&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 124,
                    &quot;endOffset&quot;: 562,
                    &quot;count&quot;: 14
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 481,
                    &quot;endOffset&quot;: 495,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\n\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\n\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\n\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n  &#x2F;**\n   * refreshtoken\n   * revoketoken\n   * forgotPassword\n   * validateResetToken\n   * validateResetToken\n   * resetPassword\n   *&#x2F;\n  login,\n  register,\n  verifyEmail,\n  create,\n  update,\n  getAll,\n  getById,\n  delete: _delete\n};\n\nasync function login({\n  email,\n  password\n}) {\n  const account &#x3D; await getAccount({\n    email\n  });\n\n  if (!account || &#x2F;&#x2F; !account.isVerified ||\n  !(await bcrypt.compare(password, account.password))) {\n    const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n    throw error;\n  }\n\n  const token &#x3D; await jwt.sign(account.toJSON());\n  return {\n    user: basicDetails(account),\n    token\n  };\n}\n\nasync function register(params, origin) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n    &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n    const error &#x3D; new Error(&#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;);\n    throw error;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; send email;\n  &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n  const token &#x3D; await jwt.sign(account);\n  return {\n    user: account,\n    token\n  };\n}\n\nasync function verifyEmail({\n  token\n}) {\n  const account &#x3D; await getAccount({\n    verificationToken: token\n  });\n  if (!account) throw \&quot;Verification failed\&quot;;\n  await account.$query().patch({\n    verified: Date.now(),\n    isVerified: true,\n    verificationToken: null\n  });\n}\n\nasync function create(params) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; TODO? bind to company here.\n\n  return basicDetails(account);\n}\n\nasync function update(id, params) {\n  const account &#x3D; await getAccount({\n    id\n  }); &#x2F;&#x2F; validate if email was changed\n\n  if (params.email &amp;&amp; account.email !&#x3D;&#x3D; params.email &amp;&amp; (await getAccount({\n    email: params.email\n  }))) {\n    const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n    throw error;\n  } &#x2F;&#x2F; hash password if it was entered\n\n\n  if (params.password) {\n    params.password &#x3D; await hash(params.password);\n  }\n\n  const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params\n  });\n  return basicDetails(updatedUser);\n} &#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\n\n\nasync function getAll() {\n  const accounts &#x3D; await User.query();\n  return accounts.map(x &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n  const account &#x3D; await getAccount({\n    id\n  });\n  return basicDetails(account);\n} &#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\n\n\nasync function _delete(id) {\n  await User.query().deleteById(id);\n}\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\n\n\nasync function getAccount(param) {\n  const account &#x3D; await User.query().where({ ...param\n  }).first();\n  return account;\n}\n\nasync function insertUser(params) {\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    role,\n    phoneNumber\n  } &#x3D; params; &#x2F;&#x2F; hash password and verification token\n\n  const hashedPassword &#x3D; await hash(password, 10);\n  const verificationToken &#x3D; randomTokenString(); &#x2F;&#x2F; create account\n\n  const account &#x3D; await User.query().insert({\n    email,\n    firstName,\n    lastName,\n    password: hashedPassword,\n    phoneNumber,\n    role: role,\n    active: true,\n    isVerified: false,\n    verified: new Date().toISOString(),\n    verificationToken\n  });\n  return basicDetails(account);\n}\n\nasync function hash(password) {\n  return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n  return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n  const {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  } &#x3D; account;\n  return {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  };\n}\n\nasync function sendVerificationEmail(account, origin) {\n  let message;\n\n  if (origin) {\n    const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n    message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: account.email,\n    subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n    html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;\n  });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n  let message;\n\n  if (origin) {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: email,\n    subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n    html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImJjcnlwdCIsImNyeXB0byIsInNlbmRFbWFpbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbiIsInJlZ2lzdGVyIiwidmVyaWZ5RW1haWwiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsImNvbXBhcmUiLCJlcnJvciIsIkVycm9yIiwidG9rZW4iLCJzaWduIiwidG9KU09OIiwidXNlciIsImJhc2ljRGV0YWlscyIsInBhcmFtcyIsIm9yaWdpbiIsImluc2VydFVzZXIiLCJ2ZXJpZmljYXRpb25Ub2tlbiIsIiRxdWVyeSIsInBhdGNoIiwidmVyaWZpZWQiLCJEYXRlIiwibm93IiwiaXNWZXJpZmllZCIsImlkIiwiaGFzaCIsInVwZGF0ZWRVc2VyIiwicXVlcnkiLCJwYXRjaEFuZEZldGNoQnlJZCIsImFjY291bnRzIiwibWFwIiwieCIsImRlbGV0ZUJ5SWQiLCJwYXJhbSIsIndoZXJlIiwiZmlyc3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGUiLCJwaG9uZU51bWJlciIsImhhc2hlZFBhc3N3b3JkIiwicmFuZG9tVG9rZW5TdHJpbmciLCJpbnNlcnQiLCJhY3RpdmUiLCJ0b0lTT1N0cmluZyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVkIiwidXBkYXRlZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIm1lc3NhZ2UiLCJ2ZXJpZnlVcmwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwic2VuZEFscmVhZHlSZWdpc3RlcmVkRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQW5C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a0IsRUFBakY7QUFDQWlDLElBQUFBLE9BQU8sR0FBSTtzQkFDR0MsU0FBVSxLQUFJQSxTQUFVO1NBRHRDO0FBR0gsR0FMRCxNQUtPO0FBQ0hELElBQUFBLE9BQU8sR0FBSTs4QkFDVzlDLE9BQU8sQ0FBQ2EsaUJBQWtCLGFBRGhEO0FBRUg7O0FBRUQsUUFBTTNCLFNBQVMsQ0FBQztBQUNaOEQsSUFBQUEsRUFBRSxFQUFFaEQsT0FBTyxDQUFDRixLQURBO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUseUNBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHOztVQUVMSixPQUFRO0FBTEUsR0FBRCxDQUFmO0FBT0g7O0FBRUQsZUFBZUssMEJBQWYsQ0FBMENyRCxLQUExQyxFQUFpRGEsTUFBakQsRUFBeUQ7QUFDckQsTUFBSW1DLE9BQUo7O0FBQ0EsTUFBSW5DLE1BQUosRUFBWTtBQUNSbUMsSUFBQUEsT0FBTyxHQUFJLGdFQUErRG5DLE1BQU8sc0RBQWpGO0FBQ0gsR0FGRCxNQUVPO0FBQ0htQyxJQUFBQSxPQUFPLEdBQUksK0dBQVg7QUFDSDs7QUFFRCxRQUFNNUQsU0FBUyxDQUFDO0FBQ1o4RCxJQUFBQSxFQUFFLEVBQUVsRCxLQURRO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUscURBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHO3VDQUN3QnBELEtBQU07aUJBQzVCZ0QsT0FBUTtBQUxMLEdBQUQsQ0FBZjtBQU9IIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi91c2VyL3VzZXIubW9kZWxcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvand0XCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZW1haWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2h0b2tlblxuICAgICAqIHJldm9rZXRva2VuXG4gICAgICogZm9yZ290UGFzc3dvcmRcbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiByZXNldFBhc3N3b3JkXG4gICAgICovXG4gICAgbG9naW4sXG4gICAgcmVnaXN0ZXIsXG4gICAgdmVyaWZ5RW1haWwsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBnZXRBbGwsXG4gICAgZ2V0QnlJZCxcbiAgICBkZWxldGU6IF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBlbWFpbCB9KTtcblxuICAgIGlmIChcbiAgICAgICAgIWFjY291bnQgfHxcbiAgICAgICAgLy8gIWFjY291bnQuaXNWZXJpZmllZCB8fFxuICAgICAgICAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhY2NvdW50LnBhc3N3b3JkKSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJFbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudC50b0pTT04oKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBiYXNpY0RldGFpbHMoYWNjb3VudCksXG4gICAgICAgIHRva2VuLFxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHBhcmFtcywgb3JpZ2luKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgLy8gc2VuZCBhbHJlYWR5IHJlZ2lzdGVyZWQgZXJyb3IgaW4gZW1haWwgdG8gcHJldmVudCBhY2NvdW50IGVudW1lcmF0aW9uXG4gICAgICAgIC8vIGF3YWl0IHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKHBhcmFtcy5lbWFpbCwgb3JpZ2luKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRW1haWwgXCInICsgcGFyYW1zLmVtYWlsICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCdcbiAgICAgICAgKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgaW5zZXJ0VXNlcihwYXJhbXMpO1xuXG4gICAgLy8gc2VuZCBlbWFpbDtcbiAgICAvLyBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKTtcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBhY2NvdW50LFxuICAgICAgICB0b2tlbixcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh7IHRva2VuIH0pIHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZ2V0QWNjb3VudCh7IHZlcmlmaWNhdGlvblRva2VuOiB0b2tlbiB9KTtcblxuICAgIGlmICghYWNjb3VudCkgdGhyb3cgXCJWZXJpZmljYXRpb24gZmFpbGVkXCI7XG5cbiAgICBhd2FpdCBhY2NvdW50LiRxdWVyeSgpLnBhdGNoKHtcbiAgICAgICAgdmVyaWZpZWQ6IERhdGUubm93KCksXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2VuOiBudWxsLFxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgdGhyb3cgJ0VtYWlsIFwiJyArIHBhcmFtcy5lbWFpbCArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBpbnNlcnRVc2VyKHBhcmFtcyk7XG5cbiAgICAvLyBUT0RPPyBiaW5kIHRvIGNvbXBhbnkgaGVyZS5cblxuICAgIHJldHVybiBiYXNpY0RldGFpbHMoYWNjb3VudCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBpZCB9KTtcblxuICAgIC8vIHZhbGlkYXRlIGlmIGVtYWlsIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMuZW1haWwgJiZcbiAgICAgICAgYWNjb3VudC5lbWFpbCAhPT0gcGFyYW1zLmVtYWlsICYmXG4gICAgICAgIChhd2FpdCBnZXRBY2NvdW50KHsgZW1haWw6IHBhcmFtcy5lbWFpbCB9KSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVtYWlsICR7cGFyYW1zLmVtYWlsfSBpcyBhbHJlYWR5IHRha2VuYCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcbiAgICBpZiAocGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgICAgIHBhcmFtcy5wYXNzd29yZCA9IGF3YWl0IGhhc2gocGFyYW1zLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwgeyAuLi5wYXJhbXMgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKHVwZGF0ZWRVc2VyKTtcbn1cblxuLy8gVE9ETyBNQUtFIFNPIElUIENBTiBRVUVSWSBGT1IgRElGRkVSRU5UIFRZUEVTIE9GIFVTRVJTXG5hc3luYyBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBVc2VyLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoeCkgPT4gYmFzaWNEZXRhaWxzKHgpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhhY2NvdW50KTtcbn1cblxuLy8gVE9ETyBNQUtFIElUIEFDQ0VQVCBBTiBBUlJBWSBPRiBJRFxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgIGF3YWl0IFVzZXIucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT0gSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09ICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50KHBhcmFtKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyAuLi5wYXJhbSB9KVxuICAgICAgICAuZmlyc3QoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmVOdW1iZXIgfSA9IHBhcmFtcztcblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiB0b2tlblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgMTApO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gcmFuZG9tVG9rZW5TdHJpbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKS5pbnNlcnQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgdmVyaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKGFjY291bnQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYXNoKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVRva2VuU3RyaW5nKCkge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDApLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoYWNjb3VudCkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBjcmVhdGVkLFxuICAgICAgICB1cGRhdGVkLFxuICAgICAgICBpc1ZlcmlmaWVkLFxuICAgIH0gPSBhY2NvdW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgdXBkYXRlZCxcbiAgICAgICAgaXNWZXJpZmllZCxcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKSB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgICBjb25zdCB2ZXJpZnlVcmwgPSBgJHtvcmlnaW59L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7YWNjb3VudC52ZXJpZmljYXRpb25Ub2tlbn1gO1xuICAgICAgICBtZXNzYWdlID0gYDxwPiBQbGVhc2UgY2xpY2sgdGhlIGJlbG93IGxpbmsgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzczo8L3A+XG4gICAgICAgIDxwPjxhIGhyZWY9XCIke3ZlcmlmeVVybH1cIj4ke3ZlcmlmeVVybH08L2E+PC9wPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+UGxlYXNlIHVzZSB0aGUgYmVsb3cgdG9rZW4gdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyB3aXRoIHRoZSA8Y29kZT4vYXV0aC92ZXJpZnktZW1haWw8L2NvZGU+IGFwaSByb3V0ZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+JHthY2NvdW50LnZlcmlmaWNhdGlvblRva2VufTwvY29kZT48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogYWNjb3VudC5lbWFpbCxcbiAgICAgICAgc3ViamVjdDogXCJTaWduLXVwIHZlcmlmaWNhdGlvbiBBUEkgLSBWZXJpZnkgRW1haWxcIixcbiAgICAgICAgaHRtbDogYDxoND5WZXJpZnkgRW1haWw8L2g0PlxuICAgICAgICA8cD5UaGFua3MgZm9yIHJlZ2lzdGVyaW5nITwvcD5cbiAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKGVtYWlsLCBvcmlnaW4pIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+SWYgeW91IGRvbid0IGtub3cgeW91ciBwYXNzd29yZCBwbGVhc2UgdmlzaXQgdGhlIDxhIGhyZWY9XCIke29yaWdpbn0vYXV0aC9mb3Jnb3QtcGFzc3dvcmRcIj5mb3Jnb3QgcGFzc3dvcmQ8L2E+IHBhZ2UuPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGA8cD5JZiB5b3UgZG9uJ3Qga25vdyB5b3VyIHBhc3N3b3JkIHlvdSBjYW4gcmVzZXQgaXQgdmlhIHRoZSA8Y29kZT4vYXV0aC9mb3Jnb3QtcGFzc3dvcmQ8L2NvZGU+IGFwaSByb3V0ZS48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IFwiU2lnbi11cCBWZXJpZmljYXRpb24gQVBJIC0gRW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkXCIsXG4gICAgICAgIGh0bWw6IGA8aDQ+RW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkPC9oND5cbiAgICAgICAgICAgICAgIDxwPllvdXIgZW1haWwgPHN0cm9uZz4ke2VtYWlsfTwvc3Ryb25nPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9wPlxuICAgICAgICAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n    &#x2F;**\n     * refreshtoken\n     * revoketoken\n     * forgotPassword\n     * validateResetToken\n     * validateResetToken\n     * resetPassword\n     *&#x2F;\n    login,\n    register,\n    verifyEmail,\n    create,\n    update,\n    getAll,\n    getById,\n    delete: _delete,\n};\n\nasync function login({ email, password }) {\n    const account &#x3D; await getAccount({ email });\n\n    if (\n        !account ||\n        &#x2F;&#x2F; !account.isVerified ||\n        !(await bcrypt.compare(password, account.password))\n    ) {\n        const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n        throw error;\n    }\n\n    const token &#x3D; await jwt.sign(account.toJSON());\n\n    return {\n        user: basicDetails(account),\n        token,\n    };\n}\n\nasync function register(params, origin) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n        &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n        const error &#x3D; new Error(\n            &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;\n        );\n\n        throw error;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; send email;\n    &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n    const token &#x3D; await jwt.sign(account);\n\n    return {\n        user: account,\n        token,\n    };\n}\n\nasync function verifyEmail({ token }) {\n    const account &#x3D; await getAccount({ verificationToken: token });\n\n    if (!account) throw \&quot;Verification failed\&quot;;\n\n    await account.$query().patch({\n        verified: Date.now(),\n        isVerified: true,\n        verificationToken: null,\n    });\n}\n\nasync function create(params) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; TODO? bind to company here.\n\n    return basicDetails(account);\n}\n\nasync function update(id, params) {\n    const account &#x3D; await getAccount({ id });\n\n    &#x2F;&#x2F; validate if email was changed\n    if (\n        params.email &amp;&amp;\n        account.email !&#x3D;&#x3D; params.email &amp;&amp;\n        (await getAccount({ email: params.email }))\n    ) {\n        const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n        throw error;\n    }\n\n    &#x2F;&#x2F; hash password if it was entered\n    if (params.password) {\n        params.password &#x3D; await hash(params.password);\n    }\n\n    const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params });\n\n    return basicDetails(updatedUser);\n}\n\n&#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\nasync function getAll() {\n    const accounts &#x3D; await User.query();\n    return accounts.map((x) &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n    const account &#x3D; await getAccount({ id });\n    return basicDetails(account);\n}\n\n&#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\nasync function _delete(id) {\n    await User.query().deleteById(id);\n}\n\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\nasync function getAccount(param) {\n    const account &#x3D; await User.query()\n        .where({ ...param })\n        .first();\n    return account;\n}\n\nasync function insertUser(params) {\n    const { firstName, lastName, email, password, role, phoneNumber } &#x3D; params;\n\n    &#x2F;&#x2F; hash password and verification token\n    const hashedPassword &#x3D; await hash(password, 10);\n    const verificationToken &#x3D; randomTokenString();\n\n    &#x2F;&#x2F; create account\n    const account &#x3D; await User.query().insert({\n        email,\n        firstName,\n        lastName,\n        password: hashedPassword,\n        phoneNumber,\n        role: role,\n        active: true,\n        isVerified: false,\n        verified: new Date().toISOString(),\n        verificationToken,\n    });\n\n    return basicDetails(account);\n}\n\nasync function hash(password) {\n    return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n    return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n    const {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    } &#x3D; account;\n    return {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    };\n}\n\nasync function sendVerificationEmail(account, origin) {\n    let message;\n    if (origin) {\n        const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n        message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: account.email,\n        subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n        html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;,\n    });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n    let message;\n    if (origin) {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: email,\n        subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n        html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;,\n    });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;15&#x2F;authservice_15139629ee8738726404e916e3a02258.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2229&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 22003,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 22000,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 546,
                    &quot;endOffset&quot;: 944,
                    &quot;count&quot;: 28
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 946,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 6
                  },
                  {
                    &quot;startOffset&quot;: 1055,
                    &quot;endOffset&quot;: 1057,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 1057,
                    &quot;endOffset&quot;: 1500,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1500,
                    &quot;endOffset&quot;: 1501,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1779,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1781,
                    &quot;endOffset&quot;: 2062,
                    &quot;count&quot;: 3
                  },
                  {
                    &quot;startOffset&quot;: 1880,
                    &quot;endOffset&quot;: 1882,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1882,
                    &quot;endOffset&quot;: 1951,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 1951,
                    &quot;endOffset&quot;: 2060,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2061,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2064,
                    &quot;endOffset&quot;: 2621,
                    &quot;count&quot;: 6
                  },
                  {
                    &quot;startOffset&quot;: 2149,
                    &quot;endOffset&quot;: 2203,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 2203,
                    &quot;endOffset&quot;: 2236,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2237,
                    &quot;endOffset&quot;: 2289,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2291,
                    &quot;endOffset&quot;: 2445,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2445,
                    &quot;endOffset&quot;: 2501,
                    &quot;count&quot;: 0
                  },
                  {
                    &quot;startOffset&quot;: 2501,
                    &quot;endOffset&quot;: 2619,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2619,
                    &quot;endOffset&quot;: 2620,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2682,
                    &quot;endOffset&quot;: 2793,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 2746,
                    &quot;endOffset&quot;: 2791,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2791,
                    &quot;endOffset&quot;: 2792,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2769,
                    &quot;endOffset&quot;: 2789,
                    &quot;count&quot;: 4
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2795,
                    &quot;endOffset&quot;: 2907,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 2873,
                    &quot;endOffset&quot;: 2905,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 2905,
                    &quot;endOffset&quot;: 2906,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2948,
                    &quot;endOffset&quot;: 3015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccount&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3076,
                    &quot;endOffset&quot;: 3198,
                    &quot;count&quot;: 30
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;insertUser&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3200,
                    &quot;endOffset&quot;: 3791,
                    &quot;count&quot;: 6
                  },
                  {
                    &quot;startOffset&quot;: 3431,
                    &quot;endOffset&quot;: 3789,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 3789,
                    &quot;endOffset&quot;: 3790,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;hash&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3793,
                    &quot;endOffset&quot;: 3868,
                    &quot;count&quot;: 4
                  },
                  {
                    &quot;startOffset&quot;: 3866,
                    &quot;endOffset&quot;: 3867,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;randomTokenString&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3870,
                    &quot;endOffset&quot;: 3951,
                    &quot;count&quot;: 2
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3953,
                    &quot;endOffset&quot;: 4226,
                    &quot;count&quot;: 15
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendVerificationEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4228,
                    &quot;endOffset&quot;: 4965,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4967,
                    &quot;endOffset&quot;: 5605,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n  static get tableName() {\n    return tableNames.user;\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; User;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiVXNlciIsInRhYmxlTmFtZSIsInVzZXIiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsSUFBTixTQUFtQkosS0FBbkIsQ0FBeUI7QUFDckIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLElBQWxCO0FBQ0g7O0FBSG9COztBQU16Qk4sS0FBSyxDQUFDTyxJQUFOLENBQVdKLEVBQVg7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vZGJcIik7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLnVzZXI7XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n    static get tableName() {\n        return tableNames.user;\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; User;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;65&#x2F;usermodel_65a16864dea2cc43f1cea59fb9ce1a95.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2230&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1454,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1451,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;User&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 224,
                    &quot;endOffset&quot;: 224,
                    &quot;count&quot;: 25
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 260,
                    &quot;endOffset&quot;: 309,
                    &quot;count&quot;: 80
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  user: \&quot;user\&quot;,\n  address: \&quot;address\&quot;,\n  company: \&quot;company\&quot;,\n  accounts: \&quot;accounts\&quot;,\n  category: \&quot;category\&quot;,\n  menu: \&quot;menu\&quot;,\n  item: \&quot;item\&quot;,\n  order: \&quot;order\&quot;,\n  orderItem: \&quot;orderItem\&quot;,\n  payments: \&quot;payments\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlTmFtZXMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInVzZXIiLCJhZGRyZXNzIiwiY29tcGFueSIsImFjY291bnRzIiwiY2F0ZWdvcnkiLCJtZW51IiwiaXRlbSIsIm9yZGVyIiwib3JkZXJJdGVtIiwicGF5bWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFLE1BRE87QUFFYkMsRUFBQUEsT0FBTyxFQUFFLFNBRkk7QUFHYkMsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYkMsRUFBQUEsUUFBUSxFQUFFLFVBSkc7QUFLYkMsRUFBQUEsUUFBUSxFQUFFLFVBTEc7QUFNYkMsRUFBQUEsSUFBSSxFQUFFLE1BTk87QUFPYkMsRUFBQUEsSUFBSSxFQUFFLE1BUE87QUFRYkMsRUFBQUEsS0FBSyxFQUFFLE9BUk07QUFTYkMsRUFBQUEsU0FBUyxFQUFFLFdBVEU7QUFVYkMsRUFBQUEsUUFBUSxFQUFFO0FBVkcsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB1c2VyOiBcInVzZXJcIixcbiAgICBhZGRyZXNzOiBcImFkZHJlc3NcIixcbiAgICBjb21wYW55OiBcImNvbXBhbnlcIixcbiAgICBhY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgbWVudTogXCJtZW51XCIsXG4gICAgaXRlbTogXCJpdGVtXCIsXG4gICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICBvcmRlckl0ZW06IFwib3JkZXJJdGVtXCIsXG4gICAgcGF5bWVudHM6IFwicGF5bWVudHNcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    user: \&quot;user\&quot;,\n    address: \&quot;address\&quot;,\n    company: \&quot;company\&quot;,\n    accounts: \&quot;accounts\&quot;,\n    category: \&quot;category\&quot;,\n    menu: \&quot;menu\&quot;,\n    item: \&quot;item\&quot;,\n    order: \&quot;order\&quot;,\n    orderItem: \&quot;orderItem\&quot;,\n    payments: \&quot;payments\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;d1&#x2F;tableNames_d158fb35bde4ba2feb47fa73fcd1c0db.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2443&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1435,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1432,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\n\nconst {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\n\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\nconst db &#x3D; Knex(connectionConfig);\nModel.knex(db);\nmodule.exports &#x3D; db;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIktuZXgiLCJyZXF1aXJlIiwiTW9kZWwiLCJrbmV4RmlsZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29ubmVjdGlvbkNvbmZpZyIsImRiIiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQVlELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUVBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixJQUF3QixhQUE1QztBQUNBLE1BQU1DLGdCQUFnQixHQUFHTCxRQUFRLENBQUNDLFdBQUQsQ0FBakM7QUFFQSxNQUFNSyxFQUFFLEdBQUdULElBQUksQ0FBQ1EsZ0JBQUQsQ0FBZjtBQUVBTixLQUFLLENBQUNRLElBQU4sQ0FBV0QsRUFBWDtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJILEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS25leCA9IHJlcXVpcmUoXCJrbmV4XCIpO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcblxuY29uc3Qga25leEZpbGUgPSByZXF1aXJlKFwiLi4va25leGZpbGVcIik7XG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcbmNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSBrbmV4RmlsZVtlbnZpcm9ubWVudF07XG5cbmNvbnN0IGRiID0gS25leChjb25uZWN0aW9uQ29uZmlnKTtcblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\nconst { Model } &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\n\nconst db &#x3D; Knex(connectionConfig);\n\nModel.knex(db);\n\nmodule.exports &#x3D; db;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;06&#x2F;db_061f2ffe7a9d03a98dba0f960ecba1d1.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2444&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1629,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n  test: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB_TEST,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  development: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  production: {\n    client: \&quot;pg\&quot;,\n    connection: process.env.DATABASE_URL,\n    pool: {\n      min: 2,\n      max: 10\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  }\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJkYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19EQl9URVNUIiwidXNlciIsIlBPU1RHUkVTX1VTRVIiLCJwYXNzd29yZCIsIlBPU1RHUkVTX1BBU1NXT1JEIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsIl9fZGlybmFtZSIsInNlZWRzIiwiZGV2ZWxvcG1lbnQiLCJQT1NUR1JFU19EQiIsInByb2R1Y3Rpb24iLCJEQVRBQkFTRV9VUkwiLCJwb29sIiwibWluIiwibWF4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxNQUFNLEVBQUUsSUFETjtBQUVGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFGZDtBQUdSQyxNQUFBQSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxhQUhWO0FBSVJDLE1BQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmQsS0FGVjtBQVFGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUkMsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEZixLQVJWO0FBWUZDLElBQUFBLEtBQUssRUFBRTtBQUNIRixNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURwQjtBQVpMLEdBRE87QUFrQmJFLEVBQUFBLFdBQVcsRUFBRTtBQUNUZCxJQUFBQSxNQUFNLEVBQUUsSUFEQztBQUVUQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxXQUZkO0FBR1JULE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGFBSFY7QUFJUkMsTUFBQUEsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFKZCxLQUZIO0FBUVRDLElBQUFBLFVBQVUsRUFBRTtBQUNSQyxNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURmLEtBUkg7QUFZVEMsSUFBQUEsS0FBSyxFQUFFO0FBQ0hGLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRHBCO0FBWkUsR0FsQkE7QUFtQ2JJLEVBQUFBLFVBQVUsRUFBRTtBQUNSaEIsSUFBQUEsTUFBTSxFQUFFLElBREE7QUFFUkMsSUFBQUEsVUFBVSxFQUFFRSxPQUFPLENBQUNDLEdBQVIsQ0FBWWEsWUFGaEI7QUFHUkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEdBQUcsRUFBRSxDQURIO0FBRUZDLE1BQUFBLEdBQUcsRUFBRTtBQUZILEtBSEU7QUFPUlYsSUFBQUEsVUFBVSxFQUFFO0FBQ1JDLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRGYsS0FQSjtBQVdSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEYsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEcEI7QUFYQztBQW5DQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVwZGF0ZSB3aXRoIHlvdXIgY29uZmlnIHNldHRpbmdzLlxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVzdDoge1xuICAgICAgICBjbGllbnQ6IFwicGdcIixcbiAgICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICAgICAgLy8gaG9zdDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQl9URVNULFxuICAgICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVNFUixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QT1NUR1JFU19QQVNTV09SRCxcbiAgICAgICAgfSxcbiAgICAgICAgbWlncmF0aW9uczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9taWdyYXRpb25zXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VlZHM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvc2VlZHNcIixcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgZGV2ZWxvcG1lbnQ6IHtcbiAgICAgICAgY2xpZW50OiBcInBnXCIsXG4gICAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGhvc3Q6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIsXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VU0VSLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgICBtaWdyYXRpb25zOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL21pZ3JhdGlvbnNcIixcbiAgICAgICAgfSxcblxuICAgICAgICBzZWVkczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9zZWVkc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIGNsaWVudDogXCJwZ1wiLFxuICAgICAgICBjb25uZWN0aW9uOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICAgIG1pbjogMixcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvbWlncmF0aW9uc1wiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHNlZWRzOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL3NlZWRzXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n    test: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB_TEST,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    development: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    production: {\n        client: \&quot;pg\&quot;,\n        connection: process.env.DATABASE_URL,\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e2&#x2F;knexfile_e268b34e213dcf9ff4bbc9c1fff3199f.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2676&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4994,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4991,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n  return new Promise((resolve, reject) &#x3D;&gt; {\n    jwt.sign(payload, process.env.JWT_SECRET, {\n      expiresIn: \&quot;3h\&quot;\n    }, (error, token) &#x3D;&gt; {\n      if (error) return reject(error);\n      return resolve(token);\n    });\n  });\n}\n\nmodule.exports &#x3D; {\n  sign\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2lnbiIsInBheWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJ0b2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBRUEsU0FBU0MsSUFBVCxDQUFjQyxPQUFkLEVBQXVCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwQ04sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQ0lDLE9BREosRUFFSUksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmhCLEVBR0k7QUFDSUMsTUFBQUEsU0FBUyxFQUFFO0FBRGYsS0FISixFQU1JLENBQUNDLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUNkLFVBQUlELEtBQUosRUFBVyxPQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYjtBQUNYLGFBQU9OLE9BQU8sQ0FBQ08sS0FBRCxDQUFkO0FBQ0gsS0FUTDtBQVdILEdBWk0sQ0FBUDtBQWFIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlosRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGp3dC5zaWduKFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjNoXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWduLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n    return new Promise((resolve, reject) &#x3D;&gt; {\n        jwt.sign(\n            payload,\n            process.env.JWT_SECRET,\n            {\n                expiresIn: \&quot;3h\&quot;,\n            },\n            (error, token) &#x3D;&gt; {\n                if (error) return reject(error);\n                return resolve(token);\n            }\n        );\n    });\n}\n\nmodule.exports &#x3D; {\n    sign,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;a2&#x2F;jwt_a2ecd03f3666d6bdf618e5bb010e6f13.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2728&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1961,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sign&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 127,
                    &quot;endOffset&quot;: 376,
                    &quot;count&quot;: 7
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 173,
                    &quot;endOffset&quot;: 372,
                    &quot;count&quot;: 7
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 273,
                    &quot;endOffset&quot;: 366,
                    &quot;count&quot;: 7
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\n\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({\n  to,\n  subject,\n  html,\n  from &#x3D; config[\&quot;emailFrom\&quot;]\n}) {\n  const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n  await transporter.sendMail({\n    from,\n    to,\n    subject,\n    html\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJmcm9tIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxTQUFqQjs7QUFFQSxlQUFlQSxTQUFmLENBQXlCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsT0FBTjtBQUFlQyxFQUFBQSxJQUFmO0FBQXFCQyxFQUFBQSxJQUFJLEdBQUdQLE1BQU0sQ0FBQyxXQUFEO0FBQWxDLENBQXpCLEVBQTRFO0FBQ3hFLFFBQU1RLFdBQVcsR0FBR1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCVCxNQUFNLENBQUMsYUFBRCxDQUFqQyxDQUFwQjtBQUNBLFFBQU1RLFdBQVcsQ0FBQ0UsUUFBWixDQUFxQjtBQUFFSCxJQUFBQSxJQUFGO0FBQVFILElBQUFBLEVBQVI7QUFBWUMsSUFBQUEsT0FBWjtBQUFxQkMsSUFBQUE7QUFBckIsR0FBckIsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRFbWFpbDtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwsIGZyb20gPSBjb25maWdbXCJlbWFpbEZyb21cIl0gfSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoY29uZmlnW1wic210cE9wdGlvbnNcIl0pO1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHsgZnJvbSwgdG8sIHN1YmplY3QsIGh0bWwgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({ to, subject, html, from &#x3D; config[\&quot;emailFrom\&quot;] }) {\n    const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n    await transporter.sendMail({ from, to, subject, html });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;email_4444491566e111edc26f59e95bae5b33.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2819&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1859,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1856,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 204,
                    &quot;endOffset&quot;: 441,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n  auth,\n  isOwner\n};\n\nfunction auth(roles &#x3D; []) {\n  if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n    roles &#x3D; [roles];\n  }\n\n  return async (req, res, next) &#x3D;&gt; {\n    let token;\n\n    if (req.headers.authorization &amp;&amp; req.headers.authorization.startsWith(\&quot;Bearer \&quot;)) {\n      token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n    } else {\n      return res.status(403).json({\n        message: \&quot;Token not found, access denied\&quot;\n      });\n    } &#x2F;&#x2F; verify token and account\n\n\n    try {\n      const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n      const user &#x3D; await User.query().where({\n        id: decodedToken.id\n      }).first();\n\n      if (!user || roles.length &amp;&amp; !roles.includes(decodedToken.role)) {\n        &#x2F;&#x2F; account does not exist or role not authorized\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      } &#x2F;&#x2F; authentication and authorization successful\n\n\n      req.user &#x3D; decodedToken;\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nfunction isOwner() {\n  return async (req, res, next) &#x3D;&gt; {\n    try {\n      const bool &#x3D; await Company.query().where({\n        owner_id: req.user.id,\n        id: req.params.company_id\n      }).first();\n\n      if (!bool) {\n        console.log(bool);\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      }\n\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIlVzZXIiLCJDb21wYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsImF1dGgiLCJpc093bmVyIiwicm9sZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZFRva2VuIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwicXVlcnkiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInJvbGUiLCJlcnJvciIsImJvb2wiLCJvd25lcl9pZCIsInBhcmFtcyIsImNvbXBhbnlfaWQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLHdCQUFELENBQXBCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFEYTtBQUViQyxFQUFBQTtBQUZhLENBQWpCOztBQUtBLFNBQVNELElBQVQsQ0FBY0UsS0FBSyxHQUFHLEVBQXRCLEVBQTBCO0FBQ3RCLE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkEsSUFBQUEsS0FBSyxHQUFHLENBQUNBLEtBQUQsQ0FBUjtBQUNIOztBQUVELFNBQU8sT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJQyxLQUFKOztBQUNBLFFBQ0lILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLElBQ0FMLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxVQUExQixDQUFxQyxTQUFyQyxDQUZKLEVBR0U7QUFDRUgsTUFBQUEsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBWixDQUEwQkUsS0FBMUIsQ0FBZ0MsU0FBaEMsRUFBMkMsQ0FBM0MsQ0FBUjtBQUNILEtBTEQsTUFLTztBQUNILGFBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQyxRQUFBQSxPQUFPLEVBQUU7QUFEZSxPQUFyQixDQUFQO0FBR0gsS0FYNEIsQ0FhN0I7OztBQUNBLFFBQUk7QUFDQSxZQUFNQyxZQUFZLEdBQUdwQixHQUFHLENBQUNxQixNQUFKLENBQVdULEtBQVgsRUFBa0JVLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFyQjtBQUVBLFlBQU1DLElBQUksR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsS0FBTCxHQUNkQyxLQURjLENBQ1I7QUFBRUMsUUFBQUEsRUFBRSxFQUFFUixZQUFZLENBQUNRO0FBQW5CLE9BRFEsRUFFZEMsS0FGYyxFQUFuQjs7QUFJQSxVQUFJLENBQUNKLElBQUQsSUFBVWpCLEtBQUssQ0FBQ3NCLE1BQU4sSUFBZ0IsQ0FBQ3RCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZVgsWUFBWSxDQUFDWSxJQUE1QixDQUEvQixFQUFtRTtBQUMvRDtBQUNBLGVBQU90QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0gsT0FWRCxDQVlBOzs7QUFDQVYsTUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixHQUFXTCxZQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDUCxLQWZELENBZUUsT0FBT3NCLEtBQVAsRUFBYztBQUNadEIsTUFBQUEsSUFBSSxDQUFDc0IsS0FBRCxDQUFKO0FBQ0g7QUFDSixHQWhDRDtBQWlDSDs7QUFFRCxTQUFTMUIsT0FBVCxHQUFtQjtBQUNmLFNBQU8sT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJO0FBQ0EsWUFBTXVCLElBQUksR0FBRyxNQUFNL0IsT0FBTyxDQUFDdUIsS0FBUixHQUNkQyxLQURjLENBQ1I7QUFDSFEsUUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTRyxFQURoQjtBQUVIQSxRQUFBQSxFQUFFLEVBQUVuQixHQUFHLENBQUMyQixNQUFKLENBQVdDO0FBRlosT0FEUSxFQUtkUixLQUxjLEVBQW5COztBQU9BLFVBQUksQ0FBQ0ssSUFBTCxFQUFXO0FBQ1BJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxJQUFaO0FBQ0EsZUFBT3hCLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCLENBQVA7QUFDSDs7QUFDRFIsTUFBQUEsSUFBSTtBQUNQLEtBYkQsQ0FhRSxPQUFPc0IsS0FBUCxFQUFjO0FBQ1p0QixNQUFBQSxJQUFJLENBQUNzQixLQUFELENBQUo7QUFDSDtBQUNKLEdBakJEO0FBa0JIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vYXBpL3VzZXIvdXNlci5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vYXBpL2NvbXBhbnkvY29tcGFueS5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aCxcbiAgICBpc093bmVyLFxufTtcblxuZnVuY3Rpb24gYXV0aChyb2xlcyA9IFtdKSB7XG4gICAgaWYgKHR5cGVvZiByb2xlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByb2xlcyA9IFtyb2xlc107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3RhcnRzV2l0aChcIkJlYXJlciBcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCJCZWFyZXIgXCIpWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIG5vdCBmb3VuZCwgYWNjZXNzIGRlbmllZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgdG9rZW4gYW5kIGFjY291bnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgKHJvbGVzLmxlbmd0aCAmJiAhcm9sZXMuaW5jbHVkZXMoZGVjb2RlZFRva2VuLnJvbGUpKSkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb3Igcm9sZSBub3QgYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZFRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc093bmVyKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogcmVxLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiByZXEucGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9vbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n    auth,\n    isOwner,\n};\n\nfunction auth(roles &#x3D; []) {\n    if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n        roles &#x3D; [roles];\n    }\n\n    return async (req, res, next) &#x3D;&gt; {\n        let token;\n        if (\n            req.headers.authorization &amp;&amp;\n            req.headers.authorization.startsWith(\&quot;Bearer \&quot;)\n        ) {\n            token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n        } else {\n            return res.status(403).json({\n                message: \&quot;Token not found, access denied\&quot;,\n            });\n        }\n\n        &#x2F;&#x2F; verify token and account\n        try {\n            const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n\n            const user &#x3D; await User.query()\n                .where({ id: decodedToken.id })\n                .first();\n\n            if (!user || (roles.length &amp;&amp; !roles.includes(decodedToken.role))) {\n                &#x2F;&#x2F; account does not exist or role not authorized\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            &#x2F;&#x2F; authentication and authorization successful\n            req.user &#x3D; decodedToken;\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n\nfunction isOwner() {\n    return async (req, res, next) &#x3D;&gt; {\n        try {\n            const bool &#x3D; await Company.query()\n                .where({\n                    owner_id: req.user.id,\n                    id: req.params.company_id,\n                })\n                .first();\n\n            if (!bool) {\n                console.log(bool);\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;be&#x2F;auth_bef81972d508eee6f0010ea0d7e5ae1e.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2853&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7428,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7425,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;auth&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 275,
                    &quot;endOffset&quot;: 1253,
                    &quot;count&quot;: 28
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 1250,
                    &quot;count&quot;: 10
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1255,
                    &quot;endOffset&quot;: 1662,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1285,
                    &quot;endOffset&quot;: 1659,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n  static get tableName() {\n    return tableNames.company;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n\n    const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n    return {\n      owner: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.company}.owner_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      accounts: {\n        relation: Model.HasManyRelation,\n        modelClass: Account,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.accounts}.company_id&#x60;\n        }\n      },\n      menus: {\n        relation: Model.HasManyRelation,\n        modelClass: Menu,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.menu}.company_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports &#x3D; Company;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsInNjaGVtYSIsIkNvbXBhbnkiLCJ0YWJsZU5hbWUiLCJjb21wYW55IiwianNvblNjaGVtYSIsInJlbGF0aW9uTWFwcGluZ3MiLCJVc2VyIiwiQWNjb3VudCIsIk1lbnUiLCJvd25lciIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsInVzZXIiLCJhY2NvdW50cyIsIkhhc01hbnlSZWxhdGlvbiIsIm1lbnVzIiwibWVudSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxPQUFOLFNBQXNCSixLQUF0QixDQUE0QjtBQUN4QixhQUFXSyxTQUFYLEdBQXVCO0FBQ25CLFdBQU9ILFVBQVUsQ0FBQ0ksT0FBbEI7QUFDSDs7QUFFRCxhQUFXQyxVQUFYLEdBQXdCO0FBQ3BCLFdBQU9KLE1BQVA7QUFDSDs7QUFFRCxhQUFXSyxnQkFBWCxHQUE4QjtBQUMxQjtBQUNBLFVBQU1DLElBQUksR0FBR1IsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLFVBQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLDJCQUFELENBQXZCOztBQUNBLFVBQU1VLElBQUksR0FBR1YsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUVBLFdBQU87QUFDSFcsTUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFFBQUFBLFFBQVEsRUFBRWIsS0FBSyxDQUFDYyxvQkFEYjtBQUVIQyxRQUFBQSxVQUFVLEVBQUVOLElBRlQ7QUFHSE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZixVQUFVLENBQUNJLE9BQVEsV0FEMUI7QUFFRlksVUFBQUEsRUFBRSxFQUFHLEdBQUVoQixVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEgsT0FESjtBQVNIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURWO0FBRU5OLFFBQUFBLFVBQVUsRUFBRUwsT0FGTjtBQUdOTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ2tCLFFBQVM7QUFGekI7QUFIQSxPQVRQO0FBaUJIRSxNQUFBQSxLQUFLLEVBQUU7QUFDSFQsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURiO0FBRUhOLFFBQUFBLFVBQVUsRUFBRUosSUFGVDtBQUdISyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ3FCLElBQUs7QUFGckI7QUFISDtBQWpCSixLQUFQO0FBMEJIOztBQXpDdUI7O0FBNEM1QkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkuc2NoZW1hLmpzb25cIik7XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLmNvbXBhbnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IHJlcXVpcmUoXCIuL2FjY291bnRzL2FjY291bnRzLm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvd25lcjoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBVc2VyLFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5vd25lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY291bnRzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBBY2NvdW50LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmFjY291bnRzfS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBNZW51LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLm1lbnV9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wYW55O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n    static get tableName() {\n        return tableNames.company;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n        const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n        const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n        return {\n            owner: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.company}.owner_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            accounts: {\n                relation: Model.HasManyRelation,\n                modelClass: Account,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.accounts}.company_id&#x60;,\n                },\n            },\n            menus: {\n                relation: Model.HasManyRelation,\n                modelClass: Menu,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.menu}.company_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nmodule.exports &#x3D; Company;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8b&#x2F;companymodel_8b713279ce3af8b604431fcbf24964b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2854&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5514,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5511,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Company&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 241,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 280,
                    &quot;endOffset&quot;: 332,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 343,
                    &quot;endOffset&quot;: 384,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 395,
                    &quot;endOffset&quot;: 1298,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  admin: \&quot;admin\&quot;,\n  owner: \&quot;owner\&quot;,\n  customer: \&quot;customer\&quot;,\n  staff: \&quot;staff\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFkbWluIiwib3duZXIiLCJjdXN0b21lciIsInN0YWZmIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLEtBQUssRUFBRSxPQURNO0FBRWJDLEVBQUFBLEtBQUssRUFBRSxPQUZNO0FBR2JDLEVBQUFBLFFBQVEsRUFBRSxVQUhHO0FBSWJDLEVBQUFBLEtBQUssRUFBRTtBQUpNLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRtaW46IFwiYWRtaW5cIixcbiAgICBvd25lcjogXCJvd25lclwiLFxuICAgIGN1c3RvbWVyOiBcImN1c3RvbWVyXCIsXG4gICAgc3RhZmY6IFwic3RhZmZcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    admin: \&quot;admin\&quot;,\n    owner: \&quot;owner\&quot;,\n    customer: \&quot;customer\&quot;,\n    staff: \&quot;staff\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;c3&#x2F;role_c386996d0c7428ed82a7fa0a3ec37236.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2855&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 789,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 786,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\n\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  scopedItems\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\n\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\n\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\n\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.owner_id &#x3D; req.user.id;\n  companyService.create(req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n  companyService.getAllCompanies().then(companies &#x3D;&gt; {\n    res.json(scopedItems(req.user, companies));\n  }).catch(next);\n}\n\nfunction getMyCompanies(req, res, next) {\n  companyService.getMyCompanies(req.user.id).then(companies &#x3D;&gt; companies ? res.json(companies) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyById(req, res, next) {\n  &#x2F;&#x2F; owner can get his company and the admin can get any company\n  companyService.getCompanyById(req.params.id).then(company &#x3D;&gt; {\n    if (company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    res.json(company);\n  }).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company\n  companyService.updateCompany({\n    id: req.params.id,\n    owner_id: req.user.id\n  }, req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company\n  companyService._delete({\n    id: parseInt(req.params.id),\n    owner_id: req.user.id\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: parseInt(req.params.id)\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiY29tcGFueVNlcnZpY2UiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJzY29wZWRJdGVtcyIsIkFjY291bnQiLCJNZW51IiwiT3JkZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsInBhdGNoIiwidXBkYXRlIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRNeUNvbXBhbmllcyIsImdldENvbXBhbnlCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZUNvbXBhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJvd25lcl9pZCIsInVzZXIiLCJpZCIsInRoZW4iLCJjb21wYW55IiwianNvbiIsImNhdGNoIiwiY29tcGFuaWVzIiwic2VuZFN0YXR1cyIsInBhcmFtcyIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQ29tcGFueSIsIl9kZWxldGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsc0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVPLEVBQUFBO0FBQUYsSUFBa0JQLE9BQU8sQ0FBQyx5QkFBRCxDQUEvQjs7QUFF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QURMLENBQ2E7QUFBRVosSUFBQUEsRUFBRSxFQUFFYSxRQUFRLENBQUNuQixHQUFHLENBQUNhLE1BQUosQ0FBV1AsRUFBWixDQUFkO0FBQStCRixJQUFBQSxRQUFRLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQztBQUFsRCxHQURiLEVBRUtDLElBRkwsQ0FFVSxNQUFNO0FBQ1JOLElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixDQUFTO0FBQUVILE1BQUFBLEVBQUUsRUFBRWEsUUFBUSxDQUFDbkIsR0FBRyxDQUFDYSxNQUFKLENBQVdQLEVBQVo7QUFBZCxLQUFUO0FBQ0gsR0FKTCxFQUtLSSxLQUxMLENBS1dSLElBTFg7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY29tcGFueS5zZXJ2aWNlXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCB7IHNjb3BlZEl0ZW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcGVybWlzc2lvbnNcIik7XG5cbmNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy9hY2NvdW50cy5yb3V0ZXNcIik7XG5jb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51LnJvdXRlc1wiKTtcbmNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4vb3JkZXIvb3JkZXIucm91dGVzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnkvMS9hY2NvdW50c1xucm91dGVyLnVzZShcIi86Y29tcGFueV9pZC9hY2NvdW50c1wiLCBBY2NvdW50KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvbWVudVwiLCBNZW51KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvb3JkZXJcIiwgT3JkZXIpO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmdldChcIi9cIiwgQXV0aChbUm9sZS5hZG1pbl0pLCBnZXRBbGxDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi9taW5lXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgZ2V0TXlDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aChbUm9sZS5hZG1pbiwgUm9sZS5vd25lcl0pLCBnZXRDb21wYW55QnlJZCk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLmFkbWluLCBSb2xlLm93bmVyXSksIF9kZWxldGVDb21wYW55KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5Lm93bmVyX2lkID0gcmVxLnVzZXIuaWQ7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGxDb21wYW5pZXMoKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihzY29wZWRJdGVtcyhyZXEudXNlciwgY29tcGFuaWVzKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldE15Q29tcGFuaWVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldE15Q29tcGFuaWVzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PlxuICAgICAgICAgICAgY29tcGFuaWVzID8gcmVzLmpzb24oY29tcGFuaWVzKSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb21wYW55QnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG93bmVyIGNhbiBnZXQgaGlzIGNvbXBhbnkgYW5kIHRoZSBhZG1pbiBjYW4gZ2V0IGFueSBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY29tcGFueS5vd25lcl9pZCAhPT0gcmVxLnVzZXIuaWQgJiZcbiAgICAgICAgICAgICAgICByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMuanNvbihjb21wYW55KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueVxuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVDb21wYW55KHsgaWQ6IHJlcS5wYXJhbXMuaWQsIG93bmVyX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDb21wYW55KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLl9kZWxldGUoeyBpZDogcGFyc2VJbnQocmVxLnBhcmFtcy5pZCksIG93bmVyX2lkOiByZXEudXNlci5pZCB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IGlkOiBwYXJzZUludChyZXEucGFyYW1zLmlkKSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { scopedItems } &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.owner_id &#x3D; req.user.id;\n    companyService\n        .create(req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n    companyService\n        .getAllCompanies()\n        .then((companies) &#x3D;&gt; {\n            res.json(scopedItems(req.user, companies));\n        })\n        .catch(next);\n}\nfunction getMyCompanies(req, res, next) {\n    companyService\n        .getMyCompanies(req.user.id)\n        .then((companies) &#x3D;&gt;\n            companies ? res.json(companies) : res.sendStatus(404)\n        )\n        .catch(next);\n}\nfunction getCompanyById(req, res, next) {\n    &#x2F;&#x2F; owner can get his company and the admin can get any company\n    companyService\n        .getCompanyById(req.params.id)\n        .then((company) &#x3D;&gt; {\n            if (\n                company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp;\n                req.user.role !&#x3D;&#x3D; Role.admin\n            ) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            res.json(company);\n        })\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company\n    companyService\n        .updateCompany({ id: req.params.id, owner_id: req.user.id }, req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company\n    companyService\n        ._delete({ id: parseInt(req.params.id), owner_id: req.user.id })\n        .then(() &#x3D;&gt; {\n            res.json({ id: parseInt(req.params.id) });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2a&#x2F;companyroutes_2accae81b914ebc49b8ad824faf130cd.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2856&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 11663,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 11660,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1186,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1340,
                    &quot;endOffset&quot;: 1505,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1507,
                    &quot;endOffset&quot;: 1681,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1683,
                    &quot;endOffset&quot;: 2058,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2281,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2283,
                    &quot;endOffset&quot;: 2553,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    logo_url: Joi.string(),\n    website_url: Joi.string(),\n    email: Joi.string().email().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    owner: Joi.number().empty(\&quot;\&quot;),\n    logo_url: Joi.string().empty(\&quot;\&quot;),\n    website_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsImxvZ29fdXJsIiwid2Vic2l0ZV91cmwiLCJlbWFpbCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiLCJvd25lciIsIm51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsUUFBUSxFQUFFZCxHQUFHLENBQUNXLE1BQUosRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosRUFKUztBQUt0QkssSUFBQUEsS0FBSyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFLLEtBQWIsR0FBcUJKLFFBQXJCO0FBTGUsR0FBWCxDQUFmO0FBT0FWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQ7O0FBV0FMLE9BQU8sQ0FBQ2MsWUFBUixHQUF1QixDQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNVyxXQUFXLEdBQUc7QUFDaEJSLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQk4sSUFBQUEsV0FBVyxFQUFFYixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQixDQUZHO0FBR2hCSCxJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYUssS0FBYixHQUFxQkcsS0FBckIsQ0FBMkIsRUFBM0IsQ0FIUztBQUloQkMsSUFBQUEsS0FBSyxFQUFFcEIsR0FBRyxDQUFDcUIsTUFBSixHQUFhRixLQUFiLENBQW1CLEVBQW5CLENBSlM7QUFLaEJMLElBQUFBLFFBQVEsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FMTTtBQU1oQkosSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQjtBQU5HLEdBQXBCO0FBU0EsUUFBTVgsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV1MsV0FBWCxDQUFmO0FBRUFoQixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQWJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBsb2dvX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICB3ZWJzaXRlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIG93bmVyOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGxvZ29fdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIHdlYnNpdGVfdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        logo_url: Joi.string(),\n        website_url: Joi.string(),\n        email: Joi.string().email().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        owner: Joi.number().empty(\&quot;\&quot;),\n        logo_url: Joi.string().empty(\&quot;\&quot;),\n        website_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;3c&#x2F;companyvalidators_3ce01f397e22205413767a4933ebdfd8.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2857&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4153,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4150,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 489,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 515,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n  create,\n  updateCompany,\n  getAllCompanies,\n  getMyCompanies,\n  getCompanyById,\n  _delete\n};\n\nasync function create(params) {\n  &#x2F;&#x2F; validate if company name exists\n  if (await getCompany({\n    name: params.name\n  })) {\n    error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n  }\n\n  const company &#x3D; await Company.query().insert(params);\n  return company;\n}\n\nasync function updateCompany(queryParams, params) {\n  const company &#x3D; await getCompany({ ...queryParams\n  });\n\n  if (!company) {\n    error(\&quot;Unauthorized\&quot;);\n  } &#x2F;&#x2F; validate if name was changed\n\n\n  if (params.name &amp;&amp; company.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCompany({\n    name: params.name\n  }))) {\n    error(&#x60;Name ${params.name} is already taken&#x60;);\n  }\n\n  const updatedCompany &#x3D; await Company.query().patchAndFetchById(queryParams.id, { ...params\n  });\n  return updatedCompany;\n}\n\nasync function getAllCompanies() {\n  const companies &#x3D; await Company.query();\n  return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n  const companies &#x3D; await Company.query().where({\n    owner_id: ownerId\n  });\n  return companies;\n}\n\nasync function getCompanyById(id) {\n  const company &#x3D; await getCompany({\n    id\n  });\n  return company;\n}\n\nasync function _delete(queryParams) {\n  const tobeDeleted &#x3D; await getCompany(queryParams);\n\n  if (tobeDeleted) {\n    return await Company.query().delete().where({ ...queryParams\n    });\n  }\n\n  return error(\&quot;Forbidden\&quot;);\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCompany(param) {\n  const company &#x3D; await Company.query().where({ ...param\n  }).first();\n  return company;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDb21wYW55IiwicmVxdWlyZSIsImVycm9yIiwiY3JlYXRlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlIiwidXBkYXRlQ29tcGFueSIsImdldEFsbENvbXBhbmllcyIsImdldE15Q29tcGFuaWVzIiwiZ2V0Q29tcGFueUJ5SWQiLCJfZGVsZXRlIiwicGFyYW1zIiwiZ2V0Q29tcGFueSIsIm5hbWUiLCJjb21wYW55IiwicXVlcnkiLCJpbnNlcnQiLCJxdWVyeVBhcmFtcyIsInVwZGF0ZWRDb21wYW55IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJpZCIsImNvbXBhbmllcyIsIm93bmVySWQiLCJ3aGVyZSIsIm93bmVyX2lkIiwidG9iZURlbGV0ZWQiLCJkZWxldGUiLCJwYXJhbSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUFyQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxhQUZhO0FBR2JDLEVBQUFBLGVBSGE7QUFJYkMsRUFBQUEsY0FKYTtBQUtiQyxFQUFBQSxjQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsTUFBZixDQUFzQk0sTUFBdEIsRUFBOEI7QUFDMUI7QUFDQSxNQUFJLE1BQU1DLFVBQVUsQ0FBQztBQUFFQyxJQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0U7QUFBZixHQUFELENBQXBCLEVBQTZDO0FBQ3pDWixJQUFBQSxLQUFLLENBQUMsV0FBV1UsTUFBTSxDQUFDRSxJQUFsQixHQUF5Qix5QkFBMUIsQ0FBTDtBQUNIOztBQUVELFFBQU1DLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQWdCQyxNQUFoQixDQUF1QkwsTUFBdkIsQ0FBdEI7QUFDQSxTQUFPRyxPQUFQO0FBQ0g7O0FBRUQsZUFBZVIsYUFBZixDQUE2QlcsV0FBN0IsRUFBMENOLE1BQTFDLEVBQWtEO0FBQzlDLFFBQU1HLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUMsRUFBRSxHQUFHSztBQUFMLEdBQUQsQ0FBaEM7O0FBRUEsTUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVmIsSUFBQUEsS0FBSyxDQUFDLGNBQUQsQ0FBTDtBQUNILEdBTDZDLENBTzlDOzs7QUFDQSxNQUNJVSxNQUFNLENBQUNFLElBQVAsSUFDQUMsT0FBTyxDQUFDRCxJQUFSLEtBQWlCRixNQUFNLENBQUNFLElBRHhCLEtBRUMsTUFBTUQsVUFBVSxDQUFDO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBTSxDQUFDRTtBQUFmLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0VaLElBQUFBLEtBQUssQ0FBRSxRQUFPVSxNQUFNLENBQUNFLElBQUssbUJBQXJCLENBQUw7QUFDSDs7QUFFRCxRQUFNSyxjQUFjLEdBQUcsTUFBTW5CLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JJLGlCQUFoQixDQUN6QkYsV0FBVyxDQUFDRyxFQURhLEVBRXpCLEVBQ0ksR0FBR1Q7QUFEUCxHQUZ5QixDQUE3QjtBQU9BLFNBQU9PLGNBQVA7QUFDSDs7QUFFRCxlQUFlWCxlQUFmLEdBQWlDO0FBQzdCLFFBQU1jLFNBQVMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDZ0IsS0FBUixFQUF4QjtBQUNBLFNBQU9NLFNBQVA7QUFDSDs7QUFFRCxlQUFlYixjQUFmLENBQThCYyxPQUE5QixFQUF1QztBQUNuQyxRQUFNRCxTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JRLEtBQWhCLENBQXNCO0FBQzFDQyxJQUFBQSxRQUFRLEVBQUVGO0FBRGdDLEdBQXRCLENBQXhCO0FBR0EsU0FBT0QsU0FBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsQ0FBOEJXLEVBQTlCLEVBQWtDO0FBQzlCLFFBQU1OLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUM7QUFBRVEsSUFBQUE7QUFBRixHQUFELENBQWhDO0FBQ0EsU0FBT04sT0FBUDtBQUNIOztBQUVELGVBQWVKLE9BQWYsQ0FBdUJPLFdBQXZCLEVBQW9DO0FBQ2hDLFFBQU1RLFdBQVcsR0FBRyxNQUFNYixVQUFVLENBQUNLLFdBQUQsQ0FBcEM7O0FBRUEsTUFBSVEsV0FBSixFQUFpQjtBQUNiLFdBQU8sTUFBTTFCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FDUlcsTUFEUSxHQUVSSCxLQUZRLENBRUYsRUFBRSxHQUFHTjtBQUFMLEtBRkUsQ0FBYjtBQUdIOztBQUVELFNBQU9oQixLQUFLLENBQUMsV0FBRCxDQUFaO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUVBLGVBQWVXLFVBQWYsQ0FBMEJlLEtBQTFCLEVBQWlDO0FBQzdCLFFBQU1iLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQ2pCUSxLQURpQixDQUNYLEVBQUUsR0FBR0k7QUFBTCxHQURXLEVBRWpCQyxLQUZpQixFQUF0QjtBQUdBLFNBQU9kLE9BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5jb25zdCBjcmVhdGVFcnJvciA9IHJlcXVpcmUoXCJodHRwLWVycm9yc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUNvbXBhbnksXG4gICAgZ2V0QWxsQ29tcGFuaWVzLFxuICAgIGdldE15Q29tcGFuaWVzLFxuICAgIGdldENvbXBhbnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGUgaWYgY29tcGFueSBuYW1lIGV4aXN0c1xuICAgIGlmIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpIHtcbiAgICAgICAgZXJyb3IoJ05hbWUgXCInICsgcGFyYW1zLm5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcGFueShxdWVyeVBhcmFtcywgcGFyYW1zKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyAuLi5xdWVyeVBhcmFtcyB9KTtcblxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgICBlcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBpZiBuYW1lIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjb21wYW55Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBOYW1lICR7cGFyYW1zLm5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChcbiAgICAgICAgcXVlcnlQYXJhbXMuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gdXBkYXRlZENvbXBhbnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHtcbiAgICBjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNvbXBhbmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TXlDb21wYW5pZXMob3duZXJJZCkge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS53aGVyZSh7XG4gICAgICAgIG93bmVyX2lkOiBvd25lcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBjb21wYW5pZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyBpZCB9KTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGNvbnN0IHRvYmVEZWxldGVkID0gYXdhaXQgZ2V0Q29tcGFueShxdWVyeVBhcmFtcyk7XG5cbiAgICBpZiAodG9iZURlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvbXBhbnkucXVlcnkoKVxuICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAud2hlcmUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3IoXCJGb3JiaWRkZW5cIik7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIF9zb2Z0RGVsZXRlKGlkKSB7XG4vL21hcmsgYXMgaW5hY3RpdmVcbi8vICBhd2FpdCBDb21wYW55LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnkocGFyYW0pIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBjb21wYW55O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n    create,\n    updateCompany,\n    getAllCompanies,\n    getMyCompanies,\n    getCompanyById,\n    _delete,\n};\n\nasync function create(params) {\n    &#x2F;&#x2F; validate if company name exists\n    if (await getCompany({ name: params.name })) {\n        error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n    }\n\n    const company &#x3D; await Company.query().insert(params);\n    return company;\n}\n\nasync function updateCompany(queryParams, params) {\n    const company &#x3D; await getCompany({ ...queryParams });\n\n    if (!company) {\n        error(\&quot;Unauthorized\&quot;);\n    }\n\n    &#x2F;&#x2F; validate if name was changed\n    if (\n        params.name &amp;&amp;\n        company.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCompany({ name: params.name }))\n    ) {\n        error(&#x60;Name ${params.name} is already taken&#x60;);\n    }\n\n    const updatedCompany &#x3D; await Company.query().patchAndFetchById(\n        queryParams.id,\n        {\n            ...params,\n        }\n    );\n\n    return updatedCompany;\n}\n\nasync function getAllCompanies() {\n    const companies &#x3D; await Company.query();\n    return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n    const companies &#x3D; await Company.query().where({\n        owner_id: ownerId,\n    });\n    return companies;\n}\n\nasync function getCompanyById(id) {\n    const company &#x3D; await getCompany({ id });\n    return company;\n}\n\nasync function _delete(queryParams) {\n    const tobeDeleted &#x3D; await getCompany(queryParams);\n\n    if (tobeDeleted) {\n        return await Company.query()\n            .delete()\n            .where({ ...queryParams });\n    }\n\n    return error(\&quot;Forbidden\&quot;);\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCompany(param) {\n    const company &#x3D; await Company.query()\n        .where({ ...param })\n        .first();\n    return company;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;10&#x2F;companyservice_103976749abb46712c9f5147304425bb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2858&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7967,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 615,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 617,
                    &quot;endOffset&quot;: 1096,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1098,
                    &quot;endOffset&quot;: 1197,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1199,
                    &quot;endOffset&quot;: 1339,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1341,
                    &quot;endOffset&quot;: 1446,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1448,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1808,
                    &quot;endOffset&quot;: 1933,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; message &#x3D;&gt; {\n  const error &#x3D; new Error(message);\n  throw error;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsT0FBRCxJQUFhO0FBQzFCLFFBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLE9BQVYsQ0FBZDtBQUNBLFFBQU1DLEtBQU47QUFDSCxDQUhEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; (message) &#x3D;&gt; {\n    const error &#x3D; new Error(message);\n    throw error;\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;fa&#x2F;error_fa67f28dedb39797d87045fcac49c533.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2859&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 690,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 687,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 106,
                    &quot;endOffset&quot;: 171,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n  if (user.role &#x3D;&#x3D; role.admin) return items;\n  return items.filter(item &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n  scopedItems\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb25zLmpzIl0sIm5hbWVzIjpbInJvbGUiLCJyZXF1aXJlIiwic2NvcGVkSXRlbXMiLCJ1c2VyIiwiaXRlbXMiLCJhZG1pbiIsImZpbHRlciIsIml0ZW0iLCJvd25lcl9pZCIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsTUFBSUQsSUFBSSxDQUFDSCxJQUFMLElBQWFBLElBQUksQ0FBQ0ssS0FBdEIsRUFBNkIsT0FBT0QsS0FBUDtBQUM3QixTQUFPQSxLQUFLLENBQUNFLE1BQU4sQ0FBY0MsSUFBRCxJQUFVQSxJQUFJLENBQUNDLFFBQUwsSUFBaUJMLElBQUksQ0FBQ00sRUFBN0MsQ0FBUDtBQUNIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlQsRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvbGUgPSByZXF1aXJlKFwiLi9yb2xlXCIpO1xuXG5mdW5jdGlvbiBzY29wZWRJdGVtcyh1c2VyLCBpdGVtcykge1xuICAgIGlmICh1c2VyLnJvbGUgPT0gcm9sZS5hZG1pbikgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ub3duZXJfaWQgPT0gdXNlci5pZCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNjb3BlZEl0ZW1zLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n    if (user.role &#x3D;&#x3D; role.admin) return items;\n    return items.filter((item) &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n    scopedItems,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;08&#x2F;permissions_089e905c4105820f9841c9d528f11f86.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2862&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1344,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1341,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;scopedItems&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 122,
                    &quot;endOffset&quot;: 261,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n  mergeParams: true\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n  try {\n    &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n    &#x2F;&#x2F; }\n    const accounts &#x3D; await Account.query().where({\n      company_id: req.params.company_id\n    });\n\n    if (!accounts) {\n      return res.status(404);\n    }\n\n    res.json(accounts);\n  } catch (error) {\n    next(error);\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJBY2NvdW50IiwicmVxdWlyZSIsIkNvbXBhbnkiLCJSb2xlIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJnZXQiLCJhZG1pbiIsIm93bmVyIiwiZ2V0QWNjb3VudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImFjY291bnRzIiwicXVlcnkiLCJ3aGVyZSIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUcsRUFBQUEsSUFBSSxFQUFFQyxJQUFSO0FBQWNDLEVBQUFBO0FBQWQsSUFBMEJMLE9BQU8sQ0FBQyw0QkFBRCxDQUF2Qzs7QUFFQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJPLE1BQW5CLENBQTBCO0FBQ3JDQyxFQUFBQSxXQUFXLEVBQUU7QUFEd0IsQ0FBMUIsQ0FBZjs7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkwsSUFBSSxDQUFDLENBQUNGLElBQUksQ0FBQ1EsS0FBTixFQUFhUixJQUFJLENBQUNTLEtBQWxCLENBQUQsQ0FBcEIsRUFBZ0ROLE9BQU8sRUFBdkQsRUFBMkRPLFdBQTNEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakI7O0FBRUEsZUFBZU0sV0FBZixDQUEyQkcsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QyxNQUFJO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTUMsUUFBUSxHQUFHLE1BQU1uQixPQUFPLENBQUNvQixLQUFSLEdBQWdCQyxLQUFoQixDQUFzQjtBQUN6Q0MsTUFBQUEsVUFBVSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0Q7QUFEa0IsS0FBdEIsQ0FBdkI7O0FBSUEsUUFBSSxDQUFDSCxRQUFMLEVBQWU7QUFDWCxhQUFPRixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLENBQVA7QUFDSDs7QUFFRFAsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNOLFFBQVQ7QUFDSCxHQWRELENBY0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pSLElBQUFBLElBQUksQ0FBQ1EsS0FBRCxDQUFKO0FBQ0g7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS5tb2RlbFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcm9sZVwiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCwgaXNPd25lciB9ID0gcmVxdWlyZShcIi4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoW1JvbGUuYWRtaW4sIFJvbGUub3duZXJdKSwgaXNPd25lcigpLCBnZXRBY2NvdW50cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50cyhyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGlmICghY29tcGFueSAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50LnF1ZXJ5KCkud2hlcmUoe1xuICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjY291bnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oYWNjb3VudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n    mergeParams: true,\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\n\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n    try {\n        &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n        &#x2F;&#x2F; }\n\n        const accounts &#x3D; await Account.query().where({\n            company_id: req.params.company_id,\n        });\n\n        if (!accounts) {\n            return res.status(404);\n        }\n\n        res.json(accounts);\n    } catch (error) {\n        next(error);\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f5&#x2F;accountsroutes_f54e96c4db6e4acb21a322f351ad9a58.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2863&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3778,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3775,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccounts&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n  static get tableName() {\n    return tableNames.accounts;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n}\n\nmodule.exports &#x3D; Account;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJzY2hlbWEiLCJBY2NvdW50IiwidGFibGVOYW1lIiwiYWNjb3VudHMiLCJqc29uU2NoZW1hIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUVBLE1BQU1HLE9BQU4sU0FBc0JKLEtBQXRCLENBQTRCO0FBQ3hCLGFBQVdLLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0gsVUFBVSxDQUFDSSxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0osTUFBUDtBQUNIOztBQVB1Qjs7QUFVNUJLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkwsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2FjY291bnRzLnNjaGVtYS5qc29uXCIpO1xuXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5hY2NvdW50cztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGpzb25TY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnQ7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n    static get tableName() {\n        return tableNames.accounts;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n}\n\nmodule.exports &#x3D; Account;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;01&#x2F;accountsmodel_01a1ad309c7db6ca01e6d4ebe4774684.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2864&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Account&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 245,
                    &quot;endOffset&quot;: 245,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 284,
                    &quot;endOffset&quot;: 337,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 389,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\n\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.company_id &#x3D; parseInt(req.params.company_id);\n  menuService.createMenu(req.body).then(menu &#x3D;&gt; res.json(menu)).catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  menuService.getAllCompanyMenus({\n    id: company_id\n  }).then(menus &#x3D;&gt; menus ? res.json(menus) : res.sendStatus(404)).catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n  menuService.getMenuById(req.params.id).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService.updateMenu(req.params.id, req.body);\n  }).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiQ29tcGFueSIsImF1dGgiLCJBdXRoIiwiaXNPd25lciIsIlJvbGUiLCJDYXRlZ29yeSIsIm1lbnVTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlTWVudSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYm9keSIsImNvbXBhbnlfaWQiLCJwYXJzZUludCIsInBhcmFtcyIsImNyZWF0ZU1lbnUiLCJ0aGVuIiwibWVudSIsImpzb24iLCJjYXRjaCIsImlkIiwibWVudXMiLCJzZW5kU3RhdHVzIiwicXVlcnkiLCJ3aGVyZSIsInVzZXIiLCJmaXJzdCIsImNvbXBhbnkiLCJzdGF0dXMiLCJ1cGRhdGVNZW51IiwiX2RlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsa0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQk4sT0FBTyxDQUFDLDRCQUFELENBQXZDOztBQUNBLE1BQU1PLElBQUksR0FBR1AsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU1RLFFBQVEsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1T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aEJMLEVBaUJLRCxLQWpCTCxDQWlCV1QsSUFqQlg7QUFrQkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL21lbnUudmFsaWRhdG9yXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5LnJvdXRlc1wiKTtcblxuY29uc3QgbWVudVNlcnZpY2UgPSByZXF1aXJlKFwiLi9tZW51LnNlcnZpY2VcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbi8vIGFwaS92MS9jb21wYW55L2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeVxucm91dGVyLnVzZShcIi86bWVudV9pZC9jYXRlZ29yeVwiLCBDYXRlZ29yeSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQ29tcGFueU1lbnVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldE1lbnVCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCB1cGRhdGVTY2hlbWEsIHVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIF9kZWxldGVNZW51KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5LmNvbXBhbnlfaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmNvbXBhbnlfaWQpO1xuICAgIG1lbnVTZXJ2aWNlXG4gICAgICAgIC5jcmVhdGVNZW51KHJlcS5ib2R5KVxuICAgICAgICAudGhlbigobWVudSkgPT4gcmVzLmpzb24obWVudSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29tcGFueU1lbnVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjb21wYW55X2lkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgbWVudVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlNZW51cyh7IGlkOiBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChtZW51cykgPT4gKG1lbnVzID8gcmVzLmpzb24obWVudXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVudUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBtZW51U2VydmljZVxuICAgICAgICAuZ2V0TWVudUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKG1lbnUpID0+IChtZW51ID8gcmVzLmpzb24obWVudSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBtZW51XG5cbiAgICBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgb3duZXI6IHJlcS51c2VyLmlkIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJVbmF0aG9yaXplZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTZXJ2aWNlLnVwZGF0ZU1lbnUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigobWVudSkgPT4gKG1lbnUgPyByZXMuanNvbihtZW51KSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVNZW51KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55IG1lbnVcblxuICAgIENvbXBhbnkucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyBvd25lcjogcmVxLnVzZXIuaWQgfSlcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICghY29tcGFueSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICAgICAgICAgICAgICBlcnJvcihcIlVuYXRob3JpemVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.company_id &#x3D; parseInt(req.params.company_id);\n    menuService\n        .createMenu(req.body)\n        .then((menu) &#x3D;&gt; res.json(menu))\n        .catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    menuService\n        .getAllCompanyMenus({ id: company_id })\n        .then((menus) &#x3D;&gt; (menus ? res.json(menus) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n    menuService\n        .getMenuById(req.params.id)\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService.updateMenu(req.params.id, req.body);\n        })\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;99&#x2F;menuroutes_997150f167642e0bf13a4d7cf8d13bc4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2952&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 954,
                    &quot;endOffset&quot;: 1123,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1125,
                    &quot;endOffset&quot;: 1348,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1350,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1879,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1881,
                    &quot;endOffset&quot;: 2321,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    cover_url: Joi.string()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    cover_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUudmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJleHBvcnRzIiwiY3JlYXRlU2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiY292ZXJfdXJsIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsU0FBUyxFQUFFZCxHQUFHLENBQUNXLE1BQUo7QUFIVyxHQUFYLENBQWY7QUFLQVQsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FQRDs7QUFTQUwsT0FBTyxDQUFDWSxZQUFSLEdBQXVCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1TLFdBQVcsR0FBRztBQUNoQk4sSUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixDQUFtQixFQUFuQixDQURVO0FBRWhCSixJQUFBQSxXQUFXLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhTSxLQUFiLENBQW1CLEVBQW5CLENBRkc7QUFHaEJILElBQUFBLFNBQVMsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFwQjtBQU1BLFFBQU1ULE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdPLFdBQVgsQ0FBZjtBQUVBZCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdChzY2hlbWFSdWxlcyk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        cover_url: Joi.string(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        cover_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0b&#x2F;menuvalidator_0bff2254f7ebb231be87a9bba47a9cd7.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2953&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3165,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 216,
                    &quot;endOffset&quot;: 418,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 444,
                    &quot;endOffset&quot;: 689,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\n\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  &#x2F;&#x2F; check if owner of company\n  const payload &#x3D; req.body;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.createcategory(payload);\n  }).then(category &#x3D;&gt; res.json(category)).catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  categoryService.getAllCompanyCategorys({\n    company_id\n  }).then(categories &#x3D;&gt; categories ? res.json(categories) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n  categoryService.getCategoryById(req.params.id).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company category\n  const payload &#x3D; req.body;\n  payload.menu_id &#x3D; req.params.menu_id;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.updateCategory(req.params.id, payload);\n  }).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company category\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function isOwner(owner_id, company_id) {\n  const bool &#x3D; await Company.query().where({\n    owner_id,\n    id: company_id\n  }).first();\n  return bool;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZVNjaGVtYSIsInVwZGF0ZVNjaGVtYSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsIkNvbXBhbnkiLCJJdGVtIiwiY2F0ZWdvcnlTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlDYXRlZ29yeXMiLCJnZXRDYXRlZ29yeUJ5SWQiLCJwYXRjaCIsInVwZGF0ZSIsImRlbGV0ZSIsIl9kZWxldGVDYXRlZ29yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGF5bG9hZCIsImJvZHkiLCJpc093bmVyIiwidXNlciIsImlkIiwicGFyYW1zIiwiY29tcGFueV9pZCIsInRoZW4iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNyZWF0ZWNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjYXRjaCIsImNhdGVnb3JpZXMiLCJzZW5kU3RhdHVzIiwibWVudV9pZCIsInVwZGF0ZUNhdGVnb3J5IiwiX2RlbGV0ZSIsIm93bmVyX2lkIiwiYm9vbCIsInF1ZXJ5Iiwid2hlcmUiLCJmaXJzdCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsdUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJKLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFFQSxNQUFNTyxJ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T0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNIOztBQUNELFdBQU8vQixlQUFlLENBQUN1QyxPQUFoQixDQUF3QjtBQUMzQmQsTUFBQUEsRUFBRSxFQUFFUCxHQUFHLENBQUNRLE1BQUosQ0FBV0QsRUFEWTtBQUUzQkUsTUFBQUEsVUFBVSxFQUFFVCxHQUFHLENBQUNRLE1BQUosQ0FBV0M7QUFGSSxLQUF4QixDQUFQO0FBSUgsR0FUTCxFQVVLQyxJQVZMLENBVVUsTUFBTTtBQUNSVCxJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFTCxNQUFBQSxFQUFFLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRDtBQUFqQixLQUFUO0FBQ0gsR0FaTCxFQWFLUyxLQWJMLENBYVdkLElBYlg7QUFjSCxDLENBRUQ7OztBQUNBLGVBQWVHLE9BQWYsQ0FBdUJpQixRQUF2QixFQUFpQ2IsVUFBakMsRUFBNkM7QUFDekMsUUFBTWMsSUFBSSxHQUFHLE1BQU0zQyxPQUFPLENBQUM0QyxLQUFSLEdBQ2RDLEtBRGMsQ0FDUjtBQUFFSCxJQUFBQSxRQUFGO0FBQVlmLElBQUFBLEVBQUUsRUFBRUU7QUFBaEIsR0FEUSxFQUVkaUIsS0FGYyxFQUFuQjtBQUlBLFNBQU9ILElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCB9ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3QgUm9sZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi91dGlscy9yb2xlXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYW55Lm1vZGVsXCIpO1xuXG5jb25zdCBJdGVtID0gcmVxdWlyZShcIi4vaXRlbS9pdGVtLnJvdXRlc1wiKTtcblxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2VydmljZVwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeS9jYXRlZ29yeV9pZC9pdGVtXG5yb3V0ZXIudXNlKFwiLzpjYXRlZ29yeV9pZC9pdGVtXCIsIEl0ZW0pO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCBnZXRBbGxDb21wYW55Q2F0ZWdvcnlzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldENhdGVnb3J5QnlJZCk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBfZGVsZXRlQ2F0ZWdvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gY2hlY2sgaWYgb3duZXIgb2YgY29tcGFueVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcblxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlY2F0ZWdvcnkocGF5bG9hZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yeSkgPT4gcmVzLmpzb24oY2F0ZWdvcnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbnlDYXRlZ29yeXMocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IGNvbXBhbnlfaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlDYXRlZ29yeXMoeyBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yaWVzKSA9PlxuICAgICAgICAgICAgY2F0ZWdvcmllcyA&#x2F;IHJlcy5qc29uKGNhdGVnb3JpZXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgICAgIC5nZXRDYXRlZ29yeUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGNhdGVnb3J5KSA9PlxuICAgICAgICAgICAgY2F0ZWdvcnkgPyByZXMuanNvbihjYXRlZ29yeSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcbiAgICBwYXlsb2FkLm1lbnVfaWQgPSByZXEucGFyYW1zLm1lbnVfaWQ7XG5cbiAgICBpc093bmVyKHJlcS51c2VyLmlkLCByZXEucGFyYW1zLmNvbXBhbnlfaWQpXG4gICAgICAgIC50aGVuKChvd25lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5wYXJhbXMuaWQsIHBheWxvYWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoY2F0ZWdvcnkpID0+XG4gICAgICAgICAgICBjYXRlZ29yeSA&#x2F;IHJlcy5qc29uKGNhdGVnb3J5KSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDYXRlZ29yeShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG9ubHkgb3duZXIgZGVsZXRlIGNhbiBkZWxldGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGlzT3duZXIob3duZXJfaWQsIGNvbXBhbnlfaWQpIHtcbiAgICBjb25zdCBib29sID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IG93bmVyX2lkLCBpZDogY29tcGFueV9pZCB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIHJldHVybiBib29sO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    &#x2F;&#x2F; check if owner of company\n    const payload &#x3D; req.body;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.createcategory(payload);\n        })\n        .then((category) &#x3D;&gt; res.json(category))\n        .catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    categoryService\n        .getAllCompanyCategorys({ company_id })\n        .then((categories) &#x3D;&gt;\n            categories ? res.json(categories) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n    categoryService\n        .getCategoryById(req.params.id)\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company category\n    const payload &#x3D; req.body;\n    payload.menu_id &#x3D; req.params.menu_id;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.updateCategory(req.params.id, payload);\n        })\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company category\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function isOwner(owner_id, company_id) {\n    const bool &#x3D; await Company.query()\n        .where({ owner_id, id: company_id })\n        .first();\n\n    return bool;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f9&#x2F;categoryroutes_f95c539ef7b2381e749f49618b0199b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2954&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 12907,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 12904,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 962,
                    &quot;endOffset&quot;: 1328,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1330,
                    &quot;endOffset&quot;: 1576,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1578,
                    &quot;endOffset&quot;: 1754,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1756,
                    &quot;endOffset&quot;: 2229,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2231,
                    &quot;endOffset&quot;: 2690,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2738,
                    &quot;endOffset&quot;: 2893,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    menu_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    menu_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVTY2hlbWEiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibWVudV9pZCIsIm51bWJlciIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsMENBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxPQUFPLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBRmEsR0FBWCxDQUFmO0FBSUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBTkQ7O0FBUUFMLE9BQU8sQ0FBQ1ksWUFBUixHQUF1QixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNUyxXQUFXLEdBQUc7QUFDaEJOLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQkosSUFBQUEsT0FBTyxFQUFFYixHQUFHLENBQUNjLE1BQUosR0FBYUcsS0FBYixDQUFtQixFQUFuQjtBQUZPLEdBQXBCO0FBS0EsUUFBTVQsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV08sV0FBWCxDQUFmO0FBRUFkLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy92YWxpZGF0ZVJlcXVlc3RcIik7XG5cbmV4cG9ydHMuY3JlYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        menu_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        menu_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;1b&#x2F;categoryvalidators_1b6fa12bad6d90716c229117a118363b.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2955&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 219,
                    &quot;endOffset&quot;: 388,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 414,
                    &quot;endOffset&quot;: 616,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  itemService.createItem(req.body).then(item &#x3D;&gt; res.status(201).json(item)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  itemService.getItemById(req.params.id).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction updateItem(req, res, next) {\n  itemService.updateItem(req.params.id, req.body).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n  itemService.deleteItem({\n    id: req.params.id\n  }).then(() &#x3D;&gt; res.json({\n    message: \&quot;Item deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwiUm9sZSIsIml0ZW1TZXJ2aWNlIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJwb3N0Iiwib3duZXIiLCJjcmVhdGUiLCJnZXQiLCJnZXRCeUlkIiwicGF0Y2giLCJ1cGRhdGVJdGVtIiwiZGVsZXRlIiwiZGVsZXRlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3JlYXRlSXRlbSIsImJvZHkiLCJ0aGVuIiwiaXRlbSIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImdldEl0ZW1CeUlkIiwicGFyYW1zIiwiaWQiLCJzZW5kU3RhdHVzIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsbUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQkwsT0FBTyxDQUFDLGtDQUFELENBQXZDOztBQUNBLE1BQU1NLElBQUksR0FBR04sT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1PLFdBQVcsR0FBR1AsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUVBLE1BQU1RLE1BQU0sR0FBR1QsT0FBTyxDQUFDVSxNQUFSLENBQWU7QUFDMUJDLEVBQUFBLFdBQVcsRUFBRTtBQURhLENBQWYsQ0FBZjtBQUlBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCUCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBckIsRUFBcUNQLE9BQU8sRUFBNUMsRUFBZ0RKLFlBQWhELEVBQThEWSxNQUE5RDtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxNQUFYLEVBQW1CVixJQUFJLEVBQXZCLEVBQTJCVyxPQUEzQjtBQUNBUCxNQUFNLENBQUNRLEtBQVAsQ0FBYSxNQUFiLEVBQXFCWixJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBekIsRUFBeUNQLE9BQU8sRUFBaEQsRUFBb0RILFlBQXBELEVBQWtFZSxVQUFsRTtBQUNBVCxNQUFNLENBQUNVLE1BQVAsQ0FBYyxNQUFkLEVBQXNCZCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBMUIsRUFBMENQLE9BQU8sRUFBakQsRUFBcURjLFVBQXJEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakI7O0FBRUEsU0FBU0ssTUFBVCxDQUFnQlMsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QmpCLEVBQUFBLFdBQVcsQ0FDTmtCLFVBREwsQ0FDZ0JILEdBQUcsQ0FBQ0ksSUFEcEIsRUFFS0MsSUFGTCxDQUVXQyxJQUFELElBQVVMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixJQUFyQixDQUZwQixFQUdLRyxLQUhMLENBR1dQLElBSFg7QUFJSDs7QUFFRCxTQUFTVCxPQUFULENBQWlCTyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCakIsRUFBQUEsV0FBVyxDQUNOeUIsV0FETCxDQUNpQlYsR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDVCLEVBRUtQLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU1AsVUFBVCxDQUFvQkssR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlUsVUFETCxDQUNnQkssR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDNCLEVBQytCWixHQUFHLENBQUNJLElBRG5DLEVBRUtDLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU0wsVUFBVCxDQUFvQkcsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlksVUFETCxDQUNnQjtBQUFFZSxJQUFBQSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ1csTUFBSixDQUFXQztBQUFqQixHQURoQixFQUVLUCxJQUZMLENBRVUsTUFDRkosR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDTE0sSUFBQUEsT0FBTyxFQUFFLDJCQURKO0FBRUxGLElBQUFBLEVBQUUsRUFBRVosR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBRlYsR0FBVCxDQUhSLEVBUUtILEtBUkwsQ0FRV1AsSUFSWDtBQVNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vaXRlbS52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBpdGVtU2VydmljZSA9IHJlcXVpcmUoXCIuL2l0ZW0uc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBpc093bmVyKCksIHVwZGF0ZVNjaGVtYSwgdXBkYXRlSXRlbSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgZGVsZXRlSXRlbSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5mdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuY3JlYXRlSXRlbShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHJlcy5zdGF0dXMoMjAxKS5qc29uKGl0ZW0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuZ2V0SXRlbUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IChpdGVtID8gcmVzLmpzb24oaXRlbSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJdGVtKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaXRlbVNlcnZpY2VcbiAgICAgICAgLnVwZGF0ZUl0ZW0ocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiAoaXRlbSA&#x2F;IHJlcy5qc29uKGl0ZW0pIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIGl0ZW1TZXJ2aWNlXG4gICAgICAgIC5kZWxldGVJdGVtKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSlcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    itemService\n        .createItem(req.body)\n        .then((item) &#x3D;&gt; res.status(201).json(item))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    itemService\n        .getItemById(req.params.id)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction updateItem(req, res, next) {\n    itemService\n        .updateItem(req.params.id, req.body)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n    itemService\n        .deleteItem({ id: req.params.id })\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Item deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;de&#x2F;itemroutes_de9b46cc999b0a12213b699c8d15bd22.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2956&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6599,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6596,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 717,
                    &quot;endOffset&quot;: 841,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 843,
                    &quot;endOffset&quot;: 991,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 993,
                    &quot;endOffset&quot;: 1153,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1155,
                    &quot;endOffset&quot;: 1353,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    price: Joi.number().required(),\n    quantity: Joi.number().required(),\n    description: Joi.string().required(),\n    image_url: Joi.string(),\n    category_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    price: Joi.number().empty(\&quot;\&quot;),\n    quantity: Joi.number().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    image_url: Joi.string(),\n    category_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0udmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJwcmljZSIsIm51bWJlciIsInF1YW50aXR5IiwiZGVzY3JpcHRpb24iLCJpbWFnZV91cmwiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsNkNBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxLQUFLLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiLEVBRmU7QUFHdEJHLElBQUFBLFFBQVEsRUFBRWYsR0FBRyxDQUFDYyxNQUFKLEdBQWFGLFFBQWIsRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFKUztBQUt0QkssSUFBQUEsU0FBUyxFQUFFakIsR0FBRyxDQUFDVyxNQUFKLEVBTFc7QUFNdEJPLElBQUFBLFdBQVcsRUFBRWxCLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBTlMsR0FBWCxDQUFmO0FBUUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVkQ7O0FBWUFMLE9BQU8sQ0FBQ2dCLFlBQVIsR0FBdUIsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTWEsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhVSxLQUFiLENBQW1CLEVBQW5CLENBRFU7QUFFaEJSLElBQUFBLEtBQUssRUFBRWIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkIsQ0FGUztBQUdoQk4sSUFBQUEsUUFBUSxFQUFFZixHQUFHLENBQUNjLE1BQUosR0FBYU8sS0FBYixDQUFtQixFQUFuQixDQUhNO0FBSWhCTCxJQUFBQSxXQUFXLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYVUsS0FBYixDQUFtQixFQUFuQixDQUpHO0FBS2hCSixJQUFBQSxTQUFTLEVBQUVqQixHQUFHLENBQUNXLE1BQUosRUFMSztBQU1oQk8sSUFBQUEsV0FBVyxFQUFFbEIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkI7QUFORyxHQUFwQjtBQVNBLFFBQU1iLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdXLFdBQVgsQ0FBZjtBQUVBbEIsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHByaWNlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGltYWdlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBjYXRlZ29yeV9pZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMudXBkYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hUnVsZXMgPSB7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHJpY2U6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgaW1hZ2VfdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgICAgIGNhdGVnb3J5X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        description: Joi.string().required(),\n        image_url: Joi.string(),\n        category_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        price: Joi.number().empty(\&quot;\&quot;),\n        quantity: Joi.number().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        image_url: Joi.string(),\n        category_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;b3&#x2F;itemvalidators_b3b5560b6fc02d936e24d53b4a41cdcb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2957&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4275,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4272,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 222,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 567,
                    &quot;endOffset&quot;: 916,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createItem,\n  getItemById,\n  updateItem,\n  deleteItem\n};\n\nasync function createItem(params) {\n  const item &#x3D; await Item.query().insert(params);\n  return basicDetails(item);\n}\n\nasync function getItemById(id) {\n  const item &#x3D; await getItem({\n    id\n  });\n  return item;\n}\n\nasync function updateItem(id, params) {\n  const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n  return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n  await Item.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getItem(params) {\n  const item &#x3D; await Item.query().where({ ...params\n  }).first();\n  return item;\n}\n\nfunction basicDetails(item) {\n  const {\n    id,\n    name,\n    description\n  } &#x3D; item;\n  return {\n    id,\n    name,\n    description\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0uc2VydmljZS5qcyJdLCJuYW1lcyI6WyJJdGVtIiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZUl0ZW0iLCJnZXRJdGVtQnlJZCIsInVwZGF0ZUl0ZW0iLCJkZWxldGVJdGVtIiwicGFyYW1zIiwiaXRlbSIsInF1ZXJ5IiwiaW5zZXJ0IiwiYmFzaWNEZXRhaWxzIiwiaWQiLCJnZXRJdGVtIiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsIndoZXJlIiwiZmlyc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFdBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQTtBQUphLENBQWpCOztBQU9BLGVBQWVILFVBQWYsQ0FBMEJJLE1BQTFCLEVBQWtDO0FBQzlCLFFBQU1DLElBQUksR0FBRyxNQUFNVixJQUFJLENBQUNXLEtBQUwsR0FBYUMsTUFBYixDQUFvQkgsTUFBcEIsQ0FBbkI7QUFDQSxTQUFPSSxZQUFZLENBQUNILElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlSixXQUFmLENBQTJCUSxFQUEzQixFQUErQjtBQUMzQixRQUFNSixJQUFJLEdBQUcsTUFBTUssT0FBTyxDQUFDO0FBQUVELElBQUFBO0FBQUYsR0FBRCxDQUExQjtBQUNBLFNBQU9KLElBQVA7QUFDSDs7QUFFRCxlQUFlSCxVQUFmLENBQTBCTyxFQUExQixFQUE4QkwsTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUYsVUFBVSxHQUFHLE1BQU1QLElBQUksQ0FBQ1csS0FBTCxHQUFhSyxpQkFBYixDQUErQkYsRUFBL0IsRUFBbUNMLE1BQW5DLENBQXpCO0FBRUEsU0FBT0YsVUFBUDtBQUNIOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJTLFdBQTFCLEVBQXVDO0FBQ25DLFFBQU1qQixJQUFJLENBQUNXLEtBQUwsR0FBYU8sTUFBYixDQUFvQixFQUFFLEdBQUdEO0FBQUwsR0FBcEIsQ0FBTjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZUYsT0FBZixDQUF1Qk4sTUFBdkIsRUFBK0I7QUFDM0IsUUFBTUMsSUFBSSxHQUFHLE1BQU1WLElBQUksQ0FBQ1csS0FBTCxHQUNkUSxLQURjLENBQ1IsRUFBRSxHQUFHVjtBQUFMLEdBRFEsRUFFZFcsS0FGYyxFQUFuQjtBQUdBLFNBQU9WLElBQVA7QUFDSDs7QUFFRCxTQUFTRyxZQUFULENBQXNCSCxJQUF0QixFQUE0QjtBQUN4QixRQUFNO0FBQUVJLElBQUFBLEVBQUY7QUFBTU8sSUFBQUEsSUFBTjtBQUFZQyxJQUFBQTtBQUFaLE1BQTRCWixJQUFsQztBQUNBLFNBQU87QUFBRUksSUFBQUEsRUFBRjtBQUFNTyxJQUFBQSxJQUFOO0FBQVlDLElBQUFBO0FBQVosR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSXRlbSA9IHJlcXVpcmUoXCIuL2l0ZW0ubW9kZWxcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlSXRlbSxcbiAgICBnZXRJdGVtQnlJZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGRlbGV0ZUl0ZW0sXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhpdGVtKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUJ5SWQoaWQpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgZ2V0SXRlbSh7IGlkIH0pO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gYXdhaXQgSXRlbS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0ocXVlcnlQYXJhbXMpIHtcbiAgICBhd2FpdCBJdGVtLnF1ZXJ5KCkuZGVsZXRlKHsgLi4ucXVlcnlQYXJhbXMgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT0gaGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW1zIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoaXRlbSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBpdGVtO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createItem,\n    getItemById,\n    updateItem,\n    deleteItem,\n};\n\nasync function createItem(params) {\n    const item &#x3D; await Item.query().insert(params);\n    return basicDetails(item);\n}\n\nasync function getItemById(id) {\n    const item &#x3D; await getItem({ id });\n    return item;\n}\n\nasync function updateItem(id, params) {\n    const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n\n    return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n    await Item.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function getItem(params) {\n    const item &#x3D; await Item.query()\n        .where({ ...params })\n        .first();\n    return item;\n}\n\nfunction basicDetails(item) {\n    const { id, name, description } &#x3D; item;\n    return { id, name, description };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;37&#x2F;itemservice_37723bc6ce9a1333746fd65833e30b1c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2958&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4281,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4278,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 261,
                    &quot;endOffset&quot;: 377,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItemById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 474,
                    &quot;endOffset&quot;: 607,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 609,
                    &quot;endOffset&quot;: 702,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 765,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 882,
                    &quot;endOffset&quot;: 1019,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n  static get tableName() {\n    return tableNames.item;\n  }\n\n  static get relationMappings() {\n    const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      category: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Category,\n        join: {\n          from: &#x60;${tableNames.item}.category_id&#x60;,\n          to: &#x60;${tableNames.category}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Item;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiQ2F0ZWdvcnkiLCJJdGVtIiwidGFibGVOYW1lIiwiaXRlbSIsInJlbGF0aW9uTWFwcGluZ3MiLCJjYXRlZ29yeSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsImtuZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsbUJBQUQsQ0FBbEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksSUFBTixTQUFtQkwsS0FBbkIsQ0FBeUI7QUFDckIsYUFBV00sU0FBWCxHQUF1QjtBQUNuQixXQUFPSixVQUFVLENBQUNLLElBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUosUUFBUSxHQUFHSCxPQUFPLENBQUMsK0JBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIUSxNQUFBQSxRQUFRLEVBQUU7QUFDTkMsUUFBQUEsUUFBUSxFQUFFVixLQUFLLENBQUNXLG9CQURWO0FBRU5DLFFBQUFBLFVBQVUsRUFBRVIsUUFGTjtBQUdOUyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVaLFVBQVUsQ0FBQ0ssSUFBSyxjQUR2QjtBQUVGUSxVQUFBQSxFQUFFLEVBQUcsR0FBRWIsVUFBVSxDQUFDTyxRQUFTO0FBRnpCO0FBSEE7QUFEUCxLQUFQO0FBVUg7O0FBbEJvQjs7QUFxQnpCVCxLQUFLLENBQUNnQixJQUFOLENBQVdiLEVBQVg7QUFFQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vZGJcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuLi9jYXRlZ29yeS5tb2RlbFwiKTtcblxuY2xhc3MgSXRlbSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuaXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZShcIi4uLy4uL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMuaXRlbX0uY2F0ZWdvcnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jYXRlZ29yeX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n    static get tableName() {\n        return tableNames.item;\n    }\n\n    static get relationMappings() {\n        const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            category: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Category,\n                join: {\n                    from: &#x60;${tableNames.item}.category_id&#x60;,\n                    to: &#x60;${tableNames.category}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Item;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;bd&#x2F;itemmodel_bde36e534327c1a1231475da3047e2a2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2959&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3171,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Item&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 290,
                    &quot;endOffset&quot;: 290,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 326,
                    &quot;endOffset&quot;: 375,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 386,
                    &quot;endOffset&quot;: 718,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n  static get tableName() {\n    return tableNames.category;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n\n    const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n    return {\n      menu: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Menu,\n        join: {\n          from: &#x60;${tableName.category}.menu_id&#x60;,\n          to: &#x60;${tableNames.menu}.id&#x60;\n        }\n      },\n      items: {\n        relation: Model.HasManyRelation,\n        modelClasss: Item,\n        join: {\n          from: &#x60;${tableNames.category}.id&#x60;,\n          to: &#x60;${tableNames.item}.category_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Category;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsImRiIiwic2NoZW1hIiwidGFibGVOYW1lcyIsIkNhdGVnb3J5IiwidGFibGVOYW1lIiwiY2F0ZWdvcnkiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIk1lbnUiLCJJdGVtIiwibWVudSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJpdGVtcyIsIkhhc01hbnlSZWxhdGlvbiIsIml0ZW0iLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBLE1BQU1JLFFBQU4sU0FBdUJMLEtBQXZCLENBQTZCO0FBQ3pCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUMsZUFBRCxDQUFwQjs7QUFDQSxVQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyx5QkFBRCxDQUFwQjs7QUFFQSxXQUFPO0FBQ0hXLE1BQUFBLElBQUksRUFBRTtBQUNGQyxRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ2Msb0JBRGQ7QUFFRkMsUUFBQUEsV0FBVyxFQUFFTCxJQUZYO0FBR0ZNLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRVgsU0FBUyxDQUFDQyxRQUFTLFVBRDFCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNRLElBQUs7QUFGckI7QUFISixPQURIO0FBU0hPLE1BQUFBLEtBQUssRUFBRTtBQUNITixRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ29CLGVBRGI7QUFFSEwsUUFBQUEsV0FBVyxFQUFFSixJQUZWO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWIsVUFBVSxDQUFDRyxRQUFTLEtBRDNCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEg7QUFUSixLQUFQO0FBa0JIOztBQWhDd0I7O0FBbUM3QnJCLEtBQUssQ0FBQ3NCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RiXCIpO1xuY29uc3Qgc2NoZW1hID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBDYXRlZ29yeSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUubW9kZWxcIik7XG4gICAgICAgIGNvbnN0IEl0ZW0gPSByZXF1aXJlKFwiLi4vbWVudS9pdGVtL2l0ZW0ubW9kZWxcIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IE1lbnUsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWUuY2F0ZWdvcnl9Lm1lbnVfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IEl0ZW0sXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLml0ZW19LmNhdGVnb3J5X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhdGVnb3J5O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n    static get tableName() {\n        return tableNames.category;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n        const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n        return {\n            menu: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Menu,\n                join: {\n                    from: &#x60;${tableName.category}.menu_id&#x60;,\n                    to: &#x60;${tableNames.menu}.id&#x60;,\n                },\n            },\n            items: {\n                relation: Model.HasManyRelation,\n                modelClasss: Item,\n                join: {\n                    from: &#x60;${tableNames.category}.id&#x60;,\n                    to: &#x60;${tableNames.item}.category_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Category;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0e&#x2F;categorymodel_0ef83f3e2352e4f7122c2a335cba1fb2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2960&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4654,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4651,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Category&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 287,
                    &quot;endOffset&quot;: 287,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 327,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 432,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 443,
                    &quot;endOffset&quot;: 1073,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createCategory,\n  updateCategory,\n  getAllCategory,\n  getAllCompanyCategorys,\n  getCategoryById,\n  _delete\n};\n\nasync function createCategory(params) {\n  const category &#x3D; await Category.query().insert(params);\n  return category;\n}\n\nasync function updateCategory(id, params) {\n  const category &#x3D; await getCategory({\n    id\n  }); &#x2F;&#x2F;check if category name is duplicated\n\n  if (params.name &amp;&amp; category.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCategory({\n    name: params.name,\n    menu_id: params.menu_id\n  }))) {\n    error(&#x60;Category ${params.name} already exists&#x60;);\n  }\n\n  const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, { ...params\n  });\n  return updatedcategory;\n}\n\nasync function getAllCategory() {\n  const categorys &#x3D; await Category.query();\n  return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n  const categorys &#x3D; await Category.query({ ...params\n  });\n  return categorys;\n}\n\nasync function getCategoryById(id) {\n  const category &#x3D; await getCategory({\n    id\n  });\n  return category;\n}\n\nasync function _delete(queryParams) {\n  await Category.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCategory(param) {\n  const category &#x3D; await Category.query().where({ ...param\n  }).withGraphFetched(\&quot;items\&quot;).first();\n  return category;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiQ2F0ZWdvcnkiLCJyZXF1aXJlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlQ2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImdldEFsbENhdGVnb3J5IiwiZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyIsImdldENhdGVnb3J5QnlJZCIsIl9kZWxldGUiLCJwYXJhbXMiLCJjYXRlZ29yeSIsInF1ZXJ5IiwiaW5zZXJ0IiwiaWQiLCJnZXRDYXRlZ29yeSIsIm5hbWUiLCJtZW51X2lkIiwidXBkYXRlZGNhdGVnb3J5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJjYXRlZ29yeXMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2hlcmUiLCJ3aXRoR3JhcGhGZXRjaGVkIiwiZmlyc3QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXhCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQXJCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsY0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLGNBSGE7QUFJYkMsRUFBQUEsc0JBSmE7QUFLYkMsRUFBQUEsZUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLGNBQWYsQ0FBOEJNLE1BQTlCLEVBQXNDO0FBQ2xDLFFBQU1DLFFBQVEsR0FBRyxNQUFNWixRQUFRLENBQUNhLEtBQVQsR0FBaUJDLE1BQWpCLENBQXdCSCxNQUF4QixDQUF2QjtBQUNBLFNBQU9DLFFBQVA7QUFDSDs7QUFFRCxlQUFlTixjQUFmLENBQThCUyxFQUE5QixFQUFrQ0osTUFBbEMsRUFBMEM7QUFDdEMsUUFBTUMsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEMsQ0FEc0MsQ0FFdEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLFFBQVEsQ0FBQ0ssSUFBVCxLQUFrQk4sTUFBTSxDQUFDTSxJQUR6QixLQUVDLE1BQU1ELFdBQVcsQ0FBQztBQUNmQyxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ00sSUFERTtBQUVmQyxJQUFBQSxPQUFPLEVBQUVQLE1BQU0sQ0FBQ087QUFGRCxHQUFELENBRmxCLENBREosRUFPRTtBQUNFaEIsSUFBQUEsS0FBSyxDQUFFLFlBQVdTLE1BQU0sQ0FBQ00sSUFBSyxpQkFBekIsQ0FBTDtBQUNIOztBQUNELFFBQU1FLGVBQWUsR0FBRyxNQUFNbkIsUUFBUSxDQUFDYSxLQUFULEdBQWlCTyxpQkFBakIsQ0FBbUNMLEVBQW5DLEVBQXVDLEVBQ2pFLEdBQUdKO0FBRDhELEdBQXZDLENBQTlCO0FBSUEsU0FBT1EsZUFBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsR0FBZ0M7QUFDNUIsUUFBTWMsU0FBUyxHQUFHLE1BQU1yQixRQUFRLENBQUNhLEtBQVQsRUFBeEI7QUFDQSxTQUFPUSxTQUFQO0FBQ0g7O0FBRUQsZUFBZWIsc0JBQWYsQ0FBc0NHLE1BQXRDLEVBQThDO0FBQzFDLFFBQU1VLFNBQVMsR0FBRyxNQUFNckIsUUFBUSxDQUFDYSxLQUFULENBQWUsRUFBRSxHQUFHRjtBQUFMLEdBQWYsQ0FBeEI7QUFDQSxTQUFPVSxTQUFQO0FBQ0g7O0FBRUQsZUFBZVosZUFBZixDQUErQk0sRUFBL0IsRUFBbUM7QUFDL0IsUUFBTUgsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEM7QUFDQSxTQUFPSCxRQUFQO0FBQ0g7O0FBRUQsZUFBZUYsT0FBZixDQUF1QlksV0FBdkIsRUFBb0M7QUFDaEMsUUFBTXRCLFFBQVEsQ0FBQ2EsS0FBVCxHQUFpQlUsTUFBakIsQ0FBd0IsRUFBRSxHQUFHRDtBQUFMLEdBQXhCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZU4sV0FBZixDQUEyQlEsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTVosUUFBUSxHQUFHLE1BQU1aLFFBQVEsQ0FBQ2EsS0FBVCxHQUNsQlksS0FEa0IsQ0FDWixFQUFFLEdBQUdEO0FBQUwsR0FEWSxFQUVsQkUsZ0JBRmtCLENBRUQsT0FGQyxFQUdsQkMsS0FIa0IsRUFBdkI7QUFLQSxTQUFPZixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNhdGVnb3J5LFxuICAgIHVwZGF0ZUNhdGVnb3J5LFxuICAgIGdldEFsbENhdGVnb3J5LFxuICAgIGdldEFsbENvbXBhbnlDYXRlZ29yeXMsXG4gICAgZ2V0Q2F0ZWdvcnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBnZXRDYXRlZ29yeSh7IGlkIH0pO1xuICAgIC8vY2hlY2sgaWYgY2F0ZWdvcnkgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjYXRlZ29yeS5uYW1lICE9PSBwYXJhbXMubmFtZSAmJlxuICAgICAgICAoYXdhaXQgZ2V0Q2F0ZWdvcnkoe1xuICAgICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgICBtZW51X2lkOiBwYXJhbXMubWVudV9pZCxcbiAgICAgICAgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBDYXRlZ29yeSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkY2F0ZWdvcnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5KCkge1xuICAgIGNvbnN0IGNhdGVnb3J5cyA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNhdGVnb3J5cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyhwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeXMgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSh7IC4uLnBhcmFtcyB9KTtcbiAgICByZXR1cm4gY2F0ZWdvcnlzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGdldENhdGVnb3J5KHsgaWQgfSk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKHF1ZXJ5UGFyYW1zKSB7XG4gICAgYXdhaXQgQ2F0ZWdvcnkucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IGNhdGVnb3J5LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhdGVnb3J5KHBhcmFtKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIilcbiAgICAgICAgLmZpcnN0KCk7XG5cbiAgICByZXR1cm4gY2F0ZWdvcnk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createCategory,\n    updateCategory,\n    getAllCategory,\n    getAllCompanyCategorys,\n    getCategoryById,\n    _delete,\n};\n\nasync function createCategory(params) {\n    const category &#x3D; await Category.query().insert(params);\n    return category;\n}\n\nasync function updateCategory(id, params) {\n    const category &#x3D; await getCategory({ id });\n    &#x2F;&#x2F;check if category name is duplicated\n    if (\n        params.name &amp;&amp;\n        category.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCategory({\n            name: params.name,\n            menu_id: params.menu_id,\n        }))\n    ) {\n        error(&#x60;Category ${params.name} already exists&#x60;);\n    }\n    const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedcategory;\n}\n\nasync function getAllCategory() {\n    const categorys &#x3D; await Category.query();\n    return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n    const categorys &#x3D; await Category.query({ ...params });\n    return categorys;\n}\n\nasync function getCategoryById(id) {\n    const category &#x3D; await getCategory({ id });\n    return category;\n}\n\nasync function _delete(queryParams) {\n    await Category.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCategory(param) {\n    const category &#x3D; await Category.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;items\&quot;)\n        .first();\n\n    return category;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;af&#x2F;categoryservice_af4a088c54a063175cdbab3d375f5ef2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2961&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6647,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6644,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 319,
                    &quot;endOffset&quot;: 437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 439,
                    &quot;endOffset&quot;: 884,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 886,
                    &quot;endOffset&quot;: 985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 987,
                    &quot;endOffset&quot;: 1115,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1117,
                    &quot;endOffset&quot;: 1226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1228,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1462,
                    &quot;endOffset&quot;: 1617,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createMenu,\n  updateMenu,\n  getAllMenu,\n  getAllCompanyMenus,\n  getMenuById,\n  _delete\n};\n\nasync function createMenu(params) {\n  const menu &#x3D; await Menu.query().insert(params);\n  return menu;\n}\n\nasync function updateMenu(id, params) {\n  const menu &#x3D; await getMenu({\n    id\n  }); &#x2F;&#x2F;check if menu name is duplicated\n\n  if (params.name &amp;&amp; menu.name !&#x3D;&#x3D; params.name &amp;&amp; (await getMenu({\n    name: params.name,\n    company_id: params.company_id\n  }))) {\n    error(&#x60;Menu ${params.name} already exists&#x60;);\n  }\n\n  const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, { ...params\n  });\n  return updatedmenu;\n}\n\nasync function getAllMenu() {\n  const menus &#x3D; await Menu.query();\n  return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n  const menus &#x3D; await Menu.query().where({ ...params\n  });\n  return menus;\n}\n\nasync function getMenuById(id) {\n  const menu &#x3D; await getMenu({\n    id\n  });\n  return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n  await Menu.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getMenu(param) {\n  const menu &#x3D; await Menu.query().where({ ...param\n  }).withGraphFetched(\&quot;categories\&quot;).first();\n  return menu;\n}\n\nfunction basicDetails(menu) {\n  const {\n    id,\n    name,\n    company_id,\n    categories\n  } &#x3D; menu;\n  return {\n    id,\n    name,\n    company_id,\n    categories\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJNZW51IiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU1lbnUiLCJ1cGRhdGVNZW51IiwiZ2V0QWxsTWVudSIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwiX2RlbGV0ZSIsInBhcmFtcyIsIm1lbnUiLCJxdWVyeSIsImluc2VydCIsImlkIiwiZ2V0TWVudSIsIm5hbWUiLCJjb21wYW55X2lkIiwidXBkYXRlZG1lbnUiLCJwYXRjaEFuZEZldGNoQnlJZCIsIm1lbnVzIiwid2hlcmUiLCJiYXNpY0RldGFpbHMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2l0aEdyYXBoRmV0Y2hlZCIsImZpcnN0IiwiY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFVBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQSxrQkFKYTtBQUtiQyxFQUFBQSxXQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsVUFBZixDQUEwQk0sTUFBMUIsRUFBa0M7QUFDOUIsUUFBTUMsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUFhQyxNQUFiLENBQW9CSCxNQUFwQixDQUFuQjtBQUNBLFNBQU9DLElBQVA7QUFDSDs7QUFFRCxlQUFlTixVQUFmLENBQTBCUyxFQUExQixFQUE4QkosTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLElBQUksQ0FBQ0ssSUFBTCxLQUFjTixNQUFNLENBQUNNLElBRHJCLEtBRUMsTUFBTUQsT0FBTyxDQUFDO0FBQ1hDLElBQUFBLElBQUksRUFBRU4sTUFBTSxDQUFDTSxJQURGO0FBRVhDLElBQUFBLFVBQVUsRUFBRVAsTUFBTSxDQUFDTztBQUZSLEdBQUQsQ0FGZCxDQURKLEVBT0U7QUFDRWhCLElBQUFBLEtBQUssQ0FBRSxRQUFPUyxNQUFNLENBQUNNLElBQUssaUJBQXJCLENBQUw7QUFDSDs7QUFDRCxRQUFNRSxXQUFXLEdBQUcsTUFBTW5CLElBQUksQ0FBQ2EsS0FBTCxHQUFhTyxpQkFBYixDQUErQkwsRUFBL0IsRUFBbUMsRUFDekQsR0FBR0o7QUFEc0QsR0FBbkMsQ0FBMUI7QUFJQSxTQUFPUSxXQUFQO0FBQ0g7O0FBRUQsZUFBZVosVUFBZixHQUE0QjtBQUN4QixRQUFNYyxLQUFLLEdBQUcsTUFBTXJCLElBQUksQ0FBQ2EsS0FBTCxFQUFwQjtBQUNBLFNBQU9RLEtBQVA7QUFDSDs7QUFFRCxlQUFlYixrQkFBZixDQUFrQ0csTUFBbEMsRUFBMEM7QUFDdEMsUUFBTVUsS0FBSyxHQUFHLE1BQU1yQixJQUFJLENBQUNhLEtBQUwsR0FBYVMsS0FBYixDQUFtQixFQUFFLEdBQUdYO0FBQUwsR0FBbkIsQ0FBcEI7QUFDQSxTQUFPVSxLQUFQO0FBQ0g7O0FBRUQsZUFBZVosV0FBZixDQUEyQk0sRUFBM0IsRUFBK0I7QUFDM0IsUUFBTUgsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUI7QUFDQSxTQUFPUSxZQUFZLENBQUNYLElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlRixPQUFmLENBQXVCYyxXQUF2QixFQUFvQztBQUNoQyxRQUFNeEIsSUFBSSxDQUFDYSxLQUFMLEdBQWFZLE1BQWIsQ0FBb0IsRUFBRSxHQUFHRDtBQUFMLEdBQXBCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZVIsT0FBZixDQUF1QlUsS0FBdkIsRUFBOEI7QUFDMUIsUUFBTWQsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUNkUyxLQURjLENBQ1IsRUFBRSxHQUFHSTtBQUFMLEdBRFEsRUFFZEMsZ0JBRmMsQ0FFRyxZQUZILEVBR2RDLEtBSGMsRUFBbkI7QUFJQSxTQUFPaEIsSUFBUDtBQUNIOztBQUVELFNBQVNXLFlBQVQsQ0FBc0JYLElBQXRCLEVBQTRCO0FBQ3hCLFFBQU07QUFBRUcsSUFBQUEsRUFBRjtBQUFNRSxJQUFBQSxJQUFOO0FBQVlDLElBQUFBLFVBQVo7QUFBd0JXLElBQUFBO0FBQXhCLE1BQXVDakIsSUFBN0M7QUFFQSxTQUFPO0FBQUVHLElBQUFBLEVBQUY7QUFBTUUsSUFBQUEsSUFBTjtBQUFZQyxJQUFBQSxVQUFaO0FBQXdCVyxJQUFBQTtBQUF4QixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUvbWVudS5tb2RlbFwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVNZW51LFxuICAgIHVwZGF0ZU1lbnUsXG4gICAgZ2V0QWxsTWVudSxcbiAgICBnZXRBbGxDb21wYW55TWVudXMsXG4gICAgZ2V0TWVudUJ5SWQsXG4gICAgX2RlbGV0ZSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lbnUocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gbWVudTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IGdldE1lbnUoeyBpZCB9KTtcbiAgICAvL2NoZWNrIGlmIG1lbnUgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBtZW51Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRNZW51KHtcbiAgICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgICAgY29tcGFueV9pZDogcGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgIH0pKVxuICAgICkge1xuICAgICAgICBlcnJvcihgTWVudSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZG1lbnU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbE1lbnUoKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW55TWVudXMocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCkud2hlcmUoeyAuLi5wYXJhbXMgfSk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW51QnlJZChpZCkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBnZXRNZW51KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhtZW51KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGF3YWl0IE1lbnUucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IG1lbnUucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcblxuLy8gfVxuXG4vLyA9PT09PT09PT09PSBoZWxwZXJzPT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVudShwYXJhbSkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBNZW51LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW0gfSlcbiAgICAgICAgLndpdGhHcmFwaEZldGNoZWQoXCJjYXRlZ29yaWVzXCIpXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBtZW51O1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMobWVudSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGNvbXBhbnlfaWQsIGNhdGVnb3JpZXMgfSA9IG1lbnU7XG5cbiAgICByZXR1cm4geyBpZCwgbmFtZSwgY29tcGFueV9pZCwgY2F0ZWdvcmllcyB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createMenu,\n    updateMenu,\n    getAllMenu,\n    getAllCompanyMenus,\n    getMenuById,\n    _delete,\n};\n\nasync function createMenu(params) {\n    const menu &#x3D; await Menu.query().insert(params);\n    return menu;\n}\n\nasync function updateMenu(id, params) {\n    const menu &#x3D; await getMenu({ id });\n    &#x2F;&#x2F;check if menu name is duplicated\n    if (\n        params.name &amp;&amp;\n        menu.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getMenu({\n            name: params.name,\n            company_id: params.company_id,\n        }))\n    ) {\n        error(&#x60;Menu ${params.name} already exists&#x60;);\n    }\n    const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedmenu;\n}\n\nasync function getAllMenu() {\n    const menus &#x3D; await Menu.query();\n    return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n    const menus &#x3D; await Menu.query().where({ ...params });\n    return menus;\n}\n\nasync function getMenuById(id) {\n    const menu &#x3D; await getMenu({ id });\n    return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n    await Menu.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getMenu(param) {\n    const menu &#x3D; await Menu.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;categories\&quot;)\n        .first();\n    return menu;\n}\n\nfunction basicDetails(menu) {\n    const { id, name, company_id, categories } &#x3D; menu;\n\n    return { id, name, company_id, categories };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f7&#x2F;menuservice_f7dbb9eba4d4e93803a88e42e2790161.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2962&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7024,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7021,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 294,
                    &quot;endOffset&quot;: 396,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 398,
                    &quot;endOffset&quot;: 809,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 811,
                    &quot;endOffset&quot;: 894,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 896,
                    &quot;endOffset&quot;: 1016,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1018,
                    &quot;endOffset&quot;: 1125,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1127,
                    &quot;endOffset&quot;: 1217,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1353,
                    &quot;endOffset&quot;: 1497,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1499,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n  static get tableName() {\n    return tableNames.menu;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Company,\n        join: {\n          from: &#x60;${tableNames.menu}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      },\n      categories: {\n        relation: Model.HasManyRelation,\n        modelClasss: Category,\n        join: {\n          from: &#x60;${tableNames.menu}.id&#x60;,\n          to: &#x60;${tableNames.category}.menu_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Menu;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwiZGIiLCJzY2hlbWEiLCJ0YWJsZU5hbWVzIiwiTWVudSIsInRhYmxlTmFtZSIsIm1lbnUiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIkNvbXBhbnkiLCJDYXRlZ29yeSIsImNvbXBhbnkiLCJyZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwibW9kZWxDbGFzc3MiLCJqb2luIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsIkhhc01hbnlSZWxhdGlvbiIsImNhdGVnb3J5Iiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUVBLE1BQU1JLElBQU4sU0FBbUJMLEtBQW5CLENBQXlCO0FBQ3JCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxJQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHVCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVUsUUFBUSxHQUFHVixPQUFPLENBQUMsMkJBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIVyxNQUFBQSxPQUFPLEVBQUU7QUFDTEMsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNjLG9CQURYO0FBRUxDLFFBQUFBLFdBQVcsRUFBRUwsT0FGUjtBQUdMTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxhQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDUSxPQUFRO0FBRnhCO0FBSEQsT0FETjtBQVNITyxNQUFBQSxVQUFVLEVBQUU7QUFDUk4sUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNvQixlQURSO0FBRVJMLFFBQUFBLFdBQVcsRUFBRUosUUFGTDtBQUdSSyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxLQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDaUIsUUFBUztBQUZ6QjtBQUhFO0FBVFQsS0FBUDtBQWtCSDs7QUFoQ29COztBQW1DekJyQixLQUFLLENBQUNzQixJQUFOLENBQVdwQixFQUFYO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL21lbnUuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBNZW51IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5tZW51O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIC8vIEltcG9ydGluZyBtb2RlbHMgaGVyZSBpcyBhIG9uZSB3YXkgdG8gYXZvaWQgcmVxdWlyZSBsb29wcy5cbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3NzOiBDb21wYW55LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMuY29tcGFueX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2F0ZWdvcmllczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5tZW51X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n    static get tableName() {\n        return tableNames.menu;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Company,\n                join: {\n                    from: &#x60;${tableNames.menu}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n            categories: {\n                relation: Model.HasManyRelation,\n                modelClasss: Category,\n                join: {\n                    from: &#x60;${tableNames.menu}.id&#x60;,\n                    to: &#x60;${tableNames.category}.menu_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Menu;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e0&#x2F;menumodel_e012a4d71206586de4438d54cc8c48bf.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2963&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4674,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4671,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Menu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 277,
                    &quot;endOffset&quot;: 277,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 313,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 414,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 425,
                    &quot;endOffset&quot;: 1081,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createOrderSchema,\n  updateOrderSchema,\n  companyOrderSchema\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem); &#x2F;&#x2F; update an order item customer aka update cart item\n\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\&quot;&#x2F;:id\&quot;, updateOrderSchema, Auth([Role.staff, Role.owner]), updateOrder);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\&quot;&#x2F;company-orders\&quot;, companyOrderSchema, Auth([Role.owner, Role.staff]), getCompanyOrders);\n\nfunction createOrder(req, res, next) {\n  const payload &#x3D; {\n    customer_id: req.user.id,\n    company_id: req.params.company_id,\n    item: req.body\n  };\n  orderService.createOrder(payload).then(orderItem &#x3D;&gt; res.json({\n    message: &#x60;${orderItem.item} has been added to the cart&#x60;\n  })).catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n  orderService.updateOrder(req.params.id, req.user, req.body).then(order &#x3D;&gt; res.json(order)).catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n  orderService.getOrderById(id).then(order &#x3D;&gt; order ? res.json(order) : res.sendStatus(404)).catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n  orderService.getOwnOrders(req.user.id).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n  &#x2F;&#x2F; TODO to use query params\n  params.company_id &#x3D; req.params.company_id;\n  orderService.getCompanyOrders(params).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyU2NoZW1hIiwidXBkYXRlT3JkZXJTY2hlbWEiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJvcmRlclNlcnZpY2UiLCJPcmRlckl0ZW0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJjdXN0b21lciIsImNyZWF0ZU9yZGVyIiwicGF0Y2giLCJzdGFmZiIsIm93bmVyIiwidXBkYXRlT3JkZXIiLCJnZXQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicmVxIiwicmVzIiwibmV4dCIsInBheWxvYWQiLCJjdXN0b21lcl9pZCIsInVzZXIiLCJpZCIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJpdGVtIiwiYm9keSIsInRoZW4iLCJvcmRlckl0ZW0iLCJqc29uIiwibWVzc2FnZSIsImNhdGNoIiwib3JkZXIiLCJzZW5kU3RhdHVzIiwib3JkZXJzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLGlCQURFO0FBRUZDLEVBQUFBLGlCQUZFO0FBR0ZDLEVBQUFBO0FBSEUsSUFJRkgsT0FBTyxDQUFDLG9CQUFELENBSlg7O0FBS0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyw0QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUFwQjs7QUFDQSxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQSxNQUFNUSxTQUFTLEdBQUdSLE9BQU8sQ0FBQyw4QkFBRCxDQUF6Qjs7QUFFQSxNQUFNUyxN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QUlIOztBQUVELFNBQVNILGdCQUFULENBQTBCQyxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDO0FBRUFNLEVBQUFBLE1BQU0sQ0FBQ0QsVUFBUCxHQUFvQlAsR0FBRyxDQUFDUSxNQUFKLENBQVdELFVBQS9CO0FBQ0F4QixFQUFBQSxZQUFZLENBQ1BnQixnQkFETCxDQUNzQlMsTUFEdEIsRUFFS0csSUFGTCxDQUVXTyxNQUFELElBQWFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixDQUFoQixHQUFvQkQsTUFBcEIsR0FBNkJqQixHQUFHLENBQUNnQixVQUFKLENBQWUsR0FBZixDQUZwRCxFQUdLRixLQUhMLENBR1diLElBSFg7QUFJSDs7QUFDRGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge1xuICAgIGNyZWF0ZU9yZGVyU2NoZW1hLFxuICAgIHVwZGF0ZU9yZGVyU2NoZW1hLFxuICAgIGNvbXBhbnlPcmRlclNjaGVtYSxcbn0gPSByZXF1aXJlKFwiLi9vcmRlci52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi9vcmRlci5zZXJ2aWNlXCIpO1xuXG5jb25zdCBPcmRlckl0ZW0gPSByZXF1aXJlKFwiLi9vcmRlckl0ZW0vb3JkZXJJdGVtLnJvdXRlc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci51c2UoXCIvOm9yZGVyX2lkL29yZGVySXRlbVwiLCBPcmRlckl0ZW0pO1xuXG4vLyB1cGRhdGUgYW4gb3JkZXIgaXRlbSBjdXN0b21lciBha2EgdXBkYXRlIGNhcnQgaXRlbVxucm91dGVyLnBvc3QoXCIvXCIsIGNyZWF0ZU9yZGVyU2NoZW1hLCBBdXRoKFJvbGUuY3VzdG9tZXIpLCBjcmVhdGVPcmRlcik7XG5yb3V0ZXIucGF0Y2goXG4gICAgXCIvOmlkXCIsXG4gICAgdXBkYXRlT3JkZXJTY2hlbWEsXG4gICAgQXV0aChbUm9sZS5zdGFmZiwgUm9sZS5vd25lcl0pLFxuICAgIHVwZGF0ZU9yZGVyXG4pO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRPcmRlckJ5SWQpO1xucm91dGVyLmdldChcIi86aWQvbXktb3JkZXJzXCIsIEF1dGgoUm9sZS5jdXN0b21lciksIGdldE93bk9yZGVycyk7XG5yb3V0ZXIuZ2V0KFxuICAgIFwiL2NvbXBhbnktb3JkZXJzXCIsXG4gICAgY29tcGFueU9yZGVyU2NoZW1hLFxuICAgIEF1dGgoW1JvbGUub3duZXIsIFJvbGUuc3RhZmZdKSxcbiAgICBnZXRDb21wYW55T3JkZXJzXG4pO1xuXG5mdW5jdGlvbiBjcmVhdGVPcmRlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGN1c3RvbWVyX2lkOiByZXEudXNlci5pZCxcbiAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICBpdGVtOiByZXEuYm9keSxcbiAgICB9O1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuY3JlYXRlT3JkZXIocGF5bG9hZClcbiAgICAgICAgLnRoZW4oKG9yZGVySXRlbSkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtvcmRlckl0ZW0uaXRlbX0gaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGNhcnRgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgb3JkZXJTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVPcmRlcihyZXEucGFyYW1zLmlkLCByZXEudXNlciwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChvcmRlcikgPT4gcmVzLmpzb24ob3JkZXIpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE9yZGVyQnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3JkZXJCeUlkKGlkKVxuICAgICAgICAudGhlbigob3JkZXIpID0+IChvcmRlciA&#x2F;IHJlcy5qc29uKG9yZGVyKSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE93bk9yZGVycyhyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3duT3JkZXJzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYW55T3JkZXJzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gVE9ETyB0byB1c2UgcXVlcnkgcGFyYW1zXG5cbiAgICBwYXJhbXMuY29tcGFueV9pZCA9IHJlcS5wYXJhbXMuY29tcGFueV9pZDtcbiAgICBvcmRlclNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlPcmRlcnMocGFyYW1zKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst {\n    createOrderSchema,\n    updateOrderSchema,\n    companyOrderSchema,\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem);\n\n&#x2F;&#x2F; update an order item customer aka update cart item\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\n    \&quot;&#x2F;:id\&quot;,\n    updateOrderSchema,\n    Auth([Role.staff, Role.owner]),\n    updateOrder\n);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\n    \&quot;&#x2F;company-orders\&quot;,\n    companyOrderSchema,\n    Auth([Role.owner, Role.staff]),\n    getCompanyOrders\n);\n\nfunction createOrder(req, res, next) {\n    const payload &#x3D; {\n        customer_id: req.user.id,\n        company_id: req.params.company_id,\n        item: req.body,\n    };\n    orderService\n        .createOrder(payload)\n        .then((orderItem) &#x3D;&gt;\n            res.json({\n                message: &#x60;${orderItem.item} has been added to the cart&#x60;,\n            })\n        )\n        .catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n    orderService\n        .updateOrder(req.params.id, req.user, req.body)\n        .then((order) &#x3D;&gt; res.json(order))\n        .catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n    orderService\n        .getOrderById(id)\n        .then((order) &#x3D;&gt; (order ? res.json(order) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n    orderService\n        .getOwnOrders(req.user.id)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n    &#x2F;&#x2F; TODO to use query params\n\n    params.company_id &#x3D; req.params.company_id;\n    orderService\n        .getCompanyOrders(params)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8f&#x2F;orderroutes_8f4620babd5b20aee9e160dc0d9cf20a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2964&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 9222,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 9219,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 978,
                    &quot;endOffset&quot;: 1275,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1277,
                    &quot;endOffset&quot;: 1423,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1425,
                    &quot;endOffset&quot;: 1572,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1574,
                    &quot;endOffset&quot;: 1734,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1736,
                    &quot;endOffset&quot;: 1974,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    item: Joi.number().required(),\n    quantity: Joi.number()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    customer_id: Joi.number().empty(),\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVPcmRlclNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJpdGVtIiwibnVtYmVyIiwicmVxdWlyZWQiLCJxdWFudGl0eSIsInVwZGF0ZU9yZGVyU2NoZW1hIiwib3JkZXJfc3RhdHVzIiwic3RyaW5nIiwiZW1wdHkiLCJwdXJjaGFzZV9zdGF0dXMiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJjdXN0b21lcl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxpQkFBUixHQUE0QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM1QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSjtBQUZZLEdBQVgsQ0FBZjtBQUlBVCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQU5EOztBQVFBTCxPQUFPLENBQUNXLGlCQUFSLEdBQTRCLENBQUNULEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJNLElBQUFBLFlBQVksRUFBRWYsR0FBRyxDQUFDZ0IsTUFBSixHQUFhQyxLQUFiLENBQW1CLEVBQW5CLENBRFE7QUFFdEJDLElBQUFBLGVBQWUsRUFBRWxCLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQjtBQUZLLEdBQVgsQ0FBZjtBQUtBZixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVBEOztBQVNBTCxPQUFPLENBQUNnQixrQkFBUixHQUE2QixDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM3QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCVyxJQUFBQSxXQUFXLEVBQUVwQixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixFQURTO0FBRXRCRixJQUFBQSxZQUFZLEVBQUVmLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQixDQUZRO0FBR3RCQyxJQUFBQSxlQUFlLEVBQUVsQixHQUFHLENBQUNnQixNQUFKLEdBQWFDLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFYLENBQWY7QUFNQWYsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FSRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBpdGVtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy5jb21wYW55T3JkZXJTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgY3VzdG9tZXJfaWQ6IEpvaS5udW1iZXIoKS5lbXB0eSgpLFxuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        item: Joi.number().required(),\n        quantity: Joi.number(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        customer_id: Joi.number().empty(),\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e1&#x2F;ordervalidators_e12e9bab16ee6f22191cb1085e8fa580.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2965&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3959,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3956,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 221,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 411,
                    &quot;endOffset&quot;: 594,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 626,
                    &quot;endOffset&quot;: 848,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n  createOrder,\n  updateOrderItem,\n  updateOrder,\n  getOrderById,\n  getOwnOrders,\n  getCompanyOrders\n};\n\nasync function createOrder(params) {\n  const order &#x3D; await get_or_create(params.customer_id, params.company_id); &#x2F;&#x2F; insert the item to the order item table\n\n  const orderItem &#x3D; order.$relatedQuery(\&quot;items\&quot;).insert({\n    item: params.item.id,\n    order: order.id\n  });\n  return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n  const order &#x3D; await getOrder(id); &#x2F;&#x2F; check item quantity\n\n  if (params.item.quantity &lt;&#x3D; 0) {\n    &#x2F;&#x2F; remove from cart\n    await order.$relatedQuery(\&quot;items\&quot;).delete().where({\n      item: params.item.id\n    });\n    return;\n  }\n\n  const orderItem &#x3D; await order.$relatedQuery(\&quot;items\&quot;).patch({\n    quantity: params.item.quantity\n  }).where({\n    item: params.item.id\n  }).returning(\&quot;*\&quot;);\n  return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n  let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n  if (order.company.id !&#x3D;&#x3D; user.company.id) {\n    const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n    throw error;\n  } &#x2F;&#x2F; aka update order table\n\n\n  order &#x3D; await Order.query().patchAndFetchById(id, params);\n  return order;\n}\n\nasync function getOrderById(id) {\n  const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n  return order;\n}\n\nasync function getOwnOrders(id) {\n  const orders &#x3D; await Order.query().where({\n    customer_id: id\n  }).orderBy(\&quot;created_at\&quot;);\n  return orders;\n}\n\nasync function getCompanyOrders(params) {\n  const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n  return orders;\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function get_or_create(id, company_id) {\n  &#x2F;&#x2F; checks for the existence of a customer order\n  &#x2F;&#x2F; if it exists add the new items on it\n  &#x2F;&#x2F; if it does not exist it creates one\n  let order &#x3D; await Order.query().where({\n    customer_id: id,\n    order_status: \&quot;New\&quot;\n  }).first();\n\n  if (!order) {\n    &#x2F;&#x2F; create one\n    order &#x3D; await Order.query().insert({\n      customer_id: id,\n      company_id,\n      order_status: \&quot;New\&quot;,\n      purchase_status: \&quot;unpaid\&quot;\n    });\n  }\n\n  return order;\n}\n\nasync function getOrder(id) {\n  const order &#x3D; await Order.query().findById(id);\n  return order;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU9yZGVyIiwidXBkYXRlT3JkZXJJdGVtIiwidXBkYXRlT3JkZXIiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicGFyYW1zIiwib3JkZXIiLCJnZXRfb3JfY3JlYXRlIiwiY3VzdG9tZXJfaWQiLCJjb21wYW55X2lkIiwib3JkZXJJdGVtIiwiJHJlbGF0ZWRRdWVyeSIsImluc2VydCIsIml0ZW0iLCJpZCIsImdldE9yZGVyIiwicXVhbnRpdHkiLCJkZWxldGUiLCJ3aGVyZSIsInBhdGNoIiwicmV0dXJuaW5nIiwidXNlciIsIndpdGhHcmFwaEZldGNoZWQiLCJjb21wYW55IiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJvcmRlcnMiLCJvcmRlckJ5Iiwib3JkZXJfc3RhdHVzIiwiZmlyc3QiLCJwdXJjaGFzZV9zdGF0dXMiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLFdBRGE7QUFFYkMsRUFBQUEsZUFGYTtBQUdiQyxFQUFBQSxXQUhhO0FBSWJDLEVBQUFBLFlBSmE7QUFLYkMsRUFBQUEsWUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLFdBQWYsQ0FBMkJNLE1BQTNCLEVBQW1DO0FBQy9CLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxhQUFhLENBQUNGLE1BQU0sQ0FBQ0csV0FBUixFQUFxQkgsTUFBTSxDQUFDSSxVQUE1QixDQUFqQyxDQUQrQixDQUcvQjs7QUFDQSxRQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FDbEJLLGFBRGEsQ0FDQyxPQURELEVBRWJDLE1BRmEsQ0FFTjtBQUFFQyxJQUFBQSxJQUFJLEVBQUVSLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZQyxFQUFwQjtBQUF3QlIsSUFBQUEsS0FBSyxFQUFFQSxLQUFLLENBQUNRO0FBQXJDLEdBRk0sQ0FBbEI7QUFJQSxTQUFPSixTQUFQO0FBQ0g7O0FBRUQsZUFBZVYsZUFBZixDQUErQmMsRUFBL0IsRUFBbUNULE1BQW5DLEVBQTJDO0FBQ3ZDLFFBQU1DLEtBQUssR0FBRyxNQUFNUyxRQUFRLENBQUNELEVBQUQsQ0FBNUIsQ0FEdUMsQ0FHdkM7O0FBQ0EsTUFBSVQsTUFBTSxDQUFDUSxJQUFQLENBQVlHLFFBQVosSUFBd0IsQ0FBNUIsRUFBK0I7QUFDM0I7QUFDQSxVQUFNVixLQUFLLENBQ05LLGFBREMsQ0FDYSxPQURiLEVBRURNLE1BRkMsR0FHREMsS0FIQyxDQUdLO0FBQUVMLE1BQUFBLElBQUksRUFBRVIsTUFBTSxDQUFDUSxJQUFQLENBQVlDO0FBQXBCLEtBSEwsQ0FBTjtBQUtBO0FBQ0g7O0FBRUQsUUFBTUosU0FBUyxHQUFHLE1BQU1KLEtBQUssQ0FDeEJLLGFBRG1CLENBQ0wsT0FESyxFQUVuQlEsS0FGbUIsQ0FFYjtBQUNISCxJQUFBQSxRQUFRLEVBQUVYLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZRztBQURuQixHQUZhLEVBS25CRSxLQUxtQixDQUtiO0FBQ0hMLElBQUFBLElBQUksRUFBRVIsTUFBTSxDQUFDUSxJQUFQLENBQVlDO0FBRGYsR0FMYSxFQVFuQk0sU0FSbUIsQ0FRVCxHQVJTLENBQXhCO0FBVUEsU0FBT1YsU0FBUDtBQUNIOztBQUVELGVBQWVULFdBQWYsQ0FBMkJhLEVBQTNCLEVBQStCTyxJQUEvQixFQUFxQ2hCLE1BQXJDLEVBQTZDO0FBQ3pDLE1BQUlDLEtBQUssR0FBRyxNQUFNUyxRQUFRLENBQUNELEVBQUQsQ0FBUixDQUFhUSxnQkFBYixDQUE4QixTQUE5QixDQUFsQjs7QUFFQSxNQUFJaEIsS0FBSyxDQUFDaUIsT0FBTixDQUFjVCxFQUFkLEtBQXFCTyxJQUFJLENBQUNFLE9BQUwsQ0FBYVQsRUFBdEMsRUFBMEM7QUFDdEMsVUFBTVUsS0FBSyxHQUFHLElBQUlDLEtBQUosQ0FBVSxhQUFWLENBQWQ7QUFDQSxVQUFNRCxLQUFOO0FBQ0gsR0FOd0MsQ0FPekM7OztBQUNBbEIsRUFBQUEsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY0MsaUJBQWQsQ0FBZ0NiLEVBQWhDLEVBQW9DVCxNQUFwQyxDQUFkO0FBRUEsU0FBT0MsS0FBUDtBQUNIOztBQUVELGVBQWVKLFlBQWYsQ0FBNEJZLEVBQTVCLEVBQWdDO0FBQzVCLFFBQU1SLEtBQUssR0FBRyxNQUFNUyxRQUFRLENBQUNELEVBQUQsQ0FBUixDQUFhUSxnQkFBYixDQUE4QixPQUE5QixDQUFwQjtBQUNBLFNBQU9oQixLQUFQO0FBQ0g7O0FBRUQsZUFBZUgsWUFBZixDQUE0QlcsRUFBNUIsRUFBZ0M7QUFDNUIsUUFBTWMsTUFBTSxHQUFHLE1BQU1qQyxLQUFLLENBQUMrQixLQUFOLEdBQ2hCUixLQURnQixDQUNWO0FBQUVWLElBQUFBLFdBQVcsRUFBRU07QUFBZixHQURVLEVBRWhCZSxPQUZnQixDQUVSLFlBRlEsQ0FBckI7QUFHQSxTQUFPRCxNQUFQO0FBQ0g7O0FBRUQsZUFBZXhCLGdCQUFmLENBQWdDQyxNQUFoQyxFQUF3QztBQUNwQyxRQUFNdUIsTUFBTSxHQUFHLE1BQU1qQyxLQUFLLENBQUMrQixLQUFOLEdBQWNSLEtBQWQsQ0FBb0JiLE1BQXBCLEVBQTRCd0IsT0FBNUIsQ0FBb0MsWUFBcEMsQ0FBckI7QUFDQSxTQUFPRCxNQUFQO0FBQ0gsQyxDQUNEOzs7QUFDQSxlQUFlckIsYUFBZixDQUE2Qk8sRUFBN0IsRUFBaUNMLFVBQWpDLEVBQTZDO0FBQ3pDO0FBQ0E7QUFDQTtBQUVBLE1BQUlILEtBQUssR0FBRyxNQUFNWCxLQUFLLENBQUMrQixLQUFOLEdBQ2JSLEtBRGEsQ0FDUDtBQUNIVixJQUFBQSxXQUFXLEVBQUVNLEVBRFY7QUFFSGdCLElBQUFBLFlBQVksRUFBRTtBQUZYLEdBRE8sRUFLYkMsS0FMYSxFQUFsQjs7QUFPQSxNQUFJLENBQUN6QixLQUFMLEVBQVk7QUFDUjtBQUNBQSxJQUFBQSxLQUFLLEdBQUcsTUFBTVgsS0FBSyxDQUFDK0IsS0FBTixHQUFjZCxNQUFkLENBQXFCO0FBQy9CSixNQUFBQSxXQUFXLEVBQUVNLEVBRGtCO0FBRS9CTCxNQUFBQSxVQUYrQjtBQUcvQnFCLE1BQUFBLFlBQVksRUFBRSxLQUhpQjtBQUkvQkUsTUFBQUEsZUFBZSxFQUFFO0FBSmMsS0FBckIsQ0FBZDtBQU1IOztBQUVELFNBQU8xQixLQUFQO0FBQ0g7O0FBRUQsZUFBZVMsUUFBZixDQUF3QkQsRUFBeEIsRUFBNEI7QUFDeEIsUUFBTVIsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY08sUUFBZCxDQUF1Qm5CLEVBQXZCLENBQXBCO0FBQ0EsU0FBT1IsS0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT3JkZXIgPSByZXF1aXJlKFwiLi9vcmRlci5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlT3JkZXIsXG4gICAgdXBkYXRlT3JkZXJJdGVtLFxuICAgIHVwZGF0ZU9yZGVyLFxuICAgIGdldE9yZGVyQnlJZCxcbiAgICBnZXRPd25PcmRlcnMsXG4gICAgZ2V0Q29tcGFueU9yZGVycyxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0X29yX2NyZWF0ZShwYXJhbXMuY3VzdG9tZXJfaWQsIHBhcmFtcy5jb21wYW55X2lkKTtcblxuICAgIC8vIGluc2VydCB0aGUgaXRlbSB0byB0aGUgb3JkZXIgaXRlbSB0YWJsZVxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLmluc2VydCh7IGl0ZW06IHBhcmFtcy5pdGVtLmlkLCBvcmRlcjogb3JkZXIuaWQgfSk7XG5cbiAgICByZXR1cm4gb3JkZXJJdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckl0ZW0oaWQsIHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0T3JkZXIoaWQpO1xuXG4gICAgLy8gY2hlY2sgaXRlbSBxdWFudGl0eVxuICAgIGlmIChwYXJhbXMuaXRlbS5xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGNhcnRcbiAgICAgICAgYXdhaXQgb3JkZXJcbiAgICAgICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLndoZXJlKHsgaXRlbTogcGFyYW1zLml0ZW0uaWQgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVySXRlbSA9IGF3YWl0IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLnBhdGNoKHtcbiAgICAgICAgICAgIHF1YW50aXR5OiBwYXJhbXMuaXRlbS5xdWFudGl0eSxcbiAgICAgICAgfSlcbiAgICAgICAgLndoZXJlKHtcbiAgICAgICAgICAgIGl0ZW06IHBhcmFtcy5pdGVtLmlkLFxuICAgICAgICB9KVxuICAgICAgICAucmV0dXJuaW5nKFwiKlwiKTtcblxuICAgIHJldHVybiBvcmRlckl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkLCB1c2VyLCBwYXJhbXMpIHtcbiAgICBsZXQgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCkud2l0aEdyYXBoRmV0Y2hlZChcImNvbXBhbnlcIik7XG5cbiAgICBpZiAob3JkZXIuY29tcGFueS5pZCAhPT0gdXNlci5jb21wYW55LmlkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVW5hdGhvcml6ZWRcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBha2EgdXBkYXRlIG9yZGVyIHRhYmxlXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGdldE9yZGVyKGlkKS53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPd25PcmRlcnMoaWQpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IGN1c3RvbWVyX2lkOiBpZCB9KVxuICAgICAgICAub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFueU9yZGVycyhwYXJhbXMpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpLndoZXJlKHBhcmFtcykub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09aGVscGVycz09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRfb3JfY3JlYXRlKGlkLCBjb21wYW55X2lkKSB7XG4gICAgLy8gY2hlY2tzIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgY3VzdG9tZXIgb3JkZXJcbiAgICAvLyBpZiBpdCBleGlzdHMgYWRkIHRoZSBuZXcgaXRlbXMgb24gaXRcbiAgICAvLyBpZiBpdCBkb2VzIG5vdCBleGlzdCBpdCBjcmVhdGVzIG9uZVxuXG4gICAgbGV0IG9yZGVyID0gYXdhaXQgT3JkZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGlkLFxuICAgICAgICAgICAgb3JkZXJfc3RhdHVzOiBcIk5ld1wiLFxuICAgICAgICB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9uZVxuICAgICAgICBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuaW5zZXJ0KHtcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgICAgIGNvbXBhbnlfaWQsXG4gICAgICAgICAgICBvcmRlcl9zdGF0dXM6IFwiTmV3XCIsXG4gICAgICAgICAgICBwdXJjaGFzZV9zdGF0dXM6IFwidW5wYWlkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuZmluZEJ5SWQoaWQpO1xuICAgIHJldHVybiBvcmRlcjtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n    createOrder,\n    updateOrderItem,\n    updateOrder,\n    getOrderById,\n    getOwnOrders,\n    getCompanyOrders,\n};\n\nasync function createOrder(params) {\n    const order &#x3D; await get_or_create(params.customer_id, params.company_id);\n\n    &#x2F;&#x2F; insert the item to the order item table\n    const orderItem &#x3D; order\n        .$relatedQuery(\&quot;items\&quot;)\n        .insert({ item: params.item.id, order: order.id });\n\n    return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n    const order &#x3D; await getOrder(id);\n\n    &#x2F;&#x2F; check item quantity\n    if (params.item.quantity &lt;&#x3D; 0) {\n        &#x2F;&#x2F; remove from cart\n        await order\n            .$relatedQuery(\&quot;items\&quot;)\n            .delete()\n            .where({ item: params.item.id });\n\n        return;\n    }\n\n    const orderItem &#x3D; await order\n        .$relatedQuery(\&quot;items\&quot;)\n        .patch({\n            quantity: params.item.quantity,\n        })\n        .where({\n            item: params.item.id,\n        })\n        .returning(\&quot;*\&quot;);\n\n    return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n    let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n    if (order.company.id !&#x3D;&#x3D; user.company.id) {\n        const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n        throw error;\n    }\n    &#x2F;&#x2F; aka update order table\n    order &#x3D; await Order.query().patchAndFetchById(id, params);\n\n    return order;\n}\n\nasync function getOrderById(id) {\n    const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n    return order;\n}\n\nasync function getOwnOrders(id) {\n    const orders &#x3D; await Order.query()\n        .where({ customer_id: id })\n        .orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n\nasync function getCompanyOrders(params) {\n    const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function get_or_create(id, company_id) {\n    &#x2F;&#x2F; checks for the existence of a customer order\n    &#x2F;&#x2F; if it exists add the new items on it\n    &#x2F;&#x2F; if it does not exist it creates one\n\n    let order &#x3D; await Order.query()\n        .where({\n            customer_id: id,\n            order_status: \&quot;New\&quot;,\n        })\n        .first();\n\n    if (!order) {\n        &#x2F;&#x2F; create one\n        order &#x3D; await Order.query().insert({\n            customer_id: id,\n            company_id,\n            order_status: \&quot;New\&quot;,\n            purchase_status: \&quot;unpaid\&quot;,\n        });\n    }\n\n    return order;\n}\n\nasync function getOrder(id) {\n    const order &#x3D; await Order.query().findById(id);\n    return order;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2d&#x2F;orderservice_2dd8ed46d0ebb5dcc0edc8f1fb86b7ac.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2966&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10175,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10172,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 253,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 543,
                    &quot;endOffset&quot;: 993,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 995,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1324,
                    &quot;endOffset&quot;: 1437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1439,
                    &quot;endOffset&quot;: 1584,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1586,
                    &quot;endOffset&quot;: 1720,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get_or_create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1783,
                    &quot;endOffset&quot;: 2270,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2272,
                    &quot;endOffset&quot;: 2369,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n  static get tableName() {\n    return tableNames.order;\n  }\n\n  static get relationMappings() {\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n    return {\n      items: {\n        relation: Model.HasManyRelation,\n        modelClass: OrderItem,\n        join: {\n          from: &#x60;${tableNames.order}.id&#x60;,\n          to: &#x60;${tableNames.orderItem}.order_id&#x60;\n        }\n      },\n      customer: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.order}.customer_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Company,\n        join: {\n          from: &#x60;${tableNames.order}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Order;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJkYiIsIk9yZGVyIiwidGFibGVOYW1lIiwib3JkZXIiLCJyZWxhdGlvbk1hcHBpbmdzIiwiQ29tcGFueSIsIlVzZXIiLCJPcmRlckl0ZW0iLCJpdGVtcyIsInJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwibW9kZWxDbGFzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJvcmRlckl0ZW0iLCJjdXN0b21lciIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwidXNlciIsImNvbXBhbnkiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsS0FBTixTQUFvQkosS0FBcEIsQ0FBMEI7QUFDdEIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLEtBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBQ0EsVUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsNkJBQUQsQ0FBekI7O0FBRUEsV0FBTztBQUNIVSxNQUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNhLGVBRGI7QUFFSEMsUUFBQUEsVUFBVSxFQUFFSixTQUZUO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWQsVUFBVSxDQUFDSSxLQUFNLEtBRHhCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZixVQUFVLENBQUNnQixTQUFVO0FBRjFCO0FBSEgsT0FESjtBQVVIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEVjtBQUVOTixRQUFBQSxVQUFVLEVBQUVMLElBRk47QUFHTk0sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sY0FEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ21CLElBQUs7QUFGckI7QUFIQSxPQVZQO0FBa0JIQyxNQUFBQSxPQUFPLEVBQUU7QUFDTFYsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEWDtBQUVMTixRQUFBQSxVQUFVLEVBQUVOLE9BRlA7QUFHTE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sYUFEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ29CLE9BQVE7QUFGeEI7QUFIRDtBQWxCTixLQUFQO0FBMkJIOztBQXJDcUI7O0FBd0MxQnRCLEtBQUssQ0FBQ3VCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IHRhYmxlTmFtZXMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhYmxlTmFtZXNcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcblxuY2xhc3MgT3JkZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLm9yZGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgT3JkZXJJdGVtID0gcmVxdWlyZShcIi4vb3JkZXJJdGVtL29yZGVySXRlbS5tb2RlbFwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuSGFzTWFueVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IE9yZGVySXRlbSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMub3JkZXJJdGVtfS5vcmRlcl9pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IFVzZXIsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLm9yZGVyfS5jdXN0b21lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzczogQ29tcGFueSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcjtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n    static get tableName() {\n        return tableNames.order;\n    }\n\n    static get relationMappings() {\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n        const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n        return {\n            items: {\n                relation: Model.HasManyRelation,\n                modelClass: OrderItem,\n                join: {\n                    from: &#x60;${tableNames.order}.id&#x60;,\n                    to: &#x60;${tableNames.orderItem}.order_id&#x60;,\n                },\n            },\n\n            customer: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.order}.customer_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Company,\n                join: {\n                    from: &#x60;${tableNames.order}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Order;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;66&#x2F;ordermodel_662f5b9ea6475bcabfd0d4f0bf405dda.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2967&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5243,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5240,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Order&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 230,
                    &quot;endOffset&quot;: 230,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 267,
                    &quot;endOffset&quot;: 317,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 328,
                    &quot;endOffset&quot;: 1185,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n  orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVySXRlbS5yb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhdXRoIiwiQXV0aCIsInJvbGUiLCJvcmRlclNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInB1dCIsImN1c3RvbWVyIiwidXBkYXRlT3JkZXJJdGVtIiwicmVxIiwicmVzIiwibmV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJGLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxrQkFBRCxDQUE1Qjs7QUFFQSxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBUixDQUFlO0FBQzFCQyxFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUFmLENBQWY7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQk4sSUFBSSxDQUFDQyxJQUFJLENBQUNNLFFBQU4sQ0FBcEIsRUFBcUNDLGVBQXJDOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDckNULEVBQUFBLFlBQVksQ0FBQ00sZUFBYjtBQUNIOztBQUVESSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCByb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi4vb3JkZXIuc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wdXQoXCIvXCIsIEF1dGgocm9sZS5jdXN0b21lciksIHVwZGF0ZU9yZGVySXRlbSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVySXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZS51cGRhdGVPcmRlckl0ZW0oKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n    orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;orderItemroutes_440b1db2888128c60482407cf8bcef31.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2968&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2184,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2181,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 406,
                    &quot;endOffset&quot;: 484,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        }
      ]
    },
    {
      &quot;leaks&quot;: false,
      &quot;numFailingTests&quot;: 0,
      &quot;numPassingTests&quot;: 2,
      &quot;numPendingTests&quot;: 0,
      &quot;numTodoTests&quot;: 0,
      &quot;openHandles&quot;: [],
      &quot;perfStats&quot;: {
        &quot;end&quot;: 1610567038910,
        &quot;runtime&quot;: 816,
        &quot;slow&quot;: false,
        &quot;start&quot;: 1610567038094
      },
      &quot;skipped&quot;: false,
      &quot;snapshot&quot;: {
        &quot;added&quot;: 0,
        &quot;fileDeleted&quot;: false,
        &quot;matched&quot;: 0,
        &quot;unchecked&quot;: 0,
        &quot;unmatched&quot;: 0,
        &quot;updated&quot;: 0,
        &quot;uncheckedKeys&quot;: []
      },
      &quot;testFilePath&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;test&#x2F;app.test.js&quot;,
      &quot;testResults&quot;: [
        {
          &quot;ancestorTitles&quot;: [
            &quot;app&quot;
          ],
          &quot;duration&quot;: 52,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;app responds with a not found message&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;responds with a not found message&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET &#x2F;&quot;
          ],
          &quot;duration&quot;: 17,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET &#x2F; responds with a json message&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;responds with a json message&quot;
        }
      ],
      &quot;failureMessage&quot;: null,
      &quot;v8Coverage&quot;: [
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\n\nconst compression &#x3D; require(\&quot;compression\&quot;);\n\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\n\nconst cors &#x3D; require(\&quot;cors\&quot;); &#x2F;&#x2F; Swagger stuff\n\n\nrequire(\&quot;rootpath\&quot;)();\n\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\n\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\n\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;\n  });\n});\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\nmodule.exports &#x3D; app;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvbXByZXNzaW9uIiwiaGVsbWV0IiwiY29ycyIsInN3YWdnZXJVaSIsInN3YWdnZXJEb2MiLCJjb25maWciLCJtaWRkbGV3YXJlcyIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJtZXNzYWdlIiwic2VydmUiLCJzZXR1cCIsIm5vdEZvdW5kIiwiZXJyb3JIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxVQUFELENBQVA7O0FBQ0EsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JPLE1BQWxCOztBQUVBLE1BQU1DLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsTUFBTVMsR0FBRyxHQUFHVCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNVSxHQUFHLEdBQUdYLE9BQU8sRUFBbkI7QUFFQVcsR0FBRyxDQUFDQyxHQUFKLENBQVFWLE1BQU0sQ0FBQyxLQUFELENBQWQ7QUFDQVMsR0FBRyxDQUFDQyxHQUFKLENBQVFSLE1BQU0sRUFBZDtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVAsSUFBSSxFQUFaO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRVCxXQUFXLEVBQW5CO0FBQ0FRLEdBQUcsQ0FBQ0MsR0FBSixDQUFRWixPQUFPLENBQUNhLElBQVIsRUFBUjtBQUVBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTO0FBQ0xJLElBQUFBLE9BQU8sRUFBRTtBQURKLEdBQVQ7QUFHSCxDQUpEO0FBTUFOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJGLEdBQW5CO0FBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJOLFNBQVMsQ0FBQ1ksS0FBL0IsRUFBc0NaLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQlosVUFBaEIsQ0FBdEM7QUFFQUksR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1csUUFBcEI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1ksWUFBcEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbi8vIFN3YWdnZXIgc3R1ZmZcbnJlcXVpcmUoXCJyb290cGF0aFwiKSgpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcbmNvbnN0IHN3YWdnZXJEb2MgPSByZXF1aXJlKFwiLi4vZG9jcy9zd2FnZ2VyLmpzb25cIik7XG5cbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IG1pZGRsZXdhcmVzID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXNcIik7XG5jb25zdCBhcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCLwn6aE8J+MiOKcqPCfkYvwn4yO8J+MjfCfjI&#x2F;inKjwn4yI8J+mhFwiLFxuICAgIH0pO1xufSk7XG5cbmFwcC51c2UoXCIvYXBpL3YxXCIsIGFwaSk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2MpKTtcblxuYXBwLnVzZShtaWRkbGV3YXJlcy5ub3RGb3VuZCk7XG5hcHAudXNlKG1pZGRsZXdhcmVzLmVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\nconst compression &#x3D; require(\&quot;compression\&quot;);\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\nconst cors &#x3D; require(\&quot;cors\&quot;);\n\n&#x2F;&#x2F; Swagger stuff\nrequire(\&quot;rootpath\&quot;)();\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\n\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;,\n    });\n});\n\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\n\nmodule.exports &#x3D; app;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;68&#x2F;app_6855482f668a469a3eba3734dab1ce4c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2039&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4132,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4129,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 669,
                    &quot;endOffset&quot;: 739,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;function notFound(req, res, next) {\n  res.status(404);\n  const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n  next(error);\n}\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\n\n\nfunction errorHandler(err, req, res, next) {\n  &#x2F;* eslint-enable no-unused-vars *&#x2F;\n  const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n  res.status(statusCode);\n  if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n  res.json({\n    message: err.message,\n    stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack\n  });\n}\n\nmodule.exports &#x3D; {\n  notFound,\n  errorHandler\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbIm5vdEZvdW5kIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwiRXJyb3IiLCJvcmlnaW5hbFVybCIsImVycm9ySGFuZGxlciIsImVyciIsInN0YXR1c0NvZGUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImpzb24iLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVg7QUFDQSxRQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFXLG9CQUFtQkwsR0FBRyxDQUFDTSxXQUFZLEVBQTlDLENBQWQ7QUFDQUosRUFBQUEsSUFBSSxDQUFDRSxLQUFELENBQUo7QUFDSDtBQUVEOzs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxHQUF0QixFQUEyQlIsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QztBQUNBLFFBQU1PLFVBQVUsR0FBR1IsR0FBRyxDQUFDUSxVQUFKLEtBQW1CLEdBQW5CLEdBQXlCUixHQUFHLENBQUNRLFVBQTdCLEdBQTBDLEdBQTdEO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXTSxVQUFYO0FBQ0EsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNPLE9BQWhCO0FBQzNDZCxFQUFBQSxHQUFHLENBQUNlLElBQUosQ0FBUztBQUNMRCxJQUFBQSxPQUFPLEVBQUVQLEdBQUcsQ0FBQ08sT0FEUjtBQUVMRSxJQUFBQSxLQUFLLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQXdDLElBQXhDLEdBQStDSixHQUFHLENBQUNTO0FBRnJELEdBQVQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwQixFQUFBQSxRQURhO0FBRWJRLEVBQUFBO0FBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3RGb3VuZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihg8J+UjSAtIE5vdCBGb3VuZCAtICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIG5leHQoZXJyb3IpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlICE9PSAyMDAgPyByZXMuc3RhdHVzQ29kZSA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gXCLwn6WeXCIgOiBlcnIuc3RhY2ssXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5vdEZvdW5kLFxuICAgIGVycm9ySGFuZGxlcixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;function notFound(req, res, next) {\n    res.status(404);\n    const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n    next(error);\n}\n\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\nfunction errorHandler(err, req, res, next) {\n    &#x2F;* eslint-enable no-unused-vars *&#x2F;\n    const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n    res.status(statusCode);\n    if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n    res.json({\n        message: err.message,\n        stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack,\n    });\n}\n\nmodule.exports &#x3D; {\n    notFound,\n    errorHandler,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0d&#x2F;middlewares_0d2bc57a77c05a727da8aec38de48282.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2172&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3010,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3007,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;notFound&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 89,
                    &quot;endOffset&quot;: 226,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;errorHandler&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 265,
                    &quot;endOffset&quot;: 626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;API - üëãüåéüåçüåè\&quot;\n  });\n});\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsT0FBTyxFQUFFO0FBREosR0FBVDtBQUdILENBSkQ7QUFNQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QlIsT0FBTyxDQUFDLG9CQUFELENBQS9CO0FBQ0FDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJSLE9BQU8sQ0FBQywwQkFBRCxDQUE5QjtBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiQVBJIC0g8J+Ri&#x2F;CfjI7wn4yN8J+Mj1wiLFxuICAgIH0pO1xufSk7XG5cbnJvdXRlci51c2UoXCIvYWNjb3VudHNcIiwgcmVxdWlyZShcIi4vYXV0aC9hdXRoLnJvdXRlc1wiKSk7XG5yb3V0ZXIudXNlKFwiL2NvbXBhbnlcIiwgcmVxdWlyZShcIi4vY29tcGFueS9jb21wYW55LnJvdXRlc1wiKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;API - üëãüåéüåçüåè\&quot;,\n    });\n});\n\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;46&#x2F;index_46150bc44a91011b69db233a13fb0837.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2173&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1664,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 175,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nconst {\n  signinSchema,\n  signupSchema,\n  updateSchema,\n  verifyEmailSchema\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\n\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n  const {\n    email,\n    password\n  } &#x3D; req.body;\n  authService.login({\n    email,\n    password\n  }).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    res.json({\n      user,\n      token\n    });\n  }).catch(next);\n}\n\nfunction register(req, res, next) {\n  req.body.role &#x3D; Role.owner;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n  req.body.role &#x3D; Role.customer;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n  authService.verifyEmail(req.body).then(() &#x3D;&gt; res.json({\n    message: \&quot;Verification successfull\&quot;\n  })).catch(next);\n}\n\nfunction getAll(req, res, next) {\n  authService.getAll().then(accounts &#x3D;&gt; res.json(accounts)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  &#x2F;&#x2F; users can get their own account and admin can get any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.getById(req.params.id).then(account &#x3D;&gt; account ? res.json(account) : res.sendStatus(404)).catch(next);\n}\n\nfunction create(req, res, next) {\n  authService.create(req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; users can update their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.update(req.params.id, req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction _delete(req, res, next) {\n  &#x2F;&#x2F; users can delete their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.delete(req.param.id).then(() &#x3D;&gt; res.json({\n    message: \&quot;Account deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwic2lnbmluU2NoZW1hIiwic2lnbnVwU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoU2VydmljZSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsInBvc3QiLCJsb2dpbiIsInJlZ2lzdGVyQ3VzdG9tZXIiLCJyZWdpc3RlciIsInZlcmlmeUVtYWlsIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGwiLCJnZXRCeUlkIiwib3duZXIiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwidG9rZW4iLCJqc29uIiwiY2F0Y2giLCJyb2xlIiwibWVzc2FnZSIsImN1c3RvbWVyIiwiYWNjb3VudHMiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImFjY291bnQiLCJzZW5kU3RhdHVzIiwicGFyYW0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLFlBREU7QUFFRkMsRUFBQUEsWUFGRTtBQUdGQyxFQUFBQSxZQUhFO0FBSUZDLEVBQUFBO0FBSkUsSUFLRk4sT0FBTyxDQUFDLG1CQUFELENBTFg7O0FBTUEsTUFBTU8sV0FBVyxHQUFHUCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTTtBQUFFUSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJULE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7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QTNCLEVBQWlDO0FBQzdCO0FBQ0EsTUFBSWEsTUFBTSxDQUFDZixHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBQVosQ0FBTixLQUEwQmpCLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxFQUFuQyxJQUF5Q2pCLEdBQUcsQ0FBQ08sSUFBSixDQUFTSSxJQUFULEtBQWtCN0IsSUFBSSxDQUFDTyxLQUFwRSxFQUEyRTtBQUN2RSxXQUFPWSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNIOztBQUVEakMsRUFBQUEsV0FBVyxDQUNOaUIsTUFETCxDQUNZSSxHQUFHLENBQUNxQixLQUFKLENBQVVKLEVBRHRCLEVBRUtYLElBRkwsQ0FFVSxNQUNGTCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUNMRyxJQUFBQSxPQUFPLEVBQUUsOEJBREo7QUFFTEssSUFBQUEsRUFBRSxFQUFFakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQztBQUZWLEdBQVQsQ0FIUixFQVFLUCxLQVJMLENBUVdSLElBUlg7QUFTSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB7XG4gICAgc2lnbmluU2NoZW1hLFxuICAgIHNpZ251cFNjaGVtYSxcbiAgICB1cGRhdGVTY2hlbWEsXG4gICAgdmVyaWZ5RW1haWxTY2hlbWEsXG59ID0gcmVxdWlyZShcIi4vYXV0aC52YWxpZGF0b3JzXCIpO1xuY29uc3QgYXV0aFNlcnZpY2UgPSByZXF1aXJlKFwiLi9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCB7IGF1dGg6IEF1dGggfSA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcm9sZVwiKTtcblxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgc2lnbmluU2NoZW1hLCBsb2dpbik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci1jdXN0b21lclwiLCBzaWdudXBTY2hlbWEsIHJlZ2lzdGVyQ3VzdG9tZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItb3duZXJcIiwgc2lnbnVwU2NoZW1hLCByZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi92ZXJpZnktZW1haWxcIiwgdmVyaWZ5RW1haWxTY2hlbWEsIHZlcmlmeUVtYWlsKTtcbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoUm9sZS5hZG1pbiksIGdldEFsbCk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBBdXRoKCksIGdldEJ5SWQpO1xucm91dGVyLnBvc3QoXCIvY3JlYXRlLXN0YWZmXCIsIEF1dGgoUm9sZS5vd25lciksIHNpZ251cFNjaGVtYSwgY3JlYXRlKTtcbnJvdXRlci5wdXQoXCIvOmlkXCIsIEF1dGgoKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aCgpLCBfZGVsZXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5sb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IHVzZXIsIHRva2VuIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUub3duZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUuY3VzdG9tZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlFbWFpbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC52ZXJpZnlFbWFpbChyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsbFwiIH0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAudGhlbigoYWNjb3VudHMpID0+IHJlcy5qc29uKGFjY291bnRzKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gdXNlcnMgY2FuIGdldCB0aGVpciBvd24gYWNjb3VudCBhbmQgYWRtaW4gY2FuIGdldCBhbnkgYWNjb3VudFxuICAgIGlmIChOdW1iZXIocmVxLnBhcmFtcy5pZCkgIT09IHJlcS51c2VyLmlkICYmIHJlcS51c2VyLnJvbGUgIT09IFJvbGUuYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF0aG9yaXplZFwiIH0pO1xuICAgIH1cblxuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChhY2NvdW50KSA9PiAoYWNjb3VudCA&#x2F;IHJlcy5qc29uKGFjY291bnQpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGFjY291bnQpID0+IHJlcy5qc29uKGFjY291bnQpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiB1cGRhdGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbigoYWNjb3VudCkgPT4gcmVzLmpzb24oYWNjb3VudCkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gX2RlbGV0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAuZGVsZXRlKHJlcS5wYXJhbS5pZClcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst router &#x3D; express.Router();\nconst {\n    signinSchema,\n    signupSchema,\n    updateSchema,\n    verifyEmailSchema,\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\n\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n    const { email, password } &#x3D; req.body;\n    authService\n        .login({ email, password })\n        .then(({ user, token }) &#x3D;&gt; {\n            res.json({ user, token });\n        })\n        .catch(next);\n}\n\nfunction register(req, res, next) {\n    req.body.role &#x3D; Role.owner;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n    req.body.role &#x3D; Role.customer;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n    authService\n        .verifyEmail(req.body)\n        .then(() &#x3D;&gt; res.json({ message: \&quot;Verification successfull\&quot; }))\n        .catch(next);\n}\n\nfunction getAll(req, res, next) {\n    authService\n        .getAll()\n        .then((accounts) &#x3D;&gt; res.json(accounts))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    &#x2F;&#x2F; users can get their own account and admin can get any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .getById(req.params.id)\n        .then((account) &#x3D;&gt; (account ? res.json(account) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction create(req, res, next) {\n    authService\n        .create(req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; users can update their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .update(req.params.id, req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction _delete(req, res, next) {\n    &#x2F;&#x2F; users can delete their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .delete(req.param.id)\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Account deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;75&#x2F;authroutes_75bf7888c8e4ac0a10e44194cc103f96.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2174&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 15260,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 15257,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 919,
                    &quot;endOffset&quot;: 1157,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1159,
                    &quot;endOffset&quot;: 1486,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;registerCustomer&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1488,
                    &quot;endOffset&quot;: 1826,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1828,
                    &quot;endOffset&quot;: 1985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1987,
                    &quot;endOffset&quot;: 2095,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2097,
                    &quot;endOffset&quot;: 2472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2474,
                    &quot;endOffset&quot;: 2588,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2590,
                    &quot;endOffset&quot;: 2944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2946,
                    &quot;endOffset&quot;: 3350,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    firstName: Joi.string().required(),\n    lastName: Joi.string().required(),\n    phoneNumber: Joi.string().min(10).max(15).required(),\n    role: Joi.string().min(5).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required(),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    firstName: Joi.string().empty(\&quot;\&quot;),\n    lastName: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    role: Joi.string().min(5).empty(\&quot;\&quot;),\n    phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n    password: Joi.string().min(8).empty(\&quot;\&quot;),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;)\n  }; &#x2F;&#x2F;  TODO figure out how admin can update role\n\n  const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n  validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    token: Joi.string().required()\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsInNpZ251cFNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwicGhvbmVOdW1iZXIiLCJtaW4iLCJtYXgiLCJyb2xlIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInZhbGlkIiwicmVmIiwic2lnbmluU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSIsIndpdGgiLCJ2ZXJpZnlFbWFpbFNjaGVtYSIsInRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUVBRSxPQUFPLENBQUNDLFlBQVIsR0FBdUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTUMsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBVztBQUN0QkMsSUFBQUEsU0FBUyxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYUMsUUFBYixFQURXO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRlk7QUFHdEJFLElBQUFBLFdBQVcsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFJLEdBQWIsQ0FBaUIsRUFBakIsRUFBcUJDLEdBQXJCLENBQXlCLEVBQXpCLEVBQTZCSixRQUE3QixFQUhTO0FBSXRCSyxJQUFBQSxJQUFJLEVBQUVqQixHQUFHLENBQUNXLE1BQUosR0FBYUksR0FBYixDQUFpQixDQUFqQixFQUFvQkgsUUFBcEIsRUFKZ0I7QUFLdEJNLElBQUFBLEtBQUssRUFB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RUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FMRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5zaWdudXBTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5yZXF1aXJlZCgpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLnJlcXVpcmVkKCksXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS52YWxpZChKb2kucmVmKFwicGFzc3dvcmRcIikpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMuc2lnbmluU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgIH0pO1xuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYVJ1bGVzID0ge1xuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLmVtcHR5KFwiXCIpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLmVtcHR5KFwiXCIpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5lbXB0eShcIlwiKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogSm9pLnN0cmluZygpLnZhbGlkKEpvaS5yZWYoXCJwYXNzd29yZFwiKSkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIC8vICBUT0RPIGZpZ3VyZSBvdXQgaG93IGFkbWluIGNhbiB1cGRhdGUgcm9sZVxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpLndpdGgoXCJwYXNzd29yZFwiLCBcImNvbmZpcm1QYXNzd29yZFwiKTtcblxuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeUVtYWlsU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIHRva2VuOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        firstName: Joi.string().required(),\n        lastName: Joi.string().required(),\n        phoneNumber: Joi.string().min(10).max(15).required(),\n        role: Joi.string().min(5).required(),\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        firstName: Joi.string().empty(\&quot;\&quot;),\n        lastName: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        role: Joi.string().min(5).empty(\&quot;\&quot;),\n        phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n        password: Joi.string().min(8).empty(\&quot;\&quot;),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;),\n    };\n\n    &#x2F;&#x2F;  TODO figure out how admin can update role\n    const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n\n    validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        token: Joi.string().required(),\n    });\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;93&#x2F;authvalidators_93d8fdb0df4bea4d1ddc0a198e2ff769.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2175&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7592,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7589,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 651,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 677,
                    &quot;endOffset&quot;: 863,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 889,
                    &quot;endOffset&quot;: 1438,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1469,
                    &quot;endOffset&quot;: 1601,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n  const options &#x3D; {\n    abortEarly: false,\n    &#x2F;&#x2F; include all errors\n    allowUnknown: true,\n    &#x2F;&#x2F; ignore unknown props\n    stripUnknown: true &#x2F;&#x2F; remove unknown props\n\n  };\n  const {\n    error,\n    value\n  } &#x3D; schema.validate(req.body, options);\n\n  if (error) {\n    next(&#x60;Validation error: ${error.details.map(x &#x3D;&gt; x.message).join(\&quot;, \&quot;)}&#x60;);\n  } else {\n    req.body &#x3D; value;\n    next();\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwibmV4dCIsInNjaGVtYSIsIm9wdGlvbnMiLCJhYm9ydEVhcmx5IiwiYWxsb3dVbmtub3duIiwic3RyaXBVbmtub3duIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYm9keSIsImRldGFpbHMiLCJtYXAiLCJ4IiwibWVzc2FnZSIsImpvaW4iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGVBQWpCOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFDeEMsUUFBTUMsT0FBTyxHQUFHO0FBQ1pDLElBQUFBLFVBQVUsRUFBRSxLQURBO0FBQ087QUFDbkJDLElBQUFBLFlBQVksRUFBRSxJQUZGO0FBRVE7QUFDcEJDLElBQUFBLFlBQVksRUFBRSxJQUhGLENBR1E7O0FBSFIsR0FBaEI7QUFNQSxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFtQk4sTUFBTSxDQUFDTyxRQUFQLENBQWdCVCxHQUFHLENBQUNVLElBQXBCLEVBQTBCUCxPQUExQixDQUF6Qjs7QUFDQSxNQUFJSSxLQUFKLEVBQVc7QUFDUE4sSUFBQUEsSUFBSSxDQUNDLHFCQUFvQk0sS0FBSyxDQUFDSSxPQUFOLENBQ2hCQyxHQURnQixDQUNYQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsT0FERyxFQUVoQkMsSUFGZ0IsQ0FFWCxJQUZXLENBRUwsRUFIaEIsQ0FBSjtBQUtILEdBTkQsTUFNTztBQUNIZixJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0YsS0FBWDtBQUNBUCxJQUFBQSxJQUFJO0FBQ1A7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVSZXF1ZXN0O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSwgLy8gaW5jbHVkZSBhbGwgZXJyb3JzXG4gICAgICAgIGFsbG93VW5rbm93bjogdHJ1ZSwgLy8gaWdub3JlIHVua25vd24gcHJvcHNcbiAgICAgICAgc3RyaXBVbmtub3duOiB0cnVlLCAvLyByZW1vdmUgdW5rbm93biBwcm9wc1xuICAgIH07XG5cbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5LCBvcHRpb25zKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChcbiAgICAgICAgICAgIGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLmRldGFpbHNcbiAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLmJvZHkgPSB2YWx1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n    const options &#x3D; {\n        abortEarly: false, &#x2F;&#x2F; include all errors\n        allowUnknown: true, &#x2F;&#x2F; ignore unknown props\n        stripUnknown: true, &#x2F;&#x2F; remove unknown props\n    };\n\n    const { error, value } &#x3D; schema.validate(req.body, options);\n    if (error) {\n        next(\n            &#x60;Validation error: ${error.details\n                .map((x) &#x3D;&gt; x.message)\n                .join(\&quot;, \&quot;)}&#x60;\n        );\n    } else {\n        req.body &#x3D; value;\n        next();\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;45&#x2F;validateRequest_45057a96b73bd940f5249869883efa4a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2228&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2528,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2525,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;validateRequest&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 124,
                    &quot;endOffset&quot;: 562,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\n\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\n\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\n\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n  &#x2F;**\n   * refreshtoken\n   * revoketoken\n   * forgotPassword\n   * validateResetToken\n   * validateResetToken\n   * resetPassword\n   *&#x2F;\n  login,\n  register,\n  verifyEmail,\n  create,\n  update,\n  getAll,\n  getById,\n  delete: _delete\n};\n\nasync function login({\n  email,\n  password\n}) {\n  const account &#x3D; await getAccount({\n    email\n  });\n\n  if (!account || &#x2F;&#x2F; !account.isVerified ||\n  !(await bcrypt.compare(password, account.password))) {\n    const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n    throw error;\n  }\n\n  const token &#x3D; await jwt.sign(account.toJSON());\n  return {\n    user: basicDetails(account),\n    token\n  };\n}\n\nasync function register(params, origin) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n    &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n    const error &#x3D; new Error(&#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;);\n    throw error;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; send email;\n  &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n  const token &#x3D; await jwt.sign(account);\n  return {\n    user: account,\n    token\n  };\n}\n\nasync function verifyEmail({\n  token\n}) {\n  const account &#x3D; await getAccount({\n    verificationToken: token\n  });\n  if (!account) throw \&quot;Verification failed\&quot;;\n  await account.$query().patch({\n    verified: Date.now(),\n    isVerified: true,\n    verificationToken: null\n  });\n}\n\nasync function create(params) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; TODO? bind to company here.\n\n  return basicDetails(account);\n}\n\nasync function update(id, params) {\n  const account &#x3D; await getAccount({\n    id\n  }); &#x2F;&#x2F; validate if email was changed\n\n  if (params.email &amp;&amp; account.email !&#x3D;&#x3D; params.email &amp;&amp; (await getAccount({\n    email: params.email\n  }))) {\n    const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n    throw error;\n  } &#x2F;&#x2F; hash password if it was entered\n\n\n  if (params.password) {\n    params.password &#x3D; await hash(params.password);\n  }\n\n  const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params\n  });\n  return basicDetails(updatedUser);\n} &#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\n\n\nasync function getAll() {\n  const accounts &#x3D; await User.query();\n  return accounts.map(x &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n  const account &#x3D; await getAccount({\n    id\n  });\n  return basicDetails(account);\n} &#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\n\n\nasync function _delete(id) {\n  await User.query().deleteById(id);\n}\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\n\n\nasync function getAccount(param) {\n  const account &#x3D; await User.query().where({ ...param\n  }).first();\n  return account;\n}\n\nasync function insertUser(params) {\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    role,\n    phoneNumber\n  } &#x3D; params; &#x2F;&#x2F; hash password and verification token\n\n  const hashedPassword &#x3D; await hash(password, 10);\n  const verificationToken &#x3D; randomTokenString(); &#x2F;&#x2F; create account\n\n  const account &#x3D; await User.query().insert({\n    email,\n    firstName,\n    lastName,\n    password: hashedPassword,\n    phoneNumber,\n    role: role,\n    active: true,\n    isVerified: false,\n    verified: new Date().toISOString(),\n    verificationToken\n  });\n  return basicDetails(account);\n}\n\nasync function hash(password) {\n  return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n  return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n  const {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  } &#x3D; account;\n  return {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  };\n}\n\nasync function sendVerificationEmail(account, origin) {\n  let message;\n\n  if (origin) {\n    const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n    message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: account.email,\n    subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n    html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;\n  });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n  let message;\n\n  if (origin) {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: email,\n    subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n    html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImJjcnlwdCIsImNyeXB0byIsInNlbmRFbWFpbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbiIsInJlZ2lzdGVyIiwidmVyaWZ5RW1haWwiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsImNvbXBhcmUiLCJlcnJvciIsIkVycm9yIiwidG9rZW4iLCJzaWduIiwidG9KU09OIiwidXNlciIsImJhc2ljRGV0YWlscyIsInBhcmFtcyIsIm9yaWdpbiIsImluc2VydFVzZXIiLCJ2ZXJpZmljYXRpb25Ub2tlbiIsIiRxdWVyeSIsInBhdGNoIiwidmVyaWZpZWQiLCJEYXRlIiwibm93IiwiaXNWZXJpZmllZCIsImlkIiwiaGFzaCIsInVwZGF0ZWRVc2VyIiwicXVlcnkiLCJwYXRjaEFuZEZldGNoQnlJZCIsImFjY291bnRzIiwibWFwIiwieCIsImRlbGV0ZUJ5SWQiLCJwYXJhbSIsIndoZXJlIiwiZmlyc3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGUiLCJwaG9uZU51bWJlciIsImhhc2hlZFBhc3N3b3JkIiwicmFuZG9tVG9rZW5TdHJpbmciLCJpbnNlcnQiLCJhY3RpdmUiLCJ0b0lTT1N0cmluZyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVkIiwidXBkYXRlZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIm1lc3NhZ2UiLCJ2ZXJpZnlVcmwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwic2VuZEFscmVhZHlSZWdpc3RlcmVkRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQW5C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a0IsRUFBakY7QUFDQWlDLElBQUFBLE9BQU8sR0FBSTtzQkFDR0MsU0FBVSxLQUFJQSxTQUFVO1NBRHRDO0FBR0gsR0FMRCxNQUtPO0FBQ0hELElBQUFBLE9BQU8sR0FBSTs4QkFDVzlDLE9BQU8sQ0FBQ2EsaUJBQWtCLGFBRGhEO0FBRUg7O0FBRUQsUUFBTTNCLFNBQVMsQ0FBQztBQUNaOEQsSUFBQUEsRUFBRSxFQUFFaEQsT0FBTyxDQUFDRixLQURBO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUseUNBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHOztVQUVMSixPQUFRO0FBTEUsR0FBRCxDQUFmO0FBT0g7O0FBRUQsZUFBZUssMEJBQWYsQ0FBMENyRCxLQUExQyxFQUFpRGEsTUFBakQsRUFBeUQ7QUFDckQsTUFBSW1DLE9BQUo7O0FBQ0EsTUFBSW5DLE1BQUosRUFBWTtBQUNSbUMsSUFBQUEsT0FBTyxHQUFJLGdFQUErRG5DLE1BQU8sc0RBQWpGO0FBQ0gsR0FGRCxNQUVPO0FBQ0htQyxJQUFBQSxPQUFPLEdBQUksK0dBQVg7QUFDSDs7QUFFRCxRQUFNNUQsU0FBUyxDQUFDO0FBQ1o4RCxJQUFBQSxFQUFFLEVBQUVsRCxLQURRO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUscURBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHO3VDQUN3QnBELEtBQU07aUJBQzVCZ0QsT0FBUTtBQUxMLEdBQUQsQ0FBZjtBQU9IIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi91c2VyL3VzZXIubW9kZWxcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvand0XCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZW1haWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2h0b2tlblxuICAgICAqIHJldm9rZXRva2VuXG4gICAgICogZm9yZ290UGFzc3dvcmRcbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiByZXNldFBhc3N3b3JkXG4gICAgICovXG4gICAgbG9naW4sXG4gICAgcmVnaXN0ZXIsXG4gICAgdmVyaWZ5RW1haWwsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBnZXRBbGwsXG4gICAgZ2V0QnlJZCxcbiAgICBkZWxldGU6IF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBlbWFpbCB9KTtcblxuICAgIGlmIChcbiAgICAgICAgIWFjY291bnQgfHxcbiAgICAgICAgLy8gIWFjY291bnQuaXNWZXJpZmllZCB8fFxuICAgICAgICAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhY2NvdW50LnBhc3N3b3JkKSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJFbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudC50b0pTT04oKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBiYXNpY0RldGFpbHMoYWNjb3VudCksXG4gICAgICAgIHRva2VuLFxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHBhcmFtcywgb3JpZ2luKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgLy8gc2VuZCBhbHJlYWR5IHJlZ2lzdGVyZWQgZXJyb3IgaW4gZW1haWwgdG8gcHJldmVudCBhY2NvdW50IGVudW1lcmF0aW9uXG4gICAgICAgIC8vIGF3YWl0IHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKHBhcmFtcy5lbWFpbCwgb3JpZ2luKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRW1haWwgXCInICsgcGFyYW1zLmVtYWlsICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCdcbiAgICAgICAgKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgaW5zZXJ0VXNlcihwYXJhbXMpO1xuXG4gICAgLy8gc2VuZCBlbWFpbDtcbiAgICAvLyBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKTtcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBhY2NvdW50LFxuICAgICAgICB0b2tlbixcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh7IHRva2VuIH0pIHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZ2V0QWNjb3VudCh7IHZlcmlmaWNhdGlvblRva2VuOiB0b2tlbiB9KTtcblxuICAgIGlmICghYWNjb3VudCkgdGhyb3cgXCJWZXJpZmljYXRpb24gZmFpbGVkXCI7XG5cbiAgICBhd2FpdCBhY2NvdW50LiRxdWVyeSgpLnBhdGNoKHtcbiAgICAgICAgdmVyaWZpZWQ6IERhdGUubm93KCksXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2VuOiBudWxsLFxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgdGhyb3cgJ0VtYWlsIFwiJyArIHBhcmFtcy5lbWFpbCArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBpbnNlcnRVc2VyKHBhcmFtcyk7XG5cbiAgICAvLyBUT0RPPyBiaW5kIHRvIGNvbXBhbnkgaGVyZS5cblxuICAgIHJldHVybiBiYXNpY0RldGFpbHMoYWNjb3VudCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBpZCB9KTtcblxuICAgIC8vIHZhbGlkYXRlIGlmIGVtYWlsIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMuZW1haWwgJiZcbiAgICAgICAgYWNjb3VudC5lbWFpbCAhPT0gcGFyYW1zLmVtYWlsICYmXG4gICAgICAgIChhd2FpdCBnZXRBY2NvdW50KHsgZW1haWw6IHBhcmFtcy5lbWFpbCB9KSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVtYWlsICR7cGFyYW1zLmVtYWlsfSBpcyBhbHJlYWR5IHRha2VuYCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcbiAgICBpZiAocGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgICAgIHBhcmFtcy5wYXNzd29yZCA9IGF3YWl0IGhhc2gocGFyYW1zLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwgeyAuLi5wYXJhbXMgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKHVwZGF0ZWRVc2VyKTtcbn1cblxuLy8gVE9ETyBNQUtFIFNPIElUIENBTiBRVUVSWSBGT1IgRElGRkVSRU5UIFRZUEVTIE9GIFVTRVJTXG5hc3luYyBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBVc2VyLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoeCkgPT4gYmFzaWNEZXRhaWxzKHgpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhhY2NvdW50KTtcbn1cblxuLy8gVE9ETyBNQUtFIElUIEFDQ0VQVCBBTiBBUlJBWSBPRiBJRFxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgIGF3YWl0IFVzZXIucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT0gSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09ICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50KHBhcmFtKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyAuLi5wYXJhbSB9KVxuICAgICAgICAuZmlyc3QoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmVOdW1iZXIgfSA9IHBhcmFtcztcblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiB0b2tlblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgMTApO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gcmFuZG9tVG9rZW5TdHJpbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKS5pbnNlcnQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgdmVyaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKGFjY291bnQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYXNoKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVRva2VuU3RyaW5nKCkge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDApLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoYWNjb3VudCkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBjcmVhdGVkLFxuICAgICAgICB1cGRhdGVkLFxuICAgICAgICBpc1ZlcmlmaWVkLFxuICAgIH0gPSBhY2NvdW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgdXBkYXRlZCxcbiAgICAgICAgaXNWZXJpZmllZCxcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKSB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgICBjb25zdCB2ZXJpZnlVcmwgPSBgJHtvcmlnaW59L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7YWNjb3VudC52ZXJpZmljYXRpb25Ub2tlbn1gO1xuICAgICAgICBtZXNzYWdlID0gYDxwPiBQbGVhc2UgY2xpY2sgdGhlIGJlbG93IGxpbmsgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzczo8L3A+XG4gICAgICAgIDxwPjxhIGhyZWY9XCIke3ZlcmlmeVVybH1cIj4ke3ZlcmlmeVVybH08L2E+PC9wPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+UGxlYXNlIHVzZSB0aGUgYmVsb3cgdG9rZW4gdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyB3aXRoIHRoZSA8Y29kZT4vYXV0aC92ZXJpZnktZW1haWw8L2NvZGU+IGFwaSByb3V0ZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+JHthY2NvdW50LnZlcmlmaWNhdGlvblRva2VufTwvY29kZT48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogYWNjb3VudC5lbWFpbCxcbiAgICAgICAgc3ViamVjdDogXCJTaWduLXVwIHZlcmlmaWNhdGlvbiBBUEkgLSBWZXJpZnkgRW1haWxcIixcbiAgICAgICAgaHRtbDogYDxoND5WZXJpZnkgRW1haWw8L2g0PlxuICAgICAgICA8cD5UaGFua3MgZm9yIHJlZ2lzdGVyaW5nITwvcD5cbiAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKGVtYWlsLCBvcmlnaW4pIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+SWYgeW91IGRvbid0IGtub3cgeW91ciBwYXNzd29yZCBwbGVhc2UgdmlzaXQgdGhlIDxhIGhyZWY9XCIke29yaWdpbn0vYXV0aC9mb3Jnb3QtcGFzc3dvcmRcIj5mb3Jnb3QgcGFzc3dvcmQ8L2E+IHBhZ2UuPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGA8cD5JZiB5b3UgZG9uJ3Qga25vdyB5b3VyIHBhc3N3b3JkIHlvdSBjYW4gcmVzZXQgaXQgdmlhIHRoZSA8Y29kZT4vYXV0aC9mb3Jnb3QtcGFzc3dvcmQ8L2NvZGU+IGFwaSByb3V0ZS48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IFwiU2lnbi11cCBWZXJpZmljYXRpb24gQVBJIC0gRW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkXCIsXG4gICAgICAgIGh0bWw6IGA8aDQ+RW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkPC9oND5cbiAgICAgICAgICAgICAgIDxwPllvdXIgZW1haWwgPHN0cm9uZz4ke2VtYWlsfTwvc3Ryb25nPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9wPlxuICAgICAgICAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n    &#x2F;**\n     * refreshtoken\n     * revoketoken\n     * forgotPassword\n     * validateResetToken\n     * validateResetToken\n     * resetPassword\n     *&#x2F;\n    login,\n    register,\n    verifyEmail,\n    create,\n    update,\n    getAll,\n    getById,\n    delete: _delete,\n};\n\nasync function login({ email, password }) {\n    const account &#x3D; await getAccount({ email });\n\n    if (\n        !account ||\n        &#x2F;&#x2F; !account.isVerified ||\n        !(await bcrypt.compare(password, account.password))\n    ) {\n        const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n        throw error;\n    }\n\n    const token &#x3D; await jwt.sign(account.toJSON());\n\n    return {\n        user: basicDetails(account),\n        token,\n    };\n}\n\nasync function register(params, origin) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n        &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n        const error &#x3D; new Error(\n            &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;\n        );\n\n        throw error;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; send email;\n    &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n    const token &#x3D; await jwt.sign(account);\n\n    return {\n        user: account,\n        token,\n    };\n}\n\nasync function verifyEmail({ token }) {\n    const account &#x3D; await getAccount({ verificationToken: token });\n\n    if (!account) throw \&quot;Verification failed\&quot;;\n\n    await account.$query().patch({\n        verified: Date.now(),\n        isVerified: true,\n        verificationToken: null,\n    });\n}\n\nasync function create(params) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; TODO? bind to company here.\n\n    return basicDetails(account);\n}\n\nasync function update(id, params) {\n    const account &#x3D; await getAccount({ id });\n\n    &#x2F;&#x2F; validate if email was changed\n    if (\n        params.email &amp;&amp;\n        account.email !&#x3D;&#x3D; params.email &amp;&amp;\n        (await getAccount({ email: params.email }))\n    ) {\n        const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n        throw error;\n    }\n\n    &#x2F;&#x2F; hash password if it was entered\n    if (params.password) {\n        params.password &#x3D; await hash(params.password);\n    }\n\n    const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params });\n\n    return basicDetails(updatedUser);\n}\n\n&#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\nasync function getAll() {\n    const accounts &#x3D; await User.query();\n    return accounts.map((x) &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n    const account &#x3D; await getAccount({ id });\n    return basicDetails(account);\n}\n\n&#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\nasync function _delete(id) {\n    await User.query().deleteById(id);\n}\n\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\nasync function getAccount(param) {\n    const account &#x3D; await User.query()\n        .where({ ...param })\n        .first();\n    return account;\n}\n\nasync function insertUser(params) {\n    const { firstName, lastName, email, password, role, phoneNumber } &#x3D; params;\n\n    &#x2F;&#x2F; hash password and verification token\n    const hashedPassword &#x3D; await hash(password, 10);\n    const verificationToken &#x3D; randomTokenString();\n\n    &#x2F;&#x2F; create account\n    const account &#x3D; await User.query().insert({\n        email,\n        firstName,\n        lastName,\n        password: hashedPassword,\n        phoneNumber,\n        role: role,\n        active: true,\n        isVerified: false,\n        verified: new Date().toISOString(),\n        verificationToken,\n    });\n\n    return basicDetails(account);\n}\n\nasync function hash(password) {\n    return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n    return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n    const {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    } &#x3D; account;\n    return {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    };\n}\n\nasync function sendVerificationEmail(account, origin) {\n    let message;\n    if (origin) {\n        const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n        message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: account.email,\n        subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n        html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;,\n    });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n    let message;\n    if (origin) {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: email,\n        subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n        html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;,\n    });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;15&#x2F;authservice_15139629ee8738726404e916e3a02258.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2229&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 22003,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 22000,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 546,
                    &quot;endOffset&quot;: 944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 946,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1779,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1781,
                    &quot;endOffset&quot;: 2062,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2064,
                    &quot;endOffset&quot;: 2621,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2682,
                    &quot;endOffset&quot;: 2793,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2795,
                    &quot;endOffset&quot;: 2907,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2948,
                    &quot;endOffset&quot;: 3015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccount&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3076,
                    &quot;endOffset&quot;: 3198,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;insertUser&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3200,
                    &quot;endOffset&quot;: 3791,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;hash&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3793,
                    &quot;endOffset&quot;: 3868,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;randomTokenString&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3870,
                    &quot;endOffset&quot;: 3951,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3953,
                    &quot;endOffset&quot;: 4226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendVerificationEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4228,
                    &quot;endOffset&quot;: 4965,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4967,
                    &quot;endOffset&quot;: 5605,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n  static get tableName() {\n    return tableNames.user;\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; User;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiVXNlciIsInRhYmxlTmFtZSIsInVzZXIiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsSUFBTixTQUFtQkosS0FBbkIsQ0FBeUI7QUFDckIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLElBQWxCO0FBQ0g7O0FBSG9COztBQU16Qk4sS0FBSyxDQUFDTyxJQUFOLENBQVdKLEVBQVg7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vZGJcIik7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLnVzZXI7XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n    static get tableName() {\n        return tableNames.user;\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; User;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;65&#x2F;usermodel_65a16864dea2cc43f1cea59fb9ce1a95.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2230&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1454,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1451,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;User&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 224,
                    &quot;endOffset&quot;: 224,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 260,
                    &quot;endOffset&quot;: 309,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  user: \&quot;user\&quot;,\n  address: \&quot;address\&quot;,\n  company: \&quot;company\&quot;,\n  accounts: \&quot;accounts\&quot;,\n  category: \&quot;category\&quot;,\n  menu: \&quot;menu\&quot;,\n  item: \&quot;item\&quot;,\n  order: \&quot;order\&quot;,\n  orderItem: \&quot;orderItem\&quot;,\n  payments: \&quot;payments\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlTmFtZXMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInVzZXIiLCJhZGRyZXNzIiwiY29tcGFueSIsImFjY291bnRzIiwiY2F0ZWdvcnkiLCJtZW51IiwiaXRlbSIsIm9yZGVyIiwib3JkZXJJdGVtIiwicGF5bWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFLE1BRE87QUFFYkMsRUFBQUEsT0FBTyxFQUFFLFNBRkk7QUFHYkMsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYkMsRUFBQUEsUUFBUSxFQUFFLFVBSkc7QUFLYkMsRUFBQUEsUUFBUSxFQUFFLFVBTEc7QUFNYkMsRUFBQUEsSUFBSSxFQUFFLE1BTk87QUFPYkMsRUFBQUEsSUFBSSxFQUFFLE1BUE87QUFRYkMsRUFBQUEsS0FBSyxFQUFFLE9BUk07QUFTYkMsRUFBQUEsU0FBUyxFQUFFLFdBVEU7QUFVYkMsRUFBQUEsUUFBUSxFQUFFO0FBVkcsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB1c2VyOiBcInVzZXJcIixcbiAgICBhZGRyZXNzOiBcImFkZHJlc3NcIixcbiAgICBjb21wYW55OiBcImNvbXBhbnlcIixcbiAgICBhY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgbWVudTogXCJtZW51XCIsXG4gICAgaXRlbTogXCJpdGVtXCIsXG4gICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICBvcmRlckl0ZW06IFwib3JkZXJJdGVtXCIsXG4gICAgcGF5bWVudHM6IFwicGF5bWVudHNcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    user: \&quot;user\&quot;,\n    address: \&quot;address\&quot;,\n    company: \&quot;company\&quot;,\n    accounts: \&quot;accounts\&quot;,\n    category: \&quot;category\&quot;,\n    menu: \&quot;menu\&quot;,\n    item: \&quot;item\&quot;,\n    order: \&quot;order\&quot;,\n    orderItem: \&quot;orderItem\&quot;,\n    payments: \&quot;payments\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;d1&#x2F;tableNames_d158fb35bde4ba2feb47fa73fcd1c0db.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2443&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1435,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1432,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\n\nconst {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\n\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\nconst db &#x3D; Knex(connectionConfig);\nModel.knex(db);\nmodule.exports &#x3D; db;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIktuZXgiLCJyZXF1aXJlIiwiTW9kZWwiLCJrbmV4RmlsZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29ubmVjdGlvbkNvbmZpZyIsImRiIiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQVlELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUVBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixJQUF3QixhQUE1QztBQUNBLE1BQU1DLGdCQUFnQixHQUFHTCxRQUFRLENBQUNDLFdBQUQsQ0FBakM7QUFFQSxNQUFNSyxFQUFFLEdBQUdULElBQUksQ0FBQ1EsZ0JBQUQsQ0FBZjtBQUVBTixLQUFLLENBQUNRLElBQU4sQ0FBV0QsRUFBWDtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJILEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS25leCA9IHJlcXVpcmUoXCJrbmV4XCIpO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcblxuY29uc3Qga25leEZpbGUgPSByZXF1aXJlKFwiLi4va25leGZpbGVcIik7XG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcbmNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSBrbmV4RmlsZVtlbnZpcm9ubWVudF07XG5cbmNvbnN0IGRiID0gS25leChjb25uZWN0aW9uQ29uZmlnKTtcblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\nconst { Model } &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\n\nconst db &#x3D; Knex(connectionConfig);\n\nModel.knex(db);\n\nmodule.exports &#x3D; db;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;06&#x2F;db_061f2ffe7a9d03a98dba0f960ecba1d1.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2444&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1629,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n  test: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB_TEST,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  development: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  production: {\n    client: \&quot;pg\&quot;,\n    connection: process.env.DATABASE_URL,\n    pool: {\n      min: 2,\n      max: 10\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  }\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJkYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19EQl9URVNUIiwidXNlciIsIlBPU1RHUkVTX1VTRVIiLCJwYXNzd29yZCIsIlBPU1RHUkVTX1BBU1NXT1JEIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsIl9fZGlybmFtZSIsInNlZWRzIiwiZGV2ZWxvcG1lbnQiLCJQT1NUR1JFU19EQiIsInByb2R1Y3Rpb24iLCJEQVRBQkFTRV9VUkwiLCJwb29sIiwibWluIiwibWF4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxNQUFNLEVBQUUsSUFETjtBQUVGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFGZDtBQUdSQyxNQUFBQSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxhQUhWO0FBSVJDLE1BQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmQsS0FGVjtBQVFGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUkMsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEZixLQVJWO0FBWUZDLElBQUFBLEtBQUssRUFBRTtBQUNIRixNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURwQjtBQVpMLEdBRE87QUFrQmJFLEVBQUFBLFdBQVcsRUFBRTtBQUNUZCxJQUFBQSxNQUFNLEVBQUUsSUFEQztBQUVUQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxXQUZkO0FBR1JULE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGFBSFY7QUFJUkMsTUFBQUEsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFKZCxLQUZIO0FBUVRDLElBQUFBLFVBQVUsRUFBRTtBQUNSQyxNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURmLEtBUkg7QUFZVEMsSUFBQUEsS0FBSyxFQUFFO0FBQ0hGLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRHBCO0FBWkUsR0FsQkE7QUFtQ2JJLEVBQUFBLFVBQVUsRUFBRTtBQUNSaEIsSUFBQUEsTUFBTSxFQUFFLElBREE7QUFFUkMsSUFBQUEsVUFBVSxFQUFFRSxPQUFPLENBQUNDLEdBQVIsQ0FBWWEsWUFGaEI7QUFHUkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEdBQUcsRUFBRSxDQURIO0FBRUZDLE1BQUFBLEdBQUcsRUFBRTtBQUZILEtBSEU7QUFPUlYsSUFBQUEsVUFBVSxFQUFFO0FBQ1JDLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRGYsS0FQSjtBQVdSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEYsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEcEI7QUFYQztBQW5DQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVwZGF0ZSB3aXRoIHlvdXIgY29uZmlnIHNldHRpbmdzLlxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVzdDoge1xuICAgICAgICBjbGllbnQ6IFwicGdcIixcbiAgICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICAgICAgLy8gaG9zdDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQl9URVNULFxuICAgICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVNFUixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QT1NUR1JFU19QQVNTV09SRCxcbiAgICAgICAgfSxcbiAgICAgICAgbWlncmF0aW9uczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9taWdyYXRpb25zXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VlZHM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvc2VlZHNcIixcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgZGV2ZWxvcG1lbnQ6IHtcbiAgICAgICAgY2xpZW50OiBcInBnXCIsXG4gICAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGhvc3Q6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIsXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VU0VSLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgICBtaWdyYXRpb25zOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL21pZ3JhdGlvbnNcIixcbiAgICAgICAgfSxcblxuICAgICAgICBzZWVkczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9zZWVkc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIGNsaWVudDogXCJwZ1wiLFxuICAgICAgICBjb25uZWN0aW9uOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICAgIG1pbjogMixcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvbWlncmF0aW9uc1wiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHNlZWRzOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL3NlZWRzXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n    test: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB_TEST,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    development: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    production: {\n        client: \&quot;pg\&quot;,\n        connection: process.env.DATABASE_URL,\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e2&#x2F;knexfile_e268b34e213dcf9ff4bbc9c1fff3199f.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2676&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4994,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4991,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n  return new Promise((resolve, reject) &#x3D;&gt; {\n    jwt.sign(payload, process.env.JWT_SECRET, {\n      expiresIn: \&quot;3h\&quot;\n    }, (error, token) &#x3D;&gt; {\n      if (error) return reject(error);\n      return resolve(token);\n    });\n  });\n}\n\nmodule.exports &#x3D; {\n  sign\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2lnbiIsInBheWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJ0b2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBRUEsU0FBU0MsSUFBVCxDQUFjQyxPQUFkLEVBQXVCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwQ04sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQ0lDLE9BREosRUFFSUksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmhCLEVBR0k7QUFDSUMsTUFBQUEsU0FBUyxFQUFFO0FBRGYsS0FISixFQU1JLENBQUNDLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUNkLFVBQUlELEtBQUosRUFBVyxPQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYjtBQUNYLGFBQU9OLE9BQU8sQ0FBQ08sS0FBRCxDQUFkO0FBQ0gsS0FUTDtBQVdILEdBWk0sQ0FBUDtBQWFIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlosRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGp3dC5zaWduKFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjNoXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWduLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n    return new Promise((resolve, reject) &#x3D;&gt; {\n        jwt.sign(\n            payload,\n            process.env.JWT_SECRET,\n            {\n                expiresIn: \&quot;3h\&quot;,\n            },\n            (error, token) &#x3D;&gt; {\n                if (error) return reject(error);\n                return resolve(token);\n            }\n        );\n    });\n}\n\nmodule.exports &#x3D; {\n    sign,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;a2&#x2F;jwt_a2ecd03f3666d6bdf618e5bb010e6f13.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2728&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1961,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sign&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 127,
                    &quot;endOffset&quot;: 376,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\n\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({\n  to,\n  subject,\n  html,\n  from &#x3D; config[\&quot;emailFrom\&quot;]\n}) {\n  const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n  await transporter.sendMail({\n    from,\n    to,\n    subject,\n    html\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJmcm9tIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxTQUFqQjs7QUFFQSxlQUFlQSxTQUFmLENBQXlCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsT0FBTjtBQUFlQyxFQUFBQSxJQUFmO0FBQXFCQyxFQUFBQSxJQUFJLEdBQUdQLE1BQU0sQ0FBQyxXQUFEO0FBQWxDLENBQXpCLEVBQTRFO0FBQ3hFLFFBQU1RLFdBQVcsR0FBR1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCVCxNQUFNLENBQUMsYUFBRCxDQUFqQyxDQUFwQjtBQUNBLFFBQU1RLFdBQVcsQ0FBQ0UsUUFBWixDQUFxQjtBQUFFSCxJQUFBQSxJQUFGO0FBQVFILElBQUFBLEVBQVI7QUFBWUMsSUFBQUEsT0FBWjtBQUFxQkMsSUFBQUE7QUFBckIsR0FBckIsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRFbWFpbDtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwsIGZyb20gPSBjb25maWdbXCJlbWFpbEZyb21cIl0gfSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoY29uZmlnW1wic210cE9wdGlvbnNcIl0pO1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHsgZnJvbSwgdG8sIHN1YmplY3QsIGh0bWwgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({ to, subject, html, from &#x3D; config[\&quot;emailFrom\&quot;] }) {\n    const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n    await transporter.sendMail({ from, to, subject, html });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;email_4444491566e111edc26f59e95bae5b33.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2819&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1859,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1856,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 204,
                    &quot;endOffset&quot;: 441,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n  auth,\n  isOwner\n};\n\nfunction auth(roles &#x3D; []) {\n  if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n    roles &#x3D; [roles];\n  }\n\n  return async (req, res, next) &#x3D;&gt; {\n    let token;\n\n    if (req.headers.authorization &amp;&amp; req.headers.authorization.startsWith(\&quot;Bearer \&quot;)) {\n      token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n    } else {\n      return res.status(403).json({\n        message: \&quot;Token not found, access denied\&quot;\n      });\n    } &#x2F;&#x2F; verify token and account\n\n\n    try {\n      const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n      const user &#x3D; await User.query().where({\n        id: decodedToken.id\n      }).first();\n\n      if (!user || roles.length &amp;&amp; !roles.includes(decodedToken.role)) {\n        &#x2F;&#x2F; account does not exist or role not authorized\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      } &#x2F;&#x2F; authentication and authorization successful\n\n\n      req.user &#x3D; decodedToken;\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nfunction isOwner() {\n  return async (req, res, next) &#x3D;&gt; {\n    try {\n      const bool &#x3D; await Company.query().where({\n        owner_id: req.user.id,\n        id: req.params.company_id\n      }).first();\n\n      if (!bool) {\n        console.log(bool);\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      }\n\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIlVzZXIiLCJDb21wYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsImF1dGgiLCJpc093bmVyIiwicm9sZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZFRva2VuIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwicXVlcnkiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInJvbGUiLCJlcnJvciIsImJvb2wiLCJvd25lcl9pZCIsInBhcmFtcyIsImNvbXBhbnlfaWQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLHdCQUFELENBQXBCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFEYTtBQUViQyxFQUFBQTtBQUZhLENBQWpCOztBQUtBLFNBQVNELElBQVQsQ0FBY0UsS0FBSyxHQUFHLEVBQXRCLEVBQTBCO0FBQ3RCLE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkEsSUFBQUEsS0FBSyxHQUFHLENBQUNBLEtBQUQsQ0FBUjtBQUNIOztBQUVELFNBQU8sT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJQyxLQUFKOztBQUNBLFFBQ0lILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLElBQ0FMLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxVQUExQixDQUFxQyxTQUFyQyxDQUZKLEVBR0U7QUFDRUgsTUFBQUEsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBWixDQUEwQkUsS0FBMUIsQ0FBZ0MsU0FBaEMsRUFBMkMsQ0FBM0MsQ0FBUjtBQUNILEtBTEQsTUFLTztBQUNILGFBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQyxRQUFBQSxPQUFPLEVBQUU7QUFEZSxPQUFyQixDQUFQO0FBR0gsS0FYNEIsQ0FhN0I7OztBQUNBLFFBQUk7QUFDQSxZQUFNQyxZQUFZLEdBQUdwQixHQUFHLENBQUNxQixNQUFKLENBQVdULEtBQVgsRUFBa0JVLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFyQjtBQUVBLFlBQU1DLElBQUksR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsS0FBTCxHQUNkQyxLQURjLENBQ1I7QUFBRUMsUUFBQUEsRUFBRSxFQUFFUixZQUFZLENBQUNRO0FBQW5CLE9BRFEsRUFFZEMsS0FGYyxFQUFuQjs7QUFJQSxVQUFJLENBQUNKLElBQUQsSUFBVWpCLEtBQUssQ0FBQ3NCLE1BQU4sSUFBZ0IsQ0FBQ3RCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZVgsWUFBWSxDQUFDWSxJQUE1QixDQUEvQixFQUFtRTtBQUMvRDtBQUNBLGVBQU90QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0gsT0FWRCxDQVlBOzs7QUFDQVYsTUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixHQUFXTCxZQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDUCxLQWZELENBZUUsT0FBT3NCLEtBQVAsRUFBYztBQUNadEIsTUFBQUEsSUFBSSxDQUFDc0IsS0FBRCxDQUFKO0FBQ0g7QUFDSixHQWhDRDtBQWlDSDs7QUFFRCxTQUFTMUIsT0FBVCxHQUFtQjtBQUNmLFNBQU8sT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJO0FBQ0EsWUFBTXVCLElBQUksR0FBRyxNQUFNL0IsT0FBTyxDQUFDdUIsS0FBUixHQUNkQyxLQURjLENBQ1I7QUFDSFEsUUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTRyxFQURoQjtBQUVIQSxRQUFBQSxFQUFFLEVBQUVuQixHQUFHLENBQUMyQixNQUFKLENBQVdDO0FBRlosT0FEUSxFQUtkUixLQUxjLEVBQW5COztBQU9BLFVBQUksQ0FBQ0ssSUFBTCxFQUFXO0FBQ1BJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxJQUFaO0FBQ0EsZUFBT3hCLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCLENBQVA7QUFDSDs7QUFDRFIsTUFBQUEsSUFBSTtBQUNQLEtBYkQsQ0FhRSxPQUFPc0IsS0FBUCxFQUFjO0FBQ1p0QixNQUFBQSxJQUFJLENBQUNzQixLQUFELENBQUo7QUFDSDtBQUNKLEdBakJEO0FBa0JIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vYXBpL3VzZXIvdXNlci5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vYXBpL2NvbXBhbnkvY29tcGFueS5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aCxcbiAgICBpc093bmVyLFxufTtcblxuZnVuY3Rpb24gYXV0aChyb2xlcyA9IFtdKSB7XG4gICAgaWYgKHR5cGVvZiByb2xlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByb2xlcyA9IFtyb2xlc107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3RhcnRzV2l0aChcIkJlYXJlciBcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCJCZWFyZXIgXCIpWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIG5vdCBmb3VuZCwgYWNjZXNzIGRlbmllZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgdG9rZW4gYW5kIGFjY291bnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgKHJvbGVzLmxlbmd0aCAmJiAhcm9sZXMuaW5jbHVkZXMoZGVjb2RlZFRva2VuLnJvbGUpKSkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb3Igcm9sZSBub3QgYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZFRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc093bmVyKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogcmVxLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiByZXEucGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9vbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n    auth,\n    isOwner,\n};\n\nfunction auth(roles &#x3D; []) {\n    if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n        roles &#x3D; [roles];\n    }\n\n    return async (req, res, next) &#x3D;&gt; {\n        let token;\n        if (\n            req.headers.authorization &amp;&amp;\n            req.headers.authorization.startsWith(\&quot;Bearer \&quot;)\n        ) {\n            token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n        } else {\n            return res.status(403).json({\n                message: \&quot;Token not found, access denied\&quot;,\n            });\n        }\n\n        &#x2F;&#x2F; verify token and account\n        try {\n            const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n\n            const user &#x3D; await User.query()\n                .where({ id: decodedToken.id })\n                .first();\n\n            if (!user || (roles.length &amp;&amp; !roles.includes(decodedToken.role))) {\n                &#x2F;&#x2F; account does not exist or role not authorized\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            &#x2F;&#x2F; authentication and authorization successful\n            req.user &#x3D; decodedToken;\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n\nfunction isOwner() {\n    return async (req, res, next) &#x3D;&gt; {\n        try {\n            const bool &#x3D; await Company.query()\n                .where({\n                    owner_id: req.user.id,\n                    id: req.params.company_id,\n                })\n                .first();\n\n            if (!bool) {\n                console.log(bool);\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;be&#x2F;auth_bef81972d508eee6f0010ea0d7e5ae1e.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2853&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7428,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7425,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;auth&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 275,
                    &quot;endOffset&quot;: 1253,
                    &quot;count&quot;: 28
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 1250,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1255,
                    &quot;endOffset&quot;: 1662,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1285,
                    &quot;endOffset&quot;: 1659,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n  static get tableName() {\n    return tableNames.company;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n\n    const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n    return {\n      owner: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.company}.owner_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      accounts: {\n        relation: Model.HasManyRelation,\n        modelClass: Account,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.accounts}.company_id&#x60;\n        }\n      },\n      menus: {\n        relation: Model.HasManyRelation,\n        modelClass: Menu,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.menu}.company_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports &#x3D; Company;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsInNjaGVtYSIsIkNvbXBhbnkiLCJ0YWJsZU5hbWUiLCJjb21wYW55IiwianNvblNjaGVtYSIsInJlbGF0aW9uTWFwcGluZ3MiLCJVc2VyIiwiQWNjb3VudCIsIk1lbnUiLCJvd25lciIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsInVzZXIiLCJhY2NvdW50cyIsIkhhc01hbnlSZWxhdGlvbiIsIm1lbnVzIiwibWVudSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxPQUFOLFNBQXNCSixLQUF0QixDQUE0QjtBQUN4QixhQUFXSyxTQUFYLEdBQXVCO0FBQ25CLFdBQU9ILFVBQVUsQ0FBQ0ksT0FBbEI7QUFDSDs7QUFFRCxhQUFXQyxVQUFYLEdBQXdCO0FBQ3BCLFdBQU9KLE1BQVA7QUFDSDs7QUFFRCxhQUFXSyxnQkFBWCxHQUE4QjtBQUMxQjtBQUNBLFVBQU1DLElBQUksR0FBR1IsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLFVBQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLDJCQUFELENBQXZCOztBQUNBLFVBQU1VLElBQUksR0FBR1YsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUVBLFdBQU87QUFDSFcsTUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFFBQUFBLFFBQVEsRUFBRWIsS0FBSyxDQUFDYyxvQkFEYjtBQUVIQyxRQUFBQSxVQUFVLEVBQUVOLElBRlQ7QUFHSE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZixVQUFVLENBQUNJLE9BQVEsV0FEMUI7QUFFRlksVUFBQUEsRUFBRSxFQUFHLEdBQUVoQixVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEgsT0FESjtBQVNIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURWO0FBRU5OLFFBQUFBLFVBQVUsRUFBRUwsT0FGTjtBQUdOTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ2tCLFFBQVM7QUFGekI7QUFIQSxPQVRQO0FBaUJIRSxNQUFBQSxLQUFLLEVBQUU7QUFDSFQsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURiO0FBRUhOLFFBQUFBLFVBQVUsRUFBRUosSUFGVDtBQUdISyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ3FCLElBQUs7QUFGckI7QUFISDtBQWpCSixLQUFQO0FBMEJIOztBQXpDdUI7O0FBNEM1QkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkuc2NoZW1hLmpzb25cIik7XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLmNvbXBhbnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IHJlcXVpcmUoXCIuL2FjY291bnRzL2FjY291bnRzLm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvd25lcjoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBVc2VyLFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5vd25lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY291bnRzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBBY2NvdW50LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmFjY291bnRzfS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBNZW51LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLm1lbnV9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wYW55O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n    static get tableName() {\n        return tableNames.company;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n        const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n        const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n        return {\n            owner: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.company}.owner_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            accounts: {\n                relation: Model.HasManyRelation,\n                modelClass: Account,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.accounts}.company_id&#x60;,\n                },\n            },\n            menus: {\n                relation: Model.HasManyRelation,\n                modelClass: Menu,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.menu}.company_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nmodule.exports &#x3D; Company;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8b&#x2F;companymodel_8b713279ce3af8b604431fcbf24964b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2854&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5514,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5511,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Company&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 241,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 280,
                    &quot;endOffset&quot;: 332,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 343,
                    &quot;endOffset&quot;: 384,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 395,
                    &quot;endOffset&quot;: 1298,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  admin: \&quot;admin\&quot;,\n  owner: \&quot;owner\&quot;,\n  customer: \&quot;customer\&quot;,\n  staff: \&quot;staff\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFkbWluIiwib3duZXIiLCJjdXN0b21lciIsInN0YWZmIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLEtBQUssRUFBRSxPQURNO0FBRWJDLEVBQUFBLEtBQUssRUFBRSxPQUZNO0FBR2JDLEVBQUFBLFFBQVEsRUFBRSxVQUhHO0FBSWJDLEVBQUFBLEtBQUssRUFBRTtBQUpNLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRtaW46IFwiYWRtaW5cIixcbiAgICBvd25lcjogXCJvd25lclwiLFxuICAgIGN1c3RvbWVyOiBcImN1c3RvbWVyXCIsXG4gICAgc3RhZmY6IFwic3RhZmZcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    admin: \&quot;admin\&quot;,\n    owner: \&quot;owner\&quot;,\n    customer: \&quot;customer\&quot;,\n    staff: \&quot;staff\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;c3&#x2F;role_c386996d0c7428ed82a7fa0a3ec37236.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2855&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 789,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 786,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\n\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  scopedItems\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\n\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\n\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\n\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.owner_id &#x3D; req.user.id;\n  companyService.create(req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n  companyService.getAllCompanies().then(companies &#x3D;&gt; {\n    res.json(scopedItems(req.user, companies));\n  }).catch(next);\n}\n\nfunction getMyCompanies(req, res, next) {\n  companyService.getMyCompanies(req.user.id).then(companies &#x3D;&gt; companies ? res.json(companies) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyById(req, res, next) {\n  &#x2F;&#x2F; owner can get his company and the admin can get any company\n  companyService.getCompanyById(req.params.id).then(company &#x3D;&gt; {\n    if (company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    res.json(company);\n  }).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company\n  companyService.updateCompany({\n    id: req.params.id,\n    owner_id: req.user.id\n  }, req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company\n  companyService._delete({\n    id: parseInt(req.params.id),\n    owner_id: req.user.id\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: parseInt(req.params.id)\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiY29tcGFueVNlcnZpY2UiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJzY29wZWRJdGVtcyIsIkFjY291bnQiLCJNZW51IiwiT3JkZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsInBhdGNoIiwidXBkYXRlIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRNeUNvbXBhbmllcyIsImdldENvbXBhbnlCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZUNvbXBhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJvd25lcl9pZCIsInVzZXIiLCJpZCIsInRoZW4iLCJjb21wYW55IiwianNvbiIsImNhdGNoIiwiY29tcGFuaWVzIiwic2VuZFN0YXR1cyIsInBhcmFtcyIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQ29tcGFueSIsIl9kZWxldGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsc0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVPLEVBQUFBO0FBQUYsSUFBa0JQLE9BQU8sQ0FBQyx5QkFBRCxDQUEvQjs7QUFF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QURMLENBQ2E7QUFBRVosSUFBQUEsRUFBRSxFQUFFYSxRQUFRLENBQUNuQixHQUFHLENBQUNhLE1BQUosQ0FBV1AsRUFBWixDQUFkO0FBQStCRixJQUFBQSxRQUFRLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQztBQUFsRCxHQURiLEVBRUtDLElBRkwsQ0FFVSxNQUFNO0FBQ1JOLElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixDQUFTO0FBQUVILE1BQUFBLEVBQUUsRUFBRWEsUUFBUSxDQUFDbkIsR0FBRyxDQUFDYSxNQUFKLENBQVdQLEVBQVo7QUFBZCxLQUFUO0FBQ0gsR0FKTCxFQUtLSSxLQUxMLENBS1dSLElBTFg7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY29tcGFueS5zZXJ2aWNlXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCB7IHNjb3BlZEl0ZW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcGVybWlzc2lvbnNcIik7XG5cbmNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy9hY2NvdW50cy5yb3V0ZXNcIik7XG5jb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51LnJvdXRlc1wiKTtcbmNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4vb3JkZXIvb3JkZXIucm91dGVzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnkvMS9hY2NvdW50c1xucm91dGVyLnVzZShcIi86Y29tcGFueV9pZC9hY2NvdW50c1wiLCBBY2NvdW50KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvbWVudVwiLCBNZW51KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvb3JkZXJcIiwgT3JkZXIpO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmdldChcIi9cIiwgQXV0aChbUm9sZS5hZG1pbl0pLCBnZXRBbGxDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi9taW5lXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgZ2V0TXlDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aChbUm9sZS5hZG1pbiwgUm9sZS5vd25lcl0pLCBnZXRDb21wYW55QnlJZCk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLmFkbWluLCBSb2xlLm93bmVyXSksIF9kZWxldGVDb21wYW55KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5Lm93bmVyX2lkID0gcmVxLnVzZXIuaWQ7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGxDb21wYW5pZXMoKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihzY29wZWRJdGVtcyhyZXEudXNlciwgY29tcGFuaWVzKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldE15Q29tcGFuaWVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldE15Q29tcGFuaWVzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PlxuICAgICAgICAgICAgY29tcGFuaWVzID8gcmVzLmpzb24oY29tcGFuaWVzKSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb21wYW55QnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG93bmVyIGNhbiBnZXQgaGlzIGNvbXBhbnkgYW5kIHRoZSBhZG1pbiBjYW4gZ2V0IGFueSBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY29tcGFueS5vd25lcl9pZCAhPT0gcmVxLnVzZXIuaWQgJiZcbiAgICAgICAgICAgICAgICByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMuanNvbihjb21wYW55KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueVxuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVDb21wYW55KHsgaWQ6IHJlcS5wYXJhbXMuaWQsIG93bmVyX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDb21wYW55KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLl9kZWxldGUoeyBpZDogcGFyc2VJbnQocmVxLnBhcmFtcy5pZCksIG93bmVyX2lkOiByZXEudXNlci5pZCB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IGlkOiBwYXJzZUludChyZXEucGFyYW1zLmlkKSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { scopedItems } &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.owner_id &#x3D; req.user.id;\n    companyService\n        .create(req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n    companyService\n        .getAllCompanies()\n        .then((companies) &#x3D;&gt; {\n            res.json(scopedItems(req.user, companies));\n        })\n        .catch(next);\n}\nfunction getMyCompanies(req, res, next) {\n    companyService\n        .getMyCompanies(req.user.id)\n        .then((companies) &#x3D;&gt;\n            companies ? res.json(companies) : res.sendStatus(404)\n        )\n        .catch(next);\n}\nfunction getCompanyById(req, res, next) {\n    &#x2F;&#x2F; owner can get his company and the admin can get any company\n    companyService\n        .getCompanyById(req.params.id)\n        .then((company) &#x3D;&gt; {\n            if (\n                company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp;\n                req.user.role !&#x3D;&#x3D; Role.admin\n            ) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            res.json(company);\n        })\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company\n    companyService\n        .updateCompany({ id: req.params.id, owner_id: req.user.id }, req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company\n    companyService\n        ._delete({ id: parseInt(req.params.id), owner_id: req.user.id })\n        .then(() &#x3D;&gt; {\n            res.json({ id: parseInt(req.params.id) });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2a&#x2F;companyroutes_2accae81b914ebc49b8ad824faf130cd.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2856&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 11663,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 11660,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1186,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1340,
                    &quot;endOffset&quot;: 1505,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1507,
                    &quot;endOffset&quot;: 1681,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1683,
                    &quot;endOffset&quot;: 2058,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2281,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2283,
                    &quot;endOffset&quot;: 2553,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    logo_url: Joi.string(),\n    website_url: Joi.string(),\n    email: Joi.string().email().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    owner: Joi.number().empty(\&quot;\&quot;),\n    logo_url: Joi.string().empty(\&quot;\&quot;),\n    website_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsImxvZ29fdXJsIiwid2Vic2l0ZV91cmwiLCJlbWFpbCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiLCJvd25lciIsIm51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsUUFBUSxFQUFFZCxHQUFHLENBQUNXLE1BQUosRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosRUFKUztBQUt0QkssSUFBQUEsS0FBSyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFLLEtBQWIsR0FBcUJKLFFBQXJCO0FBTGUsR0FBWCxDQUFmO0FBT0FWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQ7O0FBV0FMLE9BQU8sQ0FBQ2MsWUFBUixHQUF1QixDQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNVyxXQUFXLEdBQUc7QUFDaEJSLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQk4sSUFBQUEsV0FBVyxFQUFFYixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQixDQUZHO0FBR2hCSCxJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYUssS0FBYixHQUFxQkcsS0FBckIsQ0FBMkIsRUFBM0IsQ0FIUztBQUloQkMsSUFBQUEsS0FBSyxFQUFFcEIsR0FBRyxDQUFDcUIsTUFBSixHQUFhRixLQUFiLENBQW1CLEVBQW5CLENBSlM7QUFLaEJMLElBQUFBLFFBQVEsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FMTTtBQU1oQkosSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQjtBQU5HLEdBQXBCO0FBU0EsUUFBTVgsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV1MsV0FBWCxDQUFmO0FBRUFoQixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQWJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBsb2dvX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICB3ZWJzaXRlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIG93bmVyOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGxvZ29fdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIHdlYnNpdGVfdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        logo_url: Joi.string(),\n        website_url: Joi.string(),\n        email: Joi.string().email().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        owner: Joi.number().empty(\&quot;\&quot;),\n        logo_url: Joi.string().empty(\&quot;\&quot;),\n        website_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;3c&#x2F;companyvalidators_3ce01f397e22205413767a4933ebdfd8.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2857&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4153,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4150,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 489,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 515,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n  create,\n  updateCompany,\n  getAllCompanies,\n  getMyCompanies,\n  getCompanyById,\n  _delete\n};\n\nasync function create(params) {\n  &#x2F;&#x2F; validate if company name exists\n  if (await getCompany({\n    name: params.name\n  })) {\n    error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n  }\n\n  const company &#x3D; await Company.query().insert(params);\n  return company;\n}\n\nasync function updateCompany(queryParams, params) {\n  const company &#x3D; await getCompany({ ...queryParams\n  });\n\n  if (!company) {\n    error(\&quot;Unauthorized\&quot;);\n  } &#x2F;&#x2F; validate if name was changed\n\n\n  if (params.name &amp;&amp; company.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCompany({\n    name: params.name\n  }))) {\n    error(&#x60;Name ${params.name} is already taken&#x60;);\n  }\n\n  const updatedCompany &#x3D; await Company.query().patchAndFetchById(queryParams.id, { ...params\n  });\n  return updatedCompany;\n}\n\nasync function getAllCompanies() {\n  const companies &#x3D; await Company.query();\n  return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n  const companies &#x3D; await Company.query().where({\n    owner_id: ownerId\n  });\n  return companies;\n}\n\nasync function getCompanyById(id) {\n  const company &#x3D; await getCompany({\n    id\n  });\n  return company;\n}\n\nasync function _delete(queryParams) {\n  const tobeDeleted &#x3D; await getCompany(queryParams);\n\n  if (tobeDeleted) {\n    return await Company.query().delete().where({ ...queryParams\n    });\n  }\n\n  return error(\&quot;Forbidden\&quot;);\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCompany(param) {\n  const company &#x3D; await Company.query().where({ ...param\n  }).first();\n  return company;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDb21wYW55IiwicmVxdWlyZSIsImVycm9yIiwiY3JlYXRlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlIiwidXBkYXRlQ29tcGFueSIsImdldEFsbENvbXBhbmllcyIsImdldE15Q29tcGFuaWVzIiwiZ2V0Q29tcGFueUJ5SWQiLCJfZGVsZXRlIiwicGFyYW1zIiwiZ2V0Q29tcGFueSIsIm5hbWUiLCJjb21wYW55IiwicXVlcnkiLCJpbnNlcnQiLCJxdWVyeVBhcmFtcyIsInVwZGF0ZWRDb21wYW55IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJpZCIsImNvbXBhbmllcyIsIm93bmVySWQiLCJ3aGVyZSIsIm93bmVyX2lkIiwidG9iZURlbGV0ZWQiLCJkZWxldGUiLCJwYXJhbSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUFyQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxhQUZhO0FBR2JDLEVBQUFBLGVBSGE7QUFJYkMsRUFBQUEsY0FKYTtBQUtiQyxFQUFBQSxjQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsTUFBZixDQUFzQk0sTUFBdEIsRUFBOEI7QUFDMUI7QUFDQSxNQUFJLE1BQU1DLFVBQVUsQ0FBQztBQUFFQyxJQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0U7QUFBZixHQUFELENBQXBCLEVBQTZDO0FBQ3pDWixJQUFBQSxLQUFLLENBQUMsV0FBV1UsTUFBTSxDQUFDRSxJQUFsQixHQUF5Qix5QkFBMUIsQ0FBTDtBQUNIOztBQUVELFFBQU1DLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQWdCQyxNQUFoQixDQUF1QkwsTUFBdkIsQ0FBdEI7QUFDQSxTQUFPRyxPQUFQO0FBQ0g7O0FBRUQsZUFBZVIsYUFBZixDQUE2QlcsV0FBN0IsRUFBMENOLE1BQTFDLEVBQWtEO0FBQzlDLFFBQU1HLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUMsRUFBRSxHQUFHSztBQUFMLEdBQUQsQ0FBaEM7O0FBRUEsTUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVmIsSUFBQUEsS0FBSyxDQUFDLGNBQUQsQ0FBTDtBQUNILEdBTDZDLENBTzlDOzs7QUFDQSxNQUNJVSxNQUFNLENBQUNFLElBQVAsSUFDQUMsT0FBTyxDQUFDRCxJQUFSLEtBQWlCRixNQUFNLENBQUNFLElBRHhCLEtBRUMsTUFBTUQsVUFBVSxDQUFDO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBTSxDQUFDRTtBQUFmLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0VaLElBQUFBLEtBQUssQ0FBRSxRQUFPVSxNQUFNLENBQUNFLElBQUssbUJBQXJCLENBQUw7QUFDSDs7QUFFRCxRQUFNSyxjQUFjLEdBQUcsTUFBTW5CLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JJLGlCQUFoQixDQUN6QkYsV0FBVyxDQUFDRyxFQURhLEVBRXpCLEVBQ0ksR0FBR1Q7QUFEUCxHQUZ5QixDQUE3QjtBQU9BLFNBQU9PLGNBQVA7QUFDSDs7QUFFRCxlQUFlWCxlQUFmLEdBQWlDO0FBQzdCLFFBQU1jLFNBQVMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDZ0IsS0FBUixFQUF4QjtBQUNBLFNBQU9NLFNBQVA7QUFDSDs7QUFFRCxlQUFlYixjQUFmLENBQThCYyxPQUE5QixFQUF1QztBQUNuQyxRQUFNRCxTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JRLEtBQWhCLENBQXNCO0FBQzFDQyxJQUFBQSxRQUFRLEVBQUVGO0FBRGdDLEdBQXRCLENBQXhCO0FBR0EsU0FBT0QsU0FBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsQ0FBOEJXLEVBQTlCLEVBQWtDO0FBQzlCLFFBQU1OLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUM7QUFBRVEsSUFBQUE7QUFBRixHQUFELENBQWhDO0FBQ0EsU0FBT04sT0FBUDtBQUNIOztBQUVELGVBQWVKLE9BQWYsQ0FBdUJPLFdBQXZCLEVBQW9DO0FBQ2hDLFFBQU1RLFdBQVcsR0FBRyxNQUFNYixVQUFVLENBQUNLLFdBQUQsQ0FBcEM7O0FBRUEsTUFBSVEsV0FBSixFQUFpQjtBQUNiLFdBQU8sTUFBTTFCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FDUlcsTUFEUSxHQUVSSCxLQUZRLENBRUYsRUFBRSxHQUFHTjtBQUFMLEtBRkUsQ0FBYjtBQUdIOztBQUVELFNBQU9oQixLQUFLLENBQUMsV0FBRCxDQUFaO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUVBLGVBQWVXLFVBQWYsQ0FBMEJlLEtBQTFCLEVBQWlDO0FBQzdCLFFBQU1iLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQ2pCUSxLQURpQixDQUNYLEVBQUUsR0FBR0k7QUFBTCxHQURXLEVBRWpCQyxLQUZpQixFQUF0QjtBQUdBLFNBQU9kLE9BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5jb25zdCBjcmVhdGVFcnJvciA9IHJlcXVpcmUoXCJodHRwLWVycm9yc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUNvbXBhbnksXG4gICAgZ2V0QWxsQ29tcGFuaWVzLFxuICAgIGdldE15Q29tcGFuaWVzLFxuICAgIGdldENvbXBhbnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGUgaWYgY29tcGFueSBuYW1lIGV4aXN0c1xuICAgIGlmIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpIHtcbiAgICAgICAgZXJyb3IoJ05hbWUgXCInICsgcGFyYW1zLm5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcGFueShxdWVyeVBhcmFtcywgcGFyYW1zKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyAuLi5xdWVyeVBhcmFtcyB9KTtcblxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgICBlcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBpZiBuYW1lIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjb21wYW55Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBOYW1lICR7cGFyYW1zLm5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChcbiAgICAgICAgcXVlcnlQYXJhbXMuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gdXBkYXRlZENvbXBhbnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHtcbiAgICBjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNvbXBhbmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TXlDb21wYW5pZXMob3duZXJJZCkge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS53aGVyZSh7XG4gICAgICAgIG93bmVyX2lkOiBvd25lcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBjb21wYW5pZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyBpZCB9KTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGNvbnN0IHRvYmVEZWxldGVkID0gYXdhaXQgZ2V0Q29tcGFueShxdWVyeVBhcmFtcyk7XG5cbiAgICBpZiAodG9iZURlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvbXBhbnkucXVlcnkoKVxuICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAud2hlcmUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3IoXCJGb3JiaWRkZW5cIik7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIF9zb2Z0RGVsZXRlKGlkKSB7XG4vL21hcmsgYXMgaW5hY3RpdmVcbi8vICBhd2FpdCBDb21wYW55LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnkocGFyYW0pIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBjb21wYW55O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n    create,\n    updateCompany,\n    getAllCompanies,\n    getMyCompanies,\n    getCompanyById,\n    _delete,\n};\n\nasync function create(params) {\n    &#x2F;&#x2F; validate if company name exists\n    if (await getCompany({ name: params.name })) {\n        error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n    }\n\n    const company &#x3D; await Company.query().insert(params);\n    return company;\n}\n\nasync function updateCompany(queryParams, params) {\n    const company &#x3D; await getCompany({ ...queryParams });\n\n    if (!company) {\n        error(\&quot;Unauthorized\&quot;);\n    }\n\n    &#x2F;&#x2F; validate if name was changed\n    if (\n        params.name &amp;&amp;\n        company.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCompany({ name: params.name }))\n    ) {\n        error(&#x60;Name ${params.name} is already taken&#x60;);\n    }\n\n    const updatedCompany &#x3D; await Company.query().patchAndFetchById(\n        queryParams.id,\n        {\n            ...params,\n        }\n    );\n\n    return updatedCompany;\n}\n\nasync function getAllCompanies() {\n    const companies &#x3D; await Company.query();\n    return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n    const companies &#x3D; await Company.query().where({\n        owner_id: ownerId,\n    });\n    return companies;\n}\n\nasync function getCompanyById(id) {\n    const company &#x3D; await getCompany({ id });\n    return company;\n}\n\nasync function _delete(queryParams) {\n    const tobeDeleted &#x3D; await getCompany(queryParams);\n\n    if (tobeDeleted) {\n        return await Company.query()\n            .delete()\n            .where({ ...queryParams });\n    }\n\n    return error(\&quot;Forbidden\&quot;);\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCompany(param) {\n    const company &#x3D; await Company.query()\n        .where({ ...param })\n        .first();\n    return company;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;10&#x2F;companyservice_103976749abb46712c9f5147304425bb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2858&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7967,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 615,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 617,
                    &quot;endOffset&quot;: 1096,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1098,
                    &quot;endOffset&quot;: 1197,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1199,
                    &quot;endOffset&quot;: 1339,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1341,
                    &quot;endOffset&quot;: 1446,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1448,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1808,
                    &quot;endOffset&quot;: 1933,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; message &#x3D;&gt; {\n  const error &#x3D; new Error(message);\n  throw error;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsT0FBRCxJQUFhO0FBQzFCLFFBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLE9BQVYsQ0FBZDtBQUNBLFFBQU1DLEtBQU47QUFDSCxDQUhEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; (message) &#x3D;&gt; {\n    const error &#x3D; new Error(message);\n    throw error;\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;fa&#x2F;error_fa67f28dedb39797d87045fcac49c533.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2859&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 690,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 687,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 106,
                    &quot;endOffset&quot;: 171,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n  if (user.role &#x3D;&#x3D; role.admin) return items;\n  return items.filter(item &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n  scopedItems\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb25zLmpzIl0sIm5hbWVzIjpbInJvbGUiLCJyZXF1aXJlIiwic2NvcGVkSXRlbXMiLCJ1c2VyIiwiaXRlbXMiLCJhZG1pbiIsImZpbHRlciIsIml0ZW0iLCJvd25lcl9pZCIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsTUFBSUQsSUFBSSxDQUFDSCxJQUFMLElBQWFBLElBQUksQ0FBQ0ssS0FBdEIsRUFBNkIsT0FBT0QsS0FBUDtBQUM3QixTQUFPQSxLQUFLLENBQUNFLE1BQU4sQ0FBY0MsSUFBRCxJQUFVQSxJQUFJLENBQUNDLFFBQUwsSUFBaUJMLElBQUksQ0FBQ00sRUFBN0MsQ0FBUDtBQUNIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlQsRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvbGUgPSByZXF1aXJlKFwiLi9yb2xlXCIpO1xuXG5mdW5jdGlvbiBzY29wZWRJdGVtcyh1c2VyLCBpdGVtcykge1xuICAgIGlmICh1c2VyLnJvbGUgPT0gcm9sZS5hZG1pbikgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ub3duZXJfaWQgPT0gdXNlci5pZCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNjb3BlZEl0ZW1zLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n    if (user.role &#x3D;&#x3D; role.admin) return items;\n    return items.filter((item) &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n    scopedItems,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;08&#x2F;permissions_089e905c4105820f9841c9d528f11f86.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2862&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1344,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1341,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;scopedItems&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 122,
                    &quot;endOffset&quot;: 261,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n  mergeParams: true\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n  try {\n    &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n    &#x2F;&#x2F; }\n    const accounts &#x3D; await Account.query().where({\n      company_id: req.params.company_id\n    });\n\n    if (!accounts) {\n      return res.status(404);\n    }\n\n    res.json(accounts);\n  } catch (error) {\n    next(error);\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJBY2NvdW50IiwicmVxdWlyZSIsIkNvbXBhbnkiLCJSb2xlIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJnZXQiLCJhZG1pbiIsIm93bmVyIiwiZ2V0QWNjb3VudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImFjY291bnRzIiwicXVlcnkiLCJ3aGVyZSIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUcsRUFBQUEsSUFBSSxFQUFFQyxJQUFSO0FBQWNDLEVBQUFBO0FBQWQsSUFBMEJMLE9BQU8sQ0FBQyw0QkFBRCxDQUF2Qzs7QUFFQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJPLE1BQW5CLENBQTBCO0FBQ3JDQyxFQUFBQSxXQUFXLEVBQUU7QUFEd0IsQ0FBMUIsQ0FBZjs7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkwsSUFBSSxDQUFDLENBQUNGLElBQUksQ0FBQ1EsS0FBTixFQUFhUixJQUFJLENBQUNTLEtBQWxCLENBQUQsQ0FBcEIsRUFBZ0ROLE9BQU8sRUFBdkQsRUFBMkRPLFdBQTNEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakI7O0FBRUEsZUFBZU0sV0FBZixDQUEyQkcsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QyxNQUFJO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTUMsUUFBUSxHQUFHLE1BQU1uQixPQUFPLENBQUNvQixLQUFSLEdBQWdCQyxLQUFoQixDQUFzQjtBQUN6Q0MsTUFBQUEsVUFBVSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0Q7QUFEa0IsS0FBdEIsQ0FBdkI7O0FBSUEsUUFBSSxDQUFDSCxRQUFMLEVBQWU7QUFDWCxhQUFPRixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLENBQVA7QUFDSDs7QUFFRFAsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNOLFFBQVQ7QUFDSCxHQWRELENBY0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pSLElBQUFBLElBQUksQ0FBQ1EsS0FBRCxDQUFKO0FBQ0g7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS5tb2RlbFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcm9sZVwiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCwgaXNPd25lciB9ID0gcmVxdWlyZShcIi4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoW1JvbGUuYWRtaW4sIFJvbGUub3duZXJdKSwgaXNPd25lcigpLCBnZXRBY2NvdW50cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50cyhyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGlmICghY29tcGFueSAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50LnF1ZXJ5KCkud2hlcmUoe1xuICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjY291bnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oYWNjb3VudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n    mergeParams: true,\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\n\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n    try {\n        &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n        &#x2F;&#x2F; }\n\n        const accounts &#x3D; await Account.query().where({\n            company_id: req.params.company_id,\n        });\n\n        if (!accounts) {\n            return res.status(404);\n        }\n\n        res.json(accounts);\n    } catch (error) {\n        next(error);\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f5&#x2F;accountsroutes_f54e96c4db6e4acb21a322f351ad9a58.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2863&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3778,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3775,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccounts&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n  static get tableName() {\n    return tableNames.accounts;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n}\n\nmodule.exports &#x3D; Account;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJzY2hlbWEiLCJBY2NvdW50IiwidGFibGVOYW1lIiwiYWNjb3VudHMiLCJqc29uU2NoZW1hIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUVBLE1BQU1HLE9BQU4sU0FBc0JKLEtBQXRCLENBQTRCO0FBQ3hCLGFBQVdLLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0gsVUFBVSxDQUFDSSxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0osTUFBUDtBQUNIOztBQVB1Qjs7QUFVNUJLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkwsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2FjY291bnRzLnNjaGVtYS5qc29uXCIpO1xuXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5hY2NvdW50cztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGpzb25TY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnQ7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n    static get tableName() {\n        return tableNames.accounts;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n}\n\nmodule.exports &#x3D; Account;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;01&#x2F;accountsmodel_01a1ad309c7db6ca01e6d4ebe4774684.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2864&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Account&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 245,
                    &quot;endOffset&quot;: 245,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 284,
                    &quot;endOffset&quot;: 337,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 389,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\n\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.company_id &#x3D; parseInt(req.params.company_id);\n  menuService.createMenu(req.body).then(menu &#x3D;&gt; res.json(menu)).catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  menuService.getAllCompanyMenus({\n    id: company_id\n  }).then(menus &#x3D;&gt; menus ? res.json(menus) : res.sendStatus(404)).catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n  menuService.getMenuById(req.params.id).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService.updateMenu(req.params.id, req.body);\n  }).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiQ29tcGFueSIsImF1dGgiLCJBdXRoIiwiaXNPd25lciIsIlJvbGUiLCJDYXRlZ29yeSIsIm1lbnVTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlTWVudSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYm9keSIsImNvbXBhbnlfaWQiLCJwYXJzZUludCIsInBhcmFtcyIsImNyZWF0ZU1lbnUiLCJ0aGVuIiwibWVudSIsImpzb24iLCJjYXRjaCIsImlkIiwibWVudXMiLCJzZW5kU3RhdHVzIiwicXVlcnkiLCJ3aGVyZSIsInVzZXIiLCJmaXJzdCIsImNvbXBhbnkiLCJzdGF0dXMiLCJ1cGRhdGVNZW51IiwiX2RlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsa0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQk4sT0FBTyxDQUFDLDRCQUFELENBQXZDOztBQUNBLE1BQU1PLElBQUksR0FBR1AsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU1RLFFBQVEsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1T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aEJMLEVBaUJLRCxLQWpCTCxDQWlCV1QsSUFqQlg7QUFrQkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL21lbnUudmFsaWRhdG9yXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5LnJvdXRlc1wiKTtcblxuY29uc3QgbWVudVNlcnZpY2UgPSByZXF1aXJlKFwiLi9tZW51LnNlcnZpY2VcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbi8vIGFwaS92MS9jb21wYW55L2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeVxucm91dGVyLnVzZShcIi86bWVudV9pZC9jYXRlZ29yeVwiLCBDYXRlZ29yeSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQ29tcGFueU1lbnVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldE1lbnVCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCB1cGRhdGVTY2hlbWEsIHVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIF9kZWxldGVNZW51KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5LmNvbXBhbnlfaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmNvbXBhbnlfaWQpO1xuICAgIG1lbnVTZXJ2aWNlXG4gICAgICAgIC5jcmVhdGVNZW51KHJlcS5ib2R5KVxuICAgICAgICAudGhlbigobWVudSkgPT4gcmVzLmpzb24obWVudSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29tcGFueU1lbnVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjb21wYW55X2lkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgbWVudVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlNZW51cyh7IGlkOiBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChtZW51cykgPT4gKG1lbnVzID8gcmVzLmpzb24obWVudXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVudUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBtZW51U2VydmljZVxuICAgICAgICAuZ2V0TWVudUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKG1lbnUpID0+IChtZW51ID8gcmVzLmpzb24obWVudSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBtZW51XG5cbiAgICBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgb3duZXI6IHJlcS51c2VyLmlkIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJVbmF0aG9yaXplZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTZXJ2aWNlLnVwZGF0ZU1lbnUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigobWVudSkgPT4gKG1lbnUgPyByZXMuanNvbihtZW51KSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVNZW51KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55IG1lbnVcblxuICAgIENvbXBhbnkucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyBvd25lcjogcmVxLnVzZXIuaWQgfSlcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICghY29tcGFueSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICAgICAgICAgICAgICBlcnJvcihcIlVuYXRob3JpemVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.company_id &#x3D; parseInt(req.params.company_id);\n    menuService\n        .createMenu(req.body)\n        .then((menu) &#x3D;&gt; res.json(menu))\n        .catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    menuService\n        .getAllCompanyMenus({ id: company_id })\n        .then((menus) &#x3D;&gt; (menus ? res.json(menus) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n    menuService\n        .getMenuById(req.params.id)\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService.updateMenu(req.params.id, req.body);\n        })\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;99&#x2F;menuroutes_997150f167642e0bf13a4d7cf8d13bc4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2952&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 954,
                    &quot;endOffset&quot;: 1123,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1125,
                    &quot;endOffset&quot;: 1348,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1350,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1879,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1881,
                    &quot;endOffset&quot;: 2321,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    cover_url: Joi.string()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    cover_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUudmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJleHBvcnRzIiwiY3JlYXRlU2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiY292ZXJfdXJsIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsU0FBUyxFQUFFZCxHQUFHLENBQUNXLE1BQUo7QUFIVyxHQUFYLENBQWY7QUFLQVQsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FQRDs7QUFTQUwsT0FBTyxDQUFDWSxZQUFSLEdBQXVCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1TLFdBQVcsR0FBRztBQUNoQk4sSUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixDQUFtQixFQUFuQixDQURVO0FBRWhCSixJQUFBQSxXQUFXLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhTSxLQUFiLENBQW1CLEVBQW5CLENBRkc7QUFHaEJILElBQUFBLFNBQVMsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFwQjtBQU1BLFFBQU1ULE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdPLFdBQVgsQ0FBZjtBQUVBZCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdChzY2hlbWFSdWxlcyk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        cover_url: Joi.string(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        cover_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0b&#x2F;menuvalidator_0bff2254f7ebb231be87a9bba47a9cd7.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2953&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3165,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 216,
                    &quot;endOffset&quot;: 418,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 444,
                    &quot;endOffset&quot;: 689,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\n\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  &#x2F;&#x2F; check if owner of company\n  const payload &#x3D; req.body;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.createcategory(payload);\n  }).then(category &#x3D;&gt; res.json(category)).catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  categoryService.getAllCompanyCategorys({\n    company_id\n  }).then(categories &#x3D;&gt; categories ? res.json(categories) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n  categoryService.getCategoryById(req.params.id).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company category\n  const payload &#x3D; req.body;\n  payload.menu_id &#x3D; req.params.menu_id;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.updateCategory(req.params.id, payload);\n  }).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company category\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function isOwner(owner_id, company_id) {\n  const bool &#x3D; await Company.query().where({\n    owner_id,\n    id: company_id\n  }).first();\n  return bool;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZVNjaGVtYSIsInVwZGF0ZVNjaGVtYSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsIkNvbXBhbnkiLCJJdGVtIiwiY2F0ZWdvcnlTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlDYXRlZ29yeXMiLCJnZXRDYXRlZ29yeUJ5SWQiLCJwYXRjaCIsInVwZGF0ZSIsImRlbGV0ZSIsIl9kZWxldGVDYXRlZ29yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGF5bG9hZCIsImJvZHkiLCJpc093bmVyIiwidXNlciIsImlkIiwicGFyYW1zIiwiY29tcGFueV9pZCIsInRoZW4iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNyZWF0ZWNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjYXRjaCIsImNhdGVnb3JpZXMiLCJzZW5kU3RhdHVzIiwibWVudV9pZCIsInVwZGF0ZUNhdGVnb3J5IiwiX2RlbGV0ZSIsIm93bmVyX2lkIiwiYm9vbCIsInF1ZXJ5Iiwid2hlcmUiLCJmaXJzdCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsdUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJKLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFFQSxNQUFNTyxJ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T0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNIOztBQUNELFdBQU8vQixlQUFlLENBQUN1QyxPQUFoQixDQUF3QjtBQUMzQmQsTUFBQUEsRUFBRSxFQUFFUCxHQUFHLENBQUNRLE1BQUosQ0FBV0QsRUFEWTtBQUUzQkUsTUFBQUEsVUFBVSxFQUFFVCxHQUFHLENBQUNRLE1BQUosQ0FBV0M7QUFGSSxLQUF4QixDQUFQO0FBSUgsR0FUTCxFQVVLQyxJQVZMLENBVVUsTUFBTTtBQUNSVCxJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFTCxNQUFBQSxFQUFFLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRDtBQUFqQixLQUFUO0FBQ0gsR0FaTCxFQWFLUyxLQWJMLENBYVdkLElBYlg7QUFjSCxDLENBRUQ7OztBQUNBLGVBQWVHLE9BQWYsQ0FBdUJpQixRQUF2QixFQUFpQ2IsVUFBakMsRUFBNkM7QUFDekMsUUFBTWMsSUFBSSxHQUFHLE1BQU0zQyxPQUFPLENBQUM0QyxLQUFSLEdBQ2RDLEtBRGMsQ0FDUjtBQUFFSCxJQUFBQSxRQUFGO0FBQVlmLElBQUFBLEVBQUUsRUFBRUU7QUFBaEIsR0FEUSxFQUVkaUIsS0FGYyxFQUFuQjtBQUlBLFNBQU9ILElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCB9ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3QgUm9sZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi91dGlscy9yb2xlXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYW55Lm1vZGVsXCIpO1xuXG5jb25zdCBJdGVtID0gcmVxdWlyZShcIi4vaXRlbS9pdGVtLnJvdXRlc1wiKTtcblxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2VydmljZVwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeS9jYXRlZ29yeV9pZC9pdGVtXG5yb3V0ZXIudXNlKFwiLzpjYXRlZ29yeV9pZC9pdGVtXCIsIEl0ZW0pO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCBnZXRBbGxDb21wYW55Q2F0ZWdvcnlzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldENhdGVnb3J5QnlJZCk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBfZGVsZXRlQ2F0ZWdvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gY2hlY2sgaWYgb3duZXIgb2YgY29tcGFueVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcblxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlY2F0ZWdvcnkocGF5bG9hZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yeSkgPT4gcmVzLmpzb24oY2F0ZWdvcnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbnlDYXRlZ29yeXMocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IGNvbXBhbnlfaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlDYXRlZ29yeXMoeyBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yaWVzKSA9PlxuICAgICAgICAgICAgY2F0ZWdvcmllcyA&#x2F;IHJlcy5qc29uKGNhdGVnb3JpZXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgICAgIC5nZXRDYXRlZ29yeUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGNhdGVnb3J5KSA9PlxuICAgICAgICAgICAgY2F0ZWdvcnkgPyByZXMuanNvbihjYXRlZ29yeSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcbiAgICBwYXlsb2FkLm1lbnVfaWQgPSByZXEucGFyYW1zLm1lbnVfaWQ7XG5cbiAgICBpc093bmVyKHJlcS51c2VyLmlkLCByZXEucGFyYW1zLmNvbXBhbnlfaWQpXG4gICAgICAgIC50aGVuKChvd25lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5wYXJhbXMuaWQsIHBheWxvYWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoY2F0ZWdvcnkpID0+XG4gICAgICAgICAgICBjYXRlZ29yeSA&#x2F;IHJlcy5qc29uKGNhdGVnb3J5KSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDYXRlZ29yeShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG9ubHkgb3duZXIgZGVsZXRlIGNhbiBkZWxldGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGlzT3duZXIob3duZXJfaWQsIGNvbXBhbnlfaWQpIHtcbiAgICBjb25zdCBib29sID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IG93bmVyX2lkLCBpZDogY29tcGFueV9pZCB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIHJldHVybiBib29sO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    &#x2F;&#x2F; check if owner of company\n    const payload &#x3D; req.body;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.createcategory(payload);\n        })\n        .then((category) &#x3D;&gt; res.json(category))\n        .catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    categoryService\n        .getAllCompanyCategorys({ company_id })\n        .then((categories) &#x3D;&gt;\n            categories ? res.json(categories) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n    categoryService\n        .getCategoryById(req.params.id)\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company category\n    const payload &#x3D; req.body;\n    payload.menu_id &#x3D; req.params.menu_id;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.updateCategory(req.params.id, payload);\n        })\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company category\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function isOwner(owner_id, company_id) {\n    const bool &#x3D; await Company.query()\n        .where({ owner_id, id: company_id })\n        .first();\n\n    return bool;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f9&#x2F;categoryroutes_f95c539ef7b2381e749f49618b0199b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2954&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 12907,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 12904,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 962,
                    &quot;endOffset&quot;: 1328,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1330,
                    &quot;endOffset&quot;: 1576,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1578,
                    &quot;endOffset&quot;: 1754,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1756,
                    &quot;endOffset&quot;: 2229,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2231,
                    &quot;endOffset&quot;: 2690,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2738,
                    &quot;endOffset&quot;: 2893,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    menu_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    menu_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVTY2hlbWEiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibWVudV9pZCIsIm51bWJlciIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsMENBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxPQUFPLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBRmEsR0FBWCxDQUFmO0FBSUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBTkQ7O0FBUUFMLE9BQU8sQ0FBQ1ksWUFBUixHQUF1QixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNUyxXQUFXLEdBQUc7QUFDaEJOLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQkosSUFBQUEsT0FBTyxFQUFFYixHQUFHLENBQUNjLE1BQUosR0FBYUcsS0FBYixDQUFtQixFQUFuQjtBQUZPLEdBQXBCO0FBS0EsUUFBTVQsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV08sV0FBWCxDQUFmO0FBRUFkLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy92YWxpZGF0ZVJlcXVlc3RcIik7XG5cbmV4cG9ydHMuY3JlYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        menu_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        menu_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;1b&#x2F;categoryvalidators_1b6fa12bad6d90716c229117a118363b.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2955&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 219,
                    &quot;endOffset&quot;: 388,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 414,
                    &quot;endOffset&quot;: 616,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  itemService.createItem(req.body).then(item &#x3D;&gt; res.status(201).json(item)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  itemService.getItemById(req.params.id).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction updateItem(req, res, next) {\n  itemService.updateItem(req.params.id, req.body).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n  itemService.deleteItem({\n    id: req.params.id\n  }).then(() &#x3D;&gt; res.json({\n    message: \&quot;Item deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwiUm9sZSIsIml0ZW1TZXJ2aWNlIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJwb3N0Iiwib3duZXIiLCJjcmVhdGUiLCJnZXQiLCJnZXRCeUlkIiwicGF0Y2giLCJ1cGRhdGVJdGVtIiwiZGVsZXRlIiwiZGVsZXRlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3JlYXRlSXRlbSIsImJvZHkiLCJ0aGVuIiwiaXRlbSIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImdldEl0ZW1CeUlkIiwicGFyYW1zIiwiaWQiLCJzZW5kU3RhdHVzIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsbUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQkwsT0FBTyxDQUFDLGtDQUFELENBQXZDOztBQUNBLE1BQU1NLElBQUksR0FBR04sT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1PLFdBQVcsR0FBR1AsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUVBLE1BQU1RLE1BQU0sR0FBR1QsT0FBTyxDQUFDVSxNQUFSLENBQWU7QUFDMUJDLEVBQUFBLFdBQVcsRUFBRTtBQURhLENBQWYsQ0FBZjtBQUlBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCUCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBckIsRUFBcUNQLE9BQU8sRUFBNUMsRUFBZ0RKLFlBQWhELEVBQThEWSxNQUE5RDtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxNQUFYLEVBQW1CVixJQUFJLEVBQXZCLEVBQTJCVyxPQUEzQjtBQUNBUCxNQUFNLENBQUNRLEtBQVAsQ0FBYSxNQUFiLEVBQXFCWixJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBekIsRUFBeUNQLE9BQU8sRUFBaEQsRUFBb0RILFlBQXBELEVBQWtFZSxVQUFsRTtBQUNBVCxNQUFNLENBQUNVLE1BQVAsQ0FBYyxNQUFkLEVBQXNCZCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBMUIsRUFBMENQLE9BQU8sRUFBakQsRUFBcURjLFVBQXJEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakI7O0FBRUEsU0FBU0ssTUFBVCxDQUFnQlMsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QmpCLEVBQUFBLFdBQVcsQ0FDTmtCLFVBREwsQ0FDZ0JILEdBQUcsQ0FBQ0ksSUFEcEIsRUFFS0MsSUFGTCxDQUVXQyxJQUFELElBQVVMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixJQUFyQixDQUZwQixFQUdLRyxLQUhMLENBR1dQLElBSFg7QUFJSDs7QUFFRCxTQUFTVCxPQUFULENBQWlCTyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCakIsRUFBQUEsV0FBVyxDQUNOeUIsV0FETCxDQUNpQlYsR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDVCLEVBRUtQLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU1AsVUFBVCxDQUFvQkssR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlUsVUFETCxDQUNnQkssR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDNCLEVBQytCWixHQUFHLENBQUNJLElBRG5DLEVBRUtDLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU0wsVUFBVCxDQUFvQkcsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlksVUFETCxDQUNnQjtBQUFFZSxJQUFBQSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ1csTUFBSixDQUFXQztBQUFqQixHQURoQixFQUVLUCxJQUZMLENBRVUsTUFDRkosR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDTE0sSUFBQUEsT0FBTyxFQUFFLDJCQURKO0FBRUxGLElBQUFBLEVBQUUsRUFBRVosR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBRlYsR0FBVCxDQUhSLEVBUUtILEtBUkwsQ0FRV1AsSUFSWDtBQVNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vaXRlbS52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBpdGVtU2VydmljZSA9IHJlcXVpcmUoXCIuL2l0ZW0uc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBpc093bmVyKCksIHVwZGF0ZVNjaGVtYSwgdXBkYXRlSXRlbSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgZGVsZXRlSXRlbSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5mdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuY3JlYXRlSXRlbShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHJlcy5zdGF0dXMoMjAxKS5qc29uKGl0ZW0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuZ2V0SXRlbUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IChpdGVtID8gcmVzLmpzb24oaXRlbSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJdGVtKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaXRlbVNlcnZpY2VcbiAgICAgICAgLnVwZGF0ZUl0ZW0ocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiAoaXRlbSA&#x2F;IHJlcy5qc29uKGl0ZW0pIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIGl0ZW1TZXJ2aWNlXG4gICAgICAgIC5kZWxldGVJdGVtKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSlcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    itemService\n        .createItem(req.body)\n        .then((item) &#x3D;&gt; res.status(201).json(item))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    itemService\n        .getItemById(req.params.id)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction updateItem(req, res, next) {\n    itemService\n        .updateItem(req.params.id, req.body)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n    itemService\n        .deleteItem({ id: req.params.id })\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Item deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;de&#x2F;itemroutes_de9b46cc999b0a12213b699c8d15bd22.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2956&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6599,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6596,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 717,
                    &quot;endOffset&quot;: 841,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 843,
                    &quot;endOffset&quot;: 991,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 993,
                    &quot;endOffset&quot;: 1153,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1155,
                    &quot;endOffset&quot;: 1353,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    price: Joi.number().required(),\n    quantity: Joi.number().required(),\n    description: Joi.string().required(),\n    image_url: Joi.string(),\n    category_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    price: Joi.number().empty(\&quot;\&quot;),\n    quantity: Joi.number().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    image_url: Joi.string(),\n    category_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0udmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJwcmljZSIsIm51bWJlciIsInF1YW50aXR5IiwiZGVzY3JpcHRpb24iLCJpbWFnZV91cmwiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsNkNBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxLQUFLLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiLEVBRmU7QUFHdEJHLElBQUFBLFFBQVEsRUFBRWYsR0FBRyxDQUFDYyxNQUFKLEdBQWFGLFFBQWIsRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFKUztBQUt0QkssSUFBQUEsU0FBUyxFQUFFakIsR0FBRyxDQUFDVyxNQUFKLEVBTFc7QUFNdEJPLElBQUFBLFdBQVcsRUFBRWxCLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBTlMsR0FBWCxDQUFmO0FBUUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVkQ7O0FBWUFMLE9BQU8sQ0FBQ2dCLFlBQVIsR0FBdUIsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTWEsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhVSxLQUFiLENBQW1CLEVBQW5CLENBRFU7QUFFaEJSLElBQUFBLEtBQUssRUFBRWIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkIsQ0FGUztBQUdoQk4sSUFBQUEsUUFBUSxFQUFFZixHQUFHLENBQUNjLE1BQUosR0FBYU8sS0FBYixDQUFtQixFQUFuQixDQUhNO0FBSWhCTCxJQUFBQSxXQUFXLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYVUsS0FBYixDQUFtQixFQUFuQixDQUpHO0FBS2hCSixJQUFBQSxTQUFTLEVBQUVqQixHQUFHLENBQUNXLE1BQUosRUFMSztBQU1oQk8sSUFBQUEsV0FBVyxFQUFFbEIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkI7QUFORyxHQUFwQjtBQVNBLFFBQU1iLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdXLFdBQVgsQ0FBZjtBQUVBbEIsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHByaWNlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGltYWdlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBjYXRlZ29yeV9pZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMudXBkYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hUnVsZXMgPSB7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHJpY2U6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgaW1hZ2VfdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgICAgIGNhdGVnb3J5X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        description: Joi.string().required(),\n        image_url: Joi.string(),\n        category_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        price: Joi.number().empty(\&quot;\&quot;),\n        quantity: Joi.number().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        image_url: Joi.string(),\n        category_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;b3&#x2F;itemvalidators_b3b5560b6fc02d936e24d53b4a41cdcb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2957&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4275,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4272,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 222,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 567,
                    &quot;endOffset&quot;: 916,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createItem,\n  getItemById,\n  updateItem,\n  deleteItem\n};\n\nasync function createItem(params) {\n  const item &#x3D; await Item.query().insert(params);\n  return basicDetails(item);\n}\n\nasync function getItemById(id) {\n  const item &#x3D; await getItem({\n    id\n  });\n  return item;\n}\n\nasync function updateItem(id, params) {\n  const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n  return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n  await Item.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getItem(params) {\n  const item &#x3D; await Item.query().where({ ...params\n  }).first();\n  return item;\n}\n\nfunction basicDetails(item) {\n  const {\n    id,\n    name,\n    description\n  } &#x3D; item;\n  return {\n    id,\n    name,\n    description\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0uc2VydmljZS5qcyJdLCJuYW1lcyI6WyJJdGVtIiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZUl0ZW0iLCJnZXRJdGVtQnlJZCIsInVwZGF0ZUl0ZW0iLCJkZWxldGVJdGVtIiwicGFyYW1zIiwiaXRlbSIsInF1ZXJ5IiwiaW5zZXJ0IiwiYmFzaWNEZXRhaWxzIiwiaWQiLCJnZXRJdGVtIiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsIndoZXJlIiwiZmlyc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFdBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQTtBQUphLENBQWpCOztBQU9BLGVBQWVILFVBQWYsQ0FBMEJJLE1BQTFCLEVBQWtDO0FBQzlCLFFBQU1DLElBQUksR0FBRyxNQUFNVixJQUFJLENBQUNXLEtBQUwsR0FBYUMsTUFBYixDQUFvQkgsTUFBcEIsQ0FBbkI7QUFDQSxTQUFPSSxZQUFZLENBQUNILElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlSixXQUFmLENBQTJCUSxFQUEzQixFQUErQjtBQUMzQixRQUFNSixJQUFJLEdBQUcsTUFBTUssT0FBTyxDQUFDO0FBQUVELElBQUFBO0FBQUYsR0FBRCxDQUExQjtBQUNBLFNBQU9KLElBQVA7QUFDSDs7QUFFRCxlQUFlSCxVQUFmLENBQTBCTyxFQUExQixFQUE4QkwsTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUYsVUFBVSxHQUFHLE1BQU1QLElBQUksQ0FBQ1csS0FBTCxHQUFhSyxpQkFBYixDQUErQkYsRUFBL0IsRUFBbUNMLE1BQW5DLENBQXpCO0FBRUEsU0FBT0YsVUFBUDtBQUNIOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJTLFdBQTFCLEVBQXVDO0FBQ25DLFFBQU1qQixJQUFJLENBQUNXLEtBQUwsR0FBYU8sTUFBYixDQUFvQixFQUFFLEdBQUdEO0FBQUwsR0FBcEIsQ0FBTjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZUYsT0FBZixDQUF1Qk4sTUFBdkIsRUFBK0I7QUFDM0IsUUFBTUMsSUFBSSxHQUFHLE1BQU1WLElBQUksQ0FBQ1csS0FBTCxHQUNkUSxLQURjLENBQ1IsRUFBRSxHQUFHVjtBQUFMLEdBRFEsRUFFZFcsS0FGYyxFQUFuQjtBQUdBLFNBQU9WLElBQVA7QUFDSDs7QUFFRCxTQUFTRyxZQUFULENBQXNCSCxJQUF0QixFQUE0QjtBQUN4QixRQUFNO0FBQUVJLElBQUFBLEVBQUY7QUFBTU8sSUFBQUEsSUFBTjtBQUFZQyxJQUFBQTtBQUFaLE1BQTRCWixJQUFsQztBQUNBLFNBQU87QUFBRUksSUFBQUEsRUFBRjtBQUFNTyxJQUFBQSxJQUFOO0FBQVlDLElBQUFBO0FBQVosR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSXRlbSA9IHJlcXVpcmUoXCIuL2l0ZW0ubW9kZWxcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlSXRlbSxcbiAgICBnZXRJdGVtQnlJZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGRlbGV0ZUl0ZW0sXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhpdGVtKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUJ5SWQoaWQpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgZ2V0SXRlbSh7IGlkIH0pO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gYXdhaXQgSXRlbS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0ocXVlcnlQYXJhbXMpIHtcbiAgICBhd2FpdCBJdGVtLnF1ZXJ5KCkuZGVsZXRlKHsgLi4ucXVlcnlQYXJhbXMgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT0gaGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW1zIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoaXRlbSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBpdGVtO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createItem,\n    getItemById,\n    updateItem,\n    deleteItem,\n};\n\nasync function createItem(params) {\n    const item &#x3D; await Item.query().insert(params);\n    return basicDetails(item);\n}\n\nasync function getItemById(id) {\n    const item &#x3D; await getItem({ id });\n    return item;\n}\n\nasync function updateItem(id, params) {\n    const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n\n    return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n    await Item.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function getItem(params) {\n    const item &#x3D; await Item.query()\n        .where({ ...params })\n        .first();\n    return item;\n}\n\nfunction basicDetails(item) {\n    const { id, name, description } &#x3D; item;\n    return { id, name, description };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;37&#x2F;itemservice_37723bc6ce9a1333746fd65833e30b1c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2958&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4281,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4278,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 261,
                    &quot;endOffset&quot;: 377,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItemById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 474,
                    &quot;endOffset&quot;: 607,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 609,
                    &quot;endOffset&quot;: 702,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 765,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 882,
                    &quot;endOffset&quot;: 1019,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n  static get tableName() {\n    return tableNames.item;\n  }\n\n  static get relationMappings() {\n    const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      category: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Category,\n        join: {\n          from: &#x60;${tableNames.item}.category_id&#x60;,\n          to: &#x60;${tableNames.category}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Item;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiQ2F0ZWdvcnkiLCJJdGVtIiwidGFibGVOYW1lIiwiaXRlbSIsInJlbGF0aW9uTWFwcGluZ3MiLCJjYXRlZ29yeSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsImtuZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsbUJBQUQsQ0FBbEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksSUFBTixTQUFtQkwsS0FBbkIsQ0FBeUI7QUFDckIsYUFBV00sU0FBWCxHQUF1QjtBQUNuQixXQUFPSixVQUFVLENBQUNLLElBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUosUUFBUSxHQUFHSCxPQUFPLENBQUMsK0JBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIUSxNQUFBQSxRQUFRLEVBQUU7QUFDTkMsUUFBQUEsUUFBUSxFQUFFVixLQUFLLENBQUNXLG9CQURWO0FBRU5DLFFBQUFBLFVBQVUsRUFBRVIsUUFGTjtBQUdOUyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVaLFVBQVUsQ0FBQ0ssSUFBSyxjQUR2QjtBQUVGUSxVQUFBQSxFQUFFLEVBQUcsR0FBRWIsVUFBVSxDQUFDTyxRQUFTO0FBRnpCO0FBSEE7QUFEUCxLQUFQO0FBVUg7O0FBbEJvQjs7QUFxQnpCVCxLQUFLLENBQUNnQixJQUFOLENBQVdiLEVBQVg7QUFFQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vZGJcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuLi9jYXRlZ29yeS5tb2RlbFwiKTtcblxuY2xhc3MgSXRlbSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuaXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZShcIi4uLy4uL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMuaXRlbX0uY2F0ZWdvcnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jYXRlZ29yeX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n    static get tableName() {\n        return tableNames.item;\n    }\n\n    static get relationMappings() {\n        const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            category: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Category,\n                join: {\n                    from: &#x60;${tableNames.item}.category_id&#x60;,\n                    to: &#x60;${tableNames.category}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Item;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;bd&#x2F;itemmodel_bde36e534327c1a1231475da3047e2a2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2959&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3171,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Item&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 290,
                    &quot;endOffset&quot;: 290,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 326,
                    &quot;endOffset&quot;: 375,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 386,
                    &quot;endOffset&quot;: 718,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n  static get tableName() {\n    return tableNames.category;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n\n    const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n    return {\n      menu: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Menu,\n        join: {\n          from: &#x60;${tableName.category}.menu_id&#x60;,\n          to: &#x60;${tableNames.menu}.id&#x60;\n        }\n      },\n      items: {\n        relation: Model.HasManyRelation,\n        modelClasss: Item,\n        join: {\n          from: &#x60;${tableNames.category}.id&#x60;,\n          to: &#x60;${tableNames.item}.category_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Category;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsImRiIiwic2NoZW1hIiwidGFibGVOYW1lcyIsIkNhdGVnb3J5IiwidGFibGVOYW1lIiwiY2F0ZWdvcnkiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIk1lbnUiLCJJdGVtIiwibWVudSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJpdGVtcyIsIkhhc01hbnlSZWxhdGlvbiIsIml0ZW0iLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBLE1BQU1JLFFBQU4sU0FBdUJMLEtBQXZCLENBQTZCO0FBQ3pCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUMsZUFBRCxDQUFwQjs7QUFDQSxVQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyx5QkFBRCxDQUFwQjs7QUFFQSxXQUFPO0FBQ0hXLE1BQUFBLElBQUksRUFBRTtBQUNGQyxRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ2Msb0JBRGQ7QUFFRkMsUUFBQUEsV0FBVyxFQUFFTCxJQUZYO0FBR0ZNLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRVgsU0FBUyxDQUFDQyxRQUFTLFVBRDFCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNRLElBQUs7QUFGckI7QUFISixPQURIO0FBU0hPLE1BQUFBLEtBQUssRUFBRTtBQUNITixRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ29CLGVBRGI7QUFFSEwsUUFBQUEsV0FBVyxFQUFFSixJQUZWO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWIsVUFBVSxDQUFDRyxRQUFTLEtBRDNCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEg7QUFUSixLQUFQO0FBa0JIOztBQWhDd0I7O0FBbUM3QnJCLEtBQUssQ0FBQ3NCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RiXCIpO1xuY29uc3Qgc2NoZW1hID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBDYXRlZ29yeSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUubW9kZWxcIik7XG4gICAgICAgIGNvbnN0IEl0ZW0gPSByZXF1aXJlKFwiLi4vbWVudS9pdGVtL2l0ZW0ubW9kZWxcIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IE1lbnUsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWUuY2F0ZWdvcnl9Lm1lbnVfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IEl0ZW0sXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLml0ZW19LmNhdGVnb3J5X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhdGVnb3J5O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n    static get tableName() {\n        return tableNames.category;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n        const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n        return {\n            menu: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Menu,\n                join: {\n                    from: &#x60;${tableName.category}.menu_id&#x60;,\n                    to: &#x60;${tableNames.menu}.id&#x60;,\n                },\n            },\n            items: {\n                relation: Model.HasManyRelation,\n                modelClasss: Item,\n                join: {\n                    from: &#x60;${tableNames.category}.id&#x60;,\n                    to: &#x60;${tableNames.item}.category_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Category;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0e&#x2F;categorymodel_0ef83f3e2352e4f7122c2a335cba1fb2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2960&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4654,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4651,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Category&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 287,
                    &quot;endOffset&quot;: 287,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 327,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 432,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 443,
                    &quot;endOffset&quot;: 1073,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createCategory,\n  updateCategory,\n  getAllCategory,\n  getAllCompanyCategorys,\n  getCategoryById,\n  _delete\n};\n\nasync function createCategory(params) {\n  const category &#x3D; await Category.query().insert(params);\n  return category;\n}\n\nasync function updateCategory(id, params) {\n  const category &#x3D; await getCategory({\n    id\n  }); &#x2F;&#x2F;check if category name is duplicated\n\n  if (params.name &amp;&amp; category.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCategory({\n    name: params.name,\n    menu_id: params.menu_id\n  }))) {\n    error(&#x60;Category ${params.name} already exists&#x60;);\n  }\n\n  const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, { ...params\n  });\n  return updatedcategory;\n}\n\nasync function getAllCategory() {\n  const categorys &#x3D; await Category.query();\n  return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n  const categorys &#x3D; await Category.query({ ...params\n  });\n  return categorys;\n}\n\nasync function getCategoryById(id) {\n  const category &#x3D; await getCategory({\n    id\n  });\n  return category;\n}\n\nasync function _delete(queryParams) {\n  await Category.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCategory(param) {\n  const category &#x3D; await Category.query().where({ ...param\n  }).withGraphFetched(\&quot;items\&quot;).first();\n  return category;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiQ2F0ZWdvcnkiLCJyZXF1aXJlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlQ2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImdldEFsbENhdGVnb3J5IiwiZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyIsImdldENhdGVnb3J5QnlJZCIsIl9kZWxldGUiLCJwYXJhbXMiLCJjYXRlZ29yeSIsInF1ZXJ5IiwiaW5zZXJ0IiwiaWQiLCJnZXRDYXRlZ29yeSIsIm5hbWUiLCJtZW51X2lkIiwidXBkYXRlZGNhdGVnb3J5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJjYXRlZ29yeXMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2hlcmUiLCJ3aXRoR3JhcGhGZXRjaGVkIiwiZmlyc3QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXhCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQXJCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsY0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLGNBSGE7QUFJYkMsRUFBQUEsc0JBSmE7QUFLYkMsRUFBQUEsZUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLGNBQWYsQ0FBOEJNLE1BQTlCLEVBQXNDO0FBQ2xDLFFBQU1DLFFBQVEsR0FBRyxNQUFNWixRQUFRLENBQUNhLEtBQVQsR0FBaUJDLE1BQWpCLENBQXdCSCxNQUF4QixDQUF2QjtBQUNBLFNBQU9DLFFBQVA7QUFDSDs7QUFFRCxlQUFlTixjQUFmLENBQThCUyxFQUE5QixFQUFrQ0osTUFBbEMsRUFBMEM7QUFDdEMsUUFBTUMsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEMsQ0FEc0MsQ0FFdEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLFFBQVEsQ0FBQ0ssSUFBVCxLQUFrQk4sTUFBTSxDQUFDTSxJQUR6QixLQUVDLE1BQU1ELFdBQVcsQ0FBQztBQUNmQyxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ00sSUFERTtBQUVmQyxJQUFBQSxPQUFPLEVBQUVQLE1BQU0sQ0FBQ087QUFGRCxHQUFELENBRmxCLENBREosRUFPRTtBQUNFaEIsSUFBQUEsS0FBSyxDQUFFLFlBQVdTLE1BQU0sQ0FBQ00sSUFBSyxpQkFBekIsQ0FBTDtBQUNIOztBQUNELFFBQU1FLGVBQWUsR0FBRyxNQUFNbkIsUUFBUSxDQUFDYSxLQUFULEdBQWlCTyxpQkFBakIsQ0FBbUNMLEVBQW5DLEVBQXVDLEVBQ2pFLEdBQUdKO0FBRDhELEdBQXZDLENBQTlCO0FBSUEsU0FBT1EsZUFBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsR0FBZ0M7QUFDNUIsUUFBTWMsU0FBUyxHQUFHLE1BQU1yQixRQUFRLENBQUNhLEtBQVQsRUFBeEI7QUFDQSxTQUFPUSxTQUFQO0FBQ0g7O0FBRUQsZUFBZWIsc0JBQWYsQ0FBc0NHLE1BQXRDLEVBQThDO0FBQzFDLFFBQU1VLFNBQVMsR0FBRyxNQUFNckIsUUFBUSxDQUFDYSxLQUFULENBQWUsRUFBRSxHQUFHRjtBQUFMLEdBQWYsQ0FBeEI7QUFDQSxTQUFPVSxTQUFQO0FBQ0g7O0FBRUQsZUFBZVosZUFBZixDQUErQk0sRUFBL0IsRUFBbUM7QUFDL0IsUUFBTUgsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEM7QUFDQSxTQUFPSCxRQUFQO0FBQ0g7O0FBRUQsZUFBZUYsT0FBZixDQUF1QlksV0FBdkIsRUFBb0M7QUFDaEMsUUFBTXRCLFFBQVEsQ0FBQ2EsS0FBVCxHQUFpQlUsTUFBakIsQ0FBd0IsRUFBRSxHQUFHRDtBQUFMLEdBQXhCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZU4sV0FBZixDQUEyQlEsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTVosUUFBUSxHQUFHLE1BQU1aLFFBQVEsQ0FBQ2EsS0FBVCxHQUNsQlksS0FEa0IsQ0FDWixFQUFFLEdBQUdEO0FBQUwsR0FEWSxFQUVsQkUsZ0JBRmtCLENBRUQsT0FGQyxFQUdsQkMsS0FIa0IsRUFBdkI7QUFLQSxTQUFPZixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNhdGVnb3J5LFxuICAgIHVwZGF0ZUNhdGVnb3J5LFxuICAgIGdldEFsbENhdGVnb3J5LFxuICAgIGdldEFsbENvbXBhbnlDYXRlZ29yeXMsXG4gICAgZ2V0Q2F0ZWdvcnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBnZXRDYXRlZ29yeSh7IGlkIH0pO1xuICAgIC8vY2hlY2sgaWYgY2F0ZWdvcnkgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjYXRlZ29yeS5uYW1lICE9PSBwYXJhbXMubmFtZSAmJlxuICAgICAgICAoYXdhaXQgZ2V0Q2F0ZWdvcnkoe1xuICAgICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgICBtZW51X2lkOiBwYXJhbXMubWVudV9pZCxcbiAgICAgICAgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBDYXRlZ29yeSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkY2F0ZWdvcnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5KCkge1xuICAgIGNvbnN0IGNhdGVnb3J5cyA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNhdGVnb3J5cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyhwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeXMgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSh7IC4uLnBhcmFtcyB9KTtcbiAgICByZXR1cm4gY2F0ZWdvcnlzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGdldENhdGVnb3J5KHsgaWQgfSk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKHF1ZXJ5UGFyYW1zKSB7XG4gICAgYXdhaXQgQ2F0ZWdvcnkucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IGNhdGVnb3J5LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhdGVnb3J5KHBhcmFtKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIilcbiAgICAgICAgLmZpcnN0KCk7XG5cbiAgICByZXR1cm4gY2F0ZWdvcnk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createCategory,\n    updateCategory,\n    getAllCategory,\n    getAllCompanyCategorys,\n    getCategoryById,\n    _delete,\n};\n\nasync function createCategory(params) {\n    const category &#x3D; await Category.query().insert(params);\n    return category;\n}\n\nasync function updateCategory(id, params) {\n    const category &#x3D; await getCategory({ id });\n    &#x2F;&#x2F;check if category name is duplicated\n    if (\n        params.name &amp;&amp;\n        category.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCategory({\n            name: params.name,\n            menu_id: params.menu_id,\n        }))\n    ) {\n        error(&#x60;Category ${params.name} already exists&#x60;);\n    }\n    const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedcategory;\n}\n\nasync function getAllCategory() {\n    const categorys &#x3D; await Category.query();\n    return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n    const categorys &#x3D; await Category.query({ ...params });\n    return categorys;\n}\n\nasync function getCategoryById(id) {\n    const category &#x3D; await getCategory({ id });\n    return category;\n}\n\nasync function _delete(queryParams) {\n    await Category.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCategory(param) {\n    const category &#x3D; await Category.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;items\&quot;)\n        .first();\n\n    return category;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;af&#x2F;categoryservice_af4a088c54a063175cdbab3d375f5ef2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2961&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6647,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6644,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 319,
                    &quot;endOffset&quot;: 437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 439,
                    &quot;endOffset&quot;: 884,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 886,
                    &quot;endOffset&quot;: 985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 987,
                    &quot;endOffset&quot;: 1115,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1117,
                    &quot;endOffset&quot;: 1226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1228,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1462,
                    &quot;endOffset&quot;: 1617,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createMenu,\n  updateMenu,\n  getAllMenu,\n  getAllCompanyMenus,\n  getMenuById,\n  _delete\n};\n\nasync function createMenu(params) {\n  const menu &#x3D; await Menu.query().insert(params);\n  return menu;\n}\n\nasync function updateMenu(id, params) {\n  const menu &#x3D; await getMenu({\n    id\n  }); &#x2F;&#x2F;check if menu name is duplicated\n\n  if (params.name &amp;&amp; menu.name !&#x3D;&#x3D; params.name &amp;&amp; (await getMenu({\n    name: params.name,\n    company_id: params.company_id\n  }))) {\n    error(&#x60;Menu ${params.name} already exists&#x60;);\n  }\n\n  const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, { ...params\n  });\n  return updatedmenu;\n}\n\nasync function getAllMenu() {\n  const menus &#x3D; await Menu.query();\n  return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n  const menus &#x3D; await Menu.query().where({ ...params\n  });\n  return menus;\n}\n\nasync function getMenuById(id) {\n  const menu &#x3D; await getMenu({\n    id\n  });\n  return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n  await Menu.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getMenu(param) {\n  const menu &#x3D; await Menu.query().where({ ...param\n  }).withGraphFetched(\&quot;categories\&quot;).first();\n  return menu;\n}\n\nfunction basicDetails(menu) {\n  const {\n    id,\n    name,\n    company_id,\n    categories\n  } &#x3D; menu;\n  return {\n    id,\n    name,\n    company_id,\n    categories\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJNZW51IiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU1lbnUiLCJ1cGRhdGVNZW51IiwiZ2V0QWxsTWVudSIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwiX2RlbGV0ZSIsInBhcmFtcyIsIm1lbnUiLCJxdWVyeSIsImluc2VydCIsImlkIiwiZ2V0TWVudSIsIm5hbWUiLCJjb21wYW55X2lkIiwidXBkYXRlZG1lbnUiLCJwYXRjaEFuZEZldGNoQnlJZCIsIm1lbnVzIiwid2hlcmUiLCJiYXNpY0RldGFpbHMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2l0aEdyYXBoRmV0Y2hlZCIsImZpcnN0IiwiY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFVBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQSxrQkFKYTtBQUtiQyxFQUFBQSxXQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsVUFBZixDQUEwQk0sTUFBMUIsRUFBa0M7QUFDOUIsUUFBTUMsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUFhQyxNQUFiLENBQW9CSCxNQUFwQixDQUFuQjtBQUNBLFNBQU9DLElBQVA7QUFDSDs7QUFFRCxlQUFlTixVQUFmLENBQTBCUyxFQUExQixFQUE4QkosTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLElBQUksQ0FBQ0ssSUFBTCxLQUFjTixNQUFNLENBQUNNLElBRHJCLEtBRUMsTUFBTUQsT0FBTyxDQUFDO0FBQ1hDLElBQUFBLElBQUksRUFBRU4sTUFBTSxDQUFDTSxJQURGO0FBRVhDLElBQUFBLFVBQVUsRUFBRVAsTUFBTSxDQUFDTztBQUZSLEdBQUQsQ0FGZCxDQURKLEVBT0U7QUFDRWhCLElBQUFBLEtBQUssQ0FBRSxRQUFPUyxNQUFNLENBQUNNLElBQUssaUJBQXJCLENBQUw7QUFDSDs7QUFDRCxRQUFNRSxXQUFXLEdBQUcsTUFBTW5CLElBQUksQ0FBQ2EsS0FBTCxHQUFhTyxpQkFBYixDQUErQkwsRUFBL0IsRUFBbUMsRUFDekQsR0FBR0o7QUFEc0QsR0FBbkMsQ0FBMUI7QUFJQSxTQUFPUSxXQUFQO0FBQ0g7O0FBRUQsZUFBZVosVUFBZixHQUE0QjtBQUN4QixRQUFNYyxLQUFLLEdBQUcsTUFBTXJCLElBQUksQ0FBQ2EsS0FBTCxFQUFwQjtBQUNBLFNBQU9RLEtBQVA7QUFDSDs7QUFFRCxlQUFlYixrQkFBZixDQUFrQ0csTUFBbEMsRUFBMEM7QUFDdEMsUUFBTVUsS0FBSyxHQUFHLE1BQU1yQixJQUFJLENBQUNhLEtBQUwsR0FBYVMsS0FBYixDQUFtQixFQUFFLEdBQUdYO0FBQUwsR0FBbkIsQ0FBcEI7QUFDQSxTQUFPVSxLQUFQO0FBQ0g7O0FBRUQsZUFBZVosV0FBZixDQUEyQk0sRUFBM0IsRUFBK0I7QUFDM0IsUUFBTUgsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUI7QUFDQSxTQUFPUSxZQUFZLENBQUNYLElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlRixPQUFmLENBQXVCYyxXQUF2QixFQUFvQztBQUNoQyxRQUFNeEIsSUFBSSxDQUFDYSxLQUFMLEdBQWFZLE1BQWIsQ0FBb0IsRUFBRSxHQUFHRDtBQUFMLEdBQXBCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZVIsT0FBZixDQUF1QlUsS0FBdkIsRUFBOEI7QUFDMUIsUUFBTWQsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUNkUyxLQURjLENBQ1IsRUFBRSxHQUFHSTtBQUFMLEdBRFEsRUFFZEMsZ0JBRmMsQ0FFRyxZQUZILEVBR2RDLEtBSGMsRUFBbkI7QUFJQSxTQUFPaEIsSUFBUDtBQUNIOztBQUVELFNBQVNXLFlBQVQsQ0FBc0JYLElBQXRCLEVBQTRCO0FBQ3hCLFFBQU07QUFBRUcsSUFBQUEsRUFBRjtBQUFNRSxJQUFBQSxJQUFOO0FBQVlDLElBQUFBLFVBQVo7QUFBd0JXLElBQUFBO0FBQXhCLE1BQXVDakIsSUFBN0M7QUFFQSxTQUFPO0FBQUVHLElBQUFBLEVBQUY7QUFBTUUsSUFBQUEsSUFBTjtBQUFZQyxJQUFBQSxVQUFaO0FBQXdCVyxJQUFBQTtBQUF4QixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUvbWVudS5tb2RlbFwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVNZW51LFxuICAgIHVwZGF0ZU1lbnUsXG4gICAgZ2V0QWxsTWVudSxcbiAgICBnZXRBbGxDb21wYW55TWVudXMsXG4gICAgZ2V0TWVudUJ5SWQsXG4gICAgX2RlbGV0ZSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lbnUocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gbWVudTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IGdldE1lbnUoeyBpZCB9KTtcbiAgICAvL2NoZWNrIGlmIG1lbnUgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBtZW51Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRNZW51KHtcbiAgICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgICAgY29tcGFueV9pZDogcGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgIH0pKVxuICAgICkge1xuICAgICAgICBlcnJvcihgTWVudSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZG1lbnU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbE1lbnUoKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW55TWVudXMocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCkud2hlcmUoeyAuLi5wYXJhbXMgfSk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW51QnlJZChpZCkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBnZXRNZW51KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhtZW51KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGF3YWl0IE1lbnUucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IG1lbnUucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcblxuLy8gfVxuXG4vLyA9PT09PT09PT09PSBoZWxwZXJzPT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVudShwYXJhbSkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBNZW51LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW0gfSlcbiAgICAgICAgLndpdGhHcmFwaEZldGNoZWQoXCJjYXRlZ29yaWVzXCIpXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBtZW51O1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMobWVudSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGNvbXBhbnlfaWQsIGNhdGVnb3JpZXMgfSA9IG1lbnU7XG5cbiAgICByZXR1cm4geyBpZCwgbmFtZSwgY29tcGFueV9pZCwgY2F0ZWdvcmllcyB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createMenu,\n    updateMenu,\n    getAllMenu,\n    getAllCompanyMenus,\n    getMenuById,\n    _delete,\n};\n\nasync function createMenu(params) {\n    const menu &#x3D; await Menu.query().insert(params);\n    return menu;\n}\n\nasync function updateMenu(id, params) {\n    const menu &#x3D; await getMenu({ id });\n    &#x2F;&#x2F;check if menu name is duplicated\n    if (\n        params.name &amp;&amp;\n        menu.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getMenu({\n            name: params.name,\n            company_id: params.company_id,\n        }))\n    ) {\n        error(&#x60;Menu ${params.name} already exists&#x60;);\n    }\n    const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedmenu;\n}\n\nasync function getAllMenu() {\n    const menus &#x3D; await Menu.query();\n    return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n    const menus &#x3D; await Menu.query().where({ ...params });\n    return menus;\n}\n\nasync function getMenuById(id) {\n    const menu &#x3D; await getMenu({ id });\n    return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n    await Menu.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getMenu(param) {\n    const menu &#x3D; await Menu.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;categories\&quot;)\n        .first();\n    return menu;\n}\n\nfunction basicDetails(menu) {\n    const { id, name, company_id, categories } &#x3D; menu;\n\n    return { id, name, company_id, categories };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f7&#x2F;menuservice_f7dbb9eba4d4e93803a88e42e2790161.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2962&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7024,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7021,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 294,
                    &quot;endOffset&quot;: 396,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 398,
                    &quot;endOffset&quot;: 809,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 811,
                    &quot;endOffset&quot;: 894,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 896,
                    &quot;endOffset&quot;: 1016,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1018,
                    &quot;endOffset&quot;: 1125,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1127,
                    &quot;endOffset&quot;: 1217,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1353,
                    &quot;endOffset&quot;: 1497,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1499,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n  static get tableName() {\n    return tableNames.menu;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Company,\n        join: {\n          from: &#x60;${tableNames.menu}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      },\n      categories: {\n        relation: Model.HasManyRelation,\n        modelClasss: Category,\n        join: {\n          from: &#x60;${tableNames.menu}.id&#x60;,\n          to: &#x60;${tableNames.category}.menu_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Menu;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwiZGIiLCJzY2hlbWEiLCJ0YWJsZU5hbWVzIiwiTWVudSIsInRhYmxlTmFtZSIsIm1lbnUiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIkNvbXBhbnkiLCJDYXRlZ29yeSIsImNvbXBhbnkiLCJyZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwibW9kZWxDbGFzc3MiLCJqb2luIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsIkhhc01hbnlSZWxhdGlvbiIsImNhdGVnb3J5Iiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUVBLE1BQU1JLElBQU4sU0FBbUJMLEtBQW5CLENBQXlCO0FBQ3JCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxJQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHVCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVUsUUFBUSxHQUFHVixPQUFPLENBQUMsMkJBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIVyxNQUFBQSxPQUFPLEVBQUU7QUFDTEMsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNjLG9CQURYO0FBRUxDLFFBQUFBLFdBQVcsRUFBRUwsT0FGUjtBQUdMTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxhQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDUSxPQUFRO0FBRnhCO0FBSEQsT0FETjtBQVNITyxNQUFBQSxVQUFVLEVBQUU7QUFDUk4sUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNvQixlQURSO0FBRVJMLFFBQUFBLFdBQVcsRUFBRUosUUFGTDtBQUdSSyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxLQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDaUIsUUFBUztBQUZ6QjtBQUhFO0FBVFQsS0FBUDtBQWtCSDs7QUFoQ29COztBQW1DekJyQixLQUFLLENBQUNzQixJQUFOLENBQVdwQixFQUFYO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL21lbnUuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBNZW51IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5tZW51O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIC8vIEltcG9ydGluZyBtb2RlbHMgaGVyZSBpcyBhIG9uZSB3YXkgdG8gYXZvaWQgcmVxdWlyZSBsb29wcy5cbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3NzOiBDb21wYW55LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMuY29tcGFueX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2F0ZWdvcmllczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5tZW51X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n    static get tableName() {\n        return tableNames.menu;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Company,\n                join: {\n                    from: &#x60;${tableNames.menu}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n            categories: {\n                relation: Model.HasManyRelation,\n                modelClasss: Category,\n                join: {\n                    from: &#x60;${tableNames.menu}.id&#x60;,\n                    to: &#x60;${tableNames.category}.menu_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Menu;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e0&#x2F;menumodel_e012a4d71206586de4438d54cc8c48bf.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2963&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4674,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4671,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Menu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 277,
                    &quot;endOffset&quot;: 277,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 313,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 414,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 425,
                    &quot;endOffset&quot;: 1081,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createOrderSchema,\n  updateOrderSchema,\n  companyOrderSchema\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem); &#x2F;&#x2F; update an order item customer aka update cart item\n\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\&quot;&#x2F;:id\&quot;, updateOrderSchema, Auth([Role.staff, Role.owner]), updateOrder);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\&quot;&#x2F;company-orders\&quot;, companyOrderSchema, Auth([Role.owner, Role.staff]), getCompanyOrders);\n\nfunction createOrder(req, res, next) {\n  const payload &#x3D; {\n    customer_id: req.user.id,\n    company_id: req.params.company_id,\n    item: req.body\n  };\n  orderService.createOrder(payload).then(orderItem &#x3D;&gt; res.json({\n    message: &#x60;${orderItem.item} has been added to the cart&#x60;\n  })).catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n  orderService.updateOrder(req.params.id, req.user, req.body).then(order &#x3D;&gt; res.json(order)).catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n  orderService.getOrderById(id).then(order &#x3D;&gt; order ? res.json(order) : res.sendStatus(404)).catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n  orderService.getOwnOrders(req.user.id).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n  &#x2F;&#x2F; TODO to use query params\n  params.company_id &#x3D; req.params.company_id;\n  orderService.getCompanyOrders(params).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyU2NoZW1hIiwidXBkYXRlT3JkZXJTY2hlbWEiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJvcmRlclNlcnZpY2UiLCJPcmRlckl0ZW0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJjdXN0b21lciIsImNyZWF0ZU9yZGVyIiwicGF0Y2giLCJzdGFmZiIsIm93bmVyIiwidXBkYXRlT3JkZXIiLCJnZXQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicmVxIiwicmVzIiwibmV4dCIsInBheWxvYWQiLCJjdXN0b21lcl9pZCIsInVzZXIiLCJpZCIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJpdGVtIiwiYm9keSIsInRoZW4iLCJvcmRlckl0ZW0iLCJqc29uIiwibWVzc2FnZSIsImNhdGNoIiwib3JkZXIiLCJzZW5kU3RhdHVzIiwib3JkZXJzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLGlCQURFO0FBRUZDLEVBQUFBLGlCQUZFO0FBR0ZDLEVBQUFBO0FBSEUsSUFJRkgsT0FBTyxDQUFDLG9CQUFELENBSlg7O0FBS0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyw0QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUFwQjs7QUFDQSxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQSxNQUFNUSxTQUFTLEdBQUdSLE9BQU8sQ0FBQyw4QkFBRCxDQUF6Qjs7QUFFQSxNQUFNUyxN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QUlIOztBQUVELFNBQVNILGdCQUFULENBQTBCQyxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDO0FBRUFNLEVBQUFBLE1BQU0sQ0FBQ0QsVUFBUCxHQUFvQlAsR0FBRyxDQUFDUSxNQUFKLENBQVdELFVBQS9CO0FBQ0F4QixFQUFBQSxZQUFZLENBQ1BnQixnQkFETCxDQUNzQlMsTUFEdEIsRUFFS0csSUFGTCxDQUVXTyxNQUFELElBQWFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixDQUFoQixHQUFvQkQsTUFBcEIsR0FBNkJqQixHQUFHLENBQUNnQixVQUFKLENBQWUsR0FBZixDQUZwRCxFQUdLRixLQUhMLENBR1diLElBSFg7QUFJSDs7QUFDRGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge1xuICAgIGNyZWF0ZU9yZGVyU2NoZW1hLFxuICAgIHVwZGF0ZU9yZGVyU2NoZW1hLFxuICAgIGNvbXBhbnlPcmRlclNjaGVtYSxcbn0gPSByZXF1aXJlKFwiLi9vcmRlci52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi9vcmRlci5zZXJ2aWNlXCIpO1xuXG5jb25zdCBPcmRlckl0ZW0gPSByZXF1aXJlKFwiLi9vcmRlckl0ZW0vb3JkZXJJdGVtLnJvdXRlc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci51c2UoXCIvOm9yZGVyX2lkL29yZGVySXRlbVwiLCBPcmRlckl0ZW0pO1xuXG4vLyB1cGRhdGUgYW4gb3JkZXIgaXRlbSBjdXN0b21lciBha2EgdXBkYXRlIGNhcnQgaXRlbVxucm91dGVyLnBvc3QoXCIvXCIsIGNyZWF0ZU9yZGVyU2NoZW1hLCBBdXRoKFJvbGUuY3VzdG9tZXIpLCBjcmVhdGVPcmRlcik7XG5yb3V0ZXIucGF0Y2goXG4gICAgXCIvOmlkXCIsXG4gICAgdXBkYXRlT3JkZXJTY2hlbWEsXG4gICAgQXV0aChbUm9sZS5zdGFmZiwgUm9sZS5vd25lcl0pLFxuICAgIHVwZGF0ZU9yZGVyXG4pO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRPcmRlckJ5SWQpO1xucm91dGVyLmdldChcIi86aWQvbXktb3JkZXJzXCIsIEF1dGgoUm9sZS5jdXN0b21lciksIGdldE93bk9yZGVycyk7XG5yb3V0ZXIuZ2V0KFxuICAgIFwiL2NvbXBhbnktb3JkZXJzXCIsXG4gICAgY29tcGFueU9yZGVyU2NoZW1hLFxuICAgIEF1dGgoW1JvbGUub3duZXIsIFJvbGUuc3RhZmZdKSxcbiAgICBnZXRDb21wYW55T3JkZXJzXG4pO1xuXG5mdW5jdGlvbiBjcmVhdGVPcmRlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGN1c3RvbWVyX2lkOiByZXEudXNlci5pZCxcbiAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICBpdGVtOiByZXEuYm9keSxcbiAgICB9O1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuY3JlYXRlT3JkZXIocGF5bG9hZClcbiAgICAgICAgLnRoZW4oKG9yZGVySXRlbSkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtvcmRlckl0ZW0uaXRlbX0gaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGNhcnRgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgb3JkZXJTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVPcmRlcihyZXEucGFyYW1zLmlkLCByZXEudXNlciwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChvcmRlcikgPT4gcmVzLmpzb24ob3JkZXIpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE9yZGVyQnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3JkZXJCeUlkKGlkKVxuICAgICAgICAudGhlbigob3JkZXIpID0+IChvcmRlciA&#x2F;IHJlcy5qc29uKG9yZGVyKSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE93bk9yZGVycyhyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3duT3JkZXJzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYW55T3JkZXJzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gVE9ETyB0byB1c2UgcXVlcnkgcGFyYW1zXG5cbiAgICBwYXJhbXMuY29tcGFueV9pZCA9IHJlcS5wYXJhbXMuY29tcGFueV9pZDtcbiAgICBvcmRlclNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlPcmRlcnMocGFyYW1zKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst {\n    createOrderSchema,\n    updateOrderSchema,\n    companyOrderSchema,\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem);\n\n&#x2F;&#x2F; update an order item customer aka update cart item\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\n    \&quot;&#x2F;:id\&quot;,\n    updateOrderSchema,\n    Auth([Role.staff, Role.owner]),\n    updateOrder\n);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\n    \&quot;&#x2F;company-orders\&quot;,\n    companyOrderSchema,\n    Auth([Role.owner, Role.staff]),\n    getCompanyOrders\n);\n\nfunction createOrder(req, res, next) {\n    const payload &#x3D; {\n        customer_id: req.user.id,\n        company_id: req.params.company_id,\n        item: req.body,\n    };\n    orderService\n        .createOrder(payload)\n        .then((orderItem) &#x3D;&gt;\n            res.json({\n                message: &#x60;${orderItem.item} has been added to the cart&#x60;,\n            })\n        )\n        .catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n    orderService\n        .updateOrder(req.params.id, req.user, req.body)\n        .then((order) &#x3D;&gt; res.json(order))\n        .catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n    orderService\n        .getOrderById(id)\n        .then((order) &#x3D;&gt; (order ? res.json(order) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n    orderService\n        .getOwnOrders(req.user.id)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n    &#x2F;&#x2F; TODO to use query params\n\n    params.company_id &#x3D; req.params.company_id;\n    orderService\n        .getCompanyOrders(params)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8f&#x2F;orderroutes_8f4620babd5b20aee9e160dc0d9cf20a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2964&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 9222,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 9219,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 978,
                    &quot;endOffset&quot;: 1275,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1277,
                    &quot;endOffset&quot;: 1423,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1425,
                    &quot;endOffset&quot;: 1572,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1574,
                    &quot;endOffset&quot;: 1734,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1736,
                    &quot;endOffset&quot;: 1974,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    item: Joi.number().required(),\n    quantity: Joi.number()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    customer_id: Joi.number().empty(),\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVPcmRlclNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJpdGVtIiwibnVtYmVyIiwicmVxdWlyZWQiLCJxdWFudGl0eSIsInVwZGF0ZU9yZGVyU2NoZW1hIiwib3JkZXJfc3RhdHVzIiwic3RyaW5nIiwiZW1wdHkiLCJwdXJjaGFzZV9zdGF0dXMiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJjdXN0b21lcl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxpQkFBUixHQUE0QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM1QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSjtBQUZZLEdBQVgsQ0FBZjtBQUlBVCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQU5EOztBQVFBTCxPQUFPLENBQUNXLGlCQUFSLEdBQTRCLENBQUNULEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJNLElBQUFBLFlBQVksRUFBRWYsR0FBRyxDQUFDZ0IsTUFBSixHQUFhQyxLQUFiLENBQW1CLEVBQW5CLENBRFE7QUFFdEJDLElBQUFBLGVBQWUsRUFBRWxCLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQjtBQUZLLEdBQVgsQ0FBZjtBQUtBZixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVBEOztBQVNBTCxPQUFPLENBQUNnQixrQkFBUixHQUE2QixDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM3QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCVyxJQUFBQSxXQUFXLEVBQUVwQixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixFQURTO0FBRXRCRixJQUFBQSxZQUFZLEVBQUVmLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQixDQUZRO0FBR3RCQyxJQUFBQSxlQUFlLEVBQUVsQixHQUFHLENBQUNnQixNQUFKLEdBQWFDLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFYLENBQWY7QUFNQWYsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FSRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBpdGVtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy5jb21wYW55T3JkZXJTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgY3VzdG9tZXJfaWQ6IEpvaS5udW1iZXIoKS5lbXB0eSgpLFxuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        item: Joi.number().required(),\n        quantity: Joi.number(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        customer_id: Joi.number().empty(),\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e1&#x2F;ordervalidators_e12e9bab16ee6f22191cb1085e8fa580.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2965&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3959,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3956,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 221,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 411,
                    &quot;endOffset&quot;: 594,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 626,
                    &quot;endOffset&quot;: 848,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n  createOrder,\n  updateOrderItem,\n  updateOrder,\n  getOrderById,\n  getOwnOrders,\n  getCompanyOrders\n};\n\nasync function createOrder(params) {\n  const order &#x3D; await get_or_create(params.customer_id, params.company_id); &#x2F;&#x2F; insert the item to the order item table\n\n  const orderItem &#x3D; order.$relatedQuery(\&quot;items\&quot;).insert({\n    item: params.item.id,\n    order: order.id\n  });\n  return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n  const order &#x3D; await getOrder(id); &#x2F;&#x2F; check item quantity\n\n  if (params.item.quantity &lt;&#x3D; 0) {\n    &#x2F;&#x2F; remove from cart\n    await order.$relatedQuery(\&quot;items\&quot;).delete().where({\n      item: params.item.id\n    });\n    return;\n  }\n\n  const orderItem &#x3D; await order.$relatedQuery(\&quot;items\&quot;).patch({\n    quantity: params.item.quantity\n  }).where({\n    item: params.item.id\n  }).returning(\&quot;*\&quot;);\n  return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n  let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n  if (order.company.id !&#x3D;&#x3D; user.company.id) {\n    const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n    throw error;\n  } &#x2F;&#x2F; aka update order table\n\n\n  order &#x3D; await Order.query().patchAndFetchById(id, params);\n  return order;\n}\n\nasync function getOrderById(id) {\n  const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n  return order;\n}\n\nasync function getOwnOrders(id) {\n  const orders &#x3D; await Order.query().where({\n    customer_id: id\n  }).orderBy(\&quot;created_at\&quot;);\n  return orders;\n}\n\nasync function getCompanyOrders(params) {\n  const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n  return orders;\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function get_or_create(id, company_id) {\n  &#x2F;&#x2F; checks for the existence of a customer order\n  &#x2F;&#x2F; if it exists add the new items on it\n  &#x2F;&#x2F; if it does not exist it creates one\n  let order &#x3D; await Order.query().where({\n    customer_id: id,\n    order_status: \&quot;New\&quot;\n  }).first();\n\n  if (!order) {\n    &#x2F;&#x2F; create one\n    order &#x3D; await Order.query().insert({\n      customer_id: id,\n      company_id,\n      order_status: \&quot;New\&quot;,\n      purchase_status: \&quot;unpaid\&quot;\n    });\n  }\n\n  return order;\n}\n\nasync function getOrder(id) {\n  const order &#x3D; await Order.query().findById(id);\n  return order;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU9yZGVyIiwidXBkYXRlT3JkZXJJdGVtIiwidXBkYXRlT3JkZXIiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicGFyYW1zIiwib3JkZXIiLCJnZXRfb3JfY3JlYXRlIiwiY3VzdG9tZXJfaWQiLCJjb21wYW55X2lkIiwib3JkZXJJdGVtIiwiJHJlbGF0ZWRRdWVyeSIsImluc2VydCIsIml0ZW0iLCJpZCIsImdldE9yZGVyIiwicXVhbnRpdHkiLCJkZWxldGUiLCJ3aGVyZSIsInBhdGNoIiwicmV0dXJuaW5nIiwidXNlciIsIndpdGhHcmFwaEZldGNoZWQiLCJjb21wYW55IiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJvcmRlcnMiLCJvcmRlckJ5Iiwib3JkZXJfc3RhdHVzIiwiZmlyc3QiLCJwdXJjaGFzZV9zdGF0dXMiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLFdBRGE7QUFFYkMsRUFBQUEsZUFGYTtBQUdiQyxFQUFBQSxXQUhhO0FBSWJDLEVBQUFBLFlBSmE7QUFLYkMsRUFBQUEsWUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLFdBQWYsQ0FBMkJNLE1BQTNCLEVBQW1DO0FBQy9CLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxhQUFhLENBQUNGLE1BQU0sQ0FBQ0csV0FBUixFQUFxQkgsTUFBTSxDQUFDSSxVQUE1QixDQUFqQyxDQUQrQixDQUcvQjs7QUFDQSxRQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FDbEJLLGFBRGEsQ0FDQyxPQURELEVBRWJDLE1BRmEsQ0FFTjtBQUFF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QUFJLENBQUN6QixLQUFMLEVBQVk7QUFDUjtBQUNBQSxJQUFBQSxLQUFLLEdBQUcsTUFBTVgsS0FBSyxDQUFDK0IsS0FBTixHQUFjZCxNQUFkLENBQXFCO0FBQy9CSixNQUFBQSxXQUFXLEVBQUVNLEVBRGtCO0FBRS9CTCxNQUFBQSxVQUYrQjtBQUcvQnFCLE1BQUFBLFlBQVksRUFBRSxLQUhpQjtBQUkvQkUsTUFBQUEsZUFBZSxFQUFFO0FBSmMsS0FBckIsQ0FBZDtBQU1IOztBQUVELFNBQU8xQixLQUFQO0FBQ0g7O0FBRUQsZUFBZVMsUUFBZixDQUF3QkQsRUFBeEIsRUFBNEI7QUFDeEIsUUFBTVIsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY08sUUFBZCxDQUF1Qm5CLEVBQXZCLENBQXBCO0FBQ0EsU0FBT1IsS0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT3JkZXIgPSByZXF1aXJlKFwiLi9vcmRlci5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlT3JkZXIsXG4gICAgdXBkYXRlT3JkZXJJdGVtLFxuICAgIHVwZGF0ZU9yZGVyLFxuICAgIGdldE9yZGVyQnlJZCxcbiAgICBnZXRPd25PcmRlcnMsXG4gICAgZ2V0Q29tcGFueU9yZGVycyxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0X29yX2NyZWF0ZShwYXJhbXMuY3VzdG9tZXJfaWQsIHBhcmFtcy5jb21wYW55X2lkKTtcblxuICAgIC8vIGluc2VydCB0aGUgaXRlbSB0byB0aGUgb3JkZXIgaXRlbSB0YWJsZVxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLmluc2VydCh7IGl0ZW06IHBhcmFtcy5pdGVtLmlkLCBvcmRlcjogb3JkZXIuaWQgfSk7XG5cbiAgICByZXR1cm4gb3JkZXJJdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckl0ZW0oaWQsIHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0T3JkZXIoaWQpO1xuXG4gICAgLy8gY2hlY2sgaXRlbSBxdWFudGl0eVxuICAgIGlmIChwYXJhbXMuaXRlbS5xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGNhcnRcbiAgICAgICAgYXdhaXQgb3JkZXJcbiAgICAgICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLndoZXJlKHsgaXRlbTogcGFyYW1zLml0ZW0uaWQgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVySXRlbSA9IGF3YWl0IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLnBhdGNoKHtcbiAgICAgICAgICAgIHF1YW50aXR5OiBwYXJhbXMuaXRlbS5xdWFudGl0eSxcbiAgICAgICAgfSlcbiAgICAgICAgLndoZXJlKHtcbiAgICAgICAgICAgIGl0ZW06IHBhcmFtcy5pdGVtLmlkLFxuICAgICAgICB9KVxuICAgICAgICAucmV0dXJuaW5nKFwiKlwiKTtcblxuICAgIHJldHVybiBvcmRlckl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkLCB1c2VyLCBwYXJhbXMpIHtcbiAgICBsZXQgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCkud2l0aEdyYXBoRmV0Y2hlZChcImNvbXBhbnlcIik7XG5cbiAgICBpZiAob3JkZXIuY29tcGFueS5pZCAhPT0gdXNlci5jb21wYW55LmlkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVW5hdGhvcml6ZWRcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBha2EgdXBkYXRlIG9yZGVyIHRhYmxlXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGdldE9yZGVyKGlkKS53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPd25PcmRlcnMoaWQpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IGN1c3RvbWVyX2lkOiBpZCB9KVxuICAgICAgICAub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFueU9yZGVycyhwYXJhbXMpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpLndoZXJlKHBhcmFtcykub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09aGVscGVycz09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRfb3JfY3JlYXRlKGlkLCBjb21wYW55X2lkKSB7XG4gICAgLy8gY2hlY2tzIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgY3VzdG9tZXIgb3JkZXJcbiAgICAvLyBpZiBpdCBleGlzdHMgYWRkIHRoZSBuZXcgaXRlbXMgb24gaXRcbiAgICAvLyBpZiBpdCBkb2VzIG5vdCBleGlzdCBpdCBjcmVhdGVzIG9uZVxuXG4gICAgbGV0IG9yZGVyID0gYXdhaXQgT3JkZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGlkLFxuICAgICAgICAgICAgb3JkZXJfc3RhdHVzOiBcIk5ld1wiLFxuICAgICAgICB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9uZVxuICAgICAgICBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuaW5zZXJ0KHtcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgICAgIGNvbXBhbnlfaWQsXG4gICAgICAgICAgICBvcmRlcl9zdGF0dXM6IFwiTmV3XCIsXG4gICAgICAgICAgICBwdXJjaGFzZV9zdGF0dXM6IFwidW5wYWlkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuZmluZEJ5SWQoaWQpO1xuICAgIHJldHVybiBvcmRlcjtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n    createOrder,\n    updateOrderItem,\n    updateOrder,\n    getOrderById,\n    getOwnOrders,\n    getCompanyOrders,\n};\n\nasync function createOrder(params) {\n    const order &#x3D; await get_or_create(params.customer_id, params.company_id);\n\n    &#x2F;&#x2F; insert the item to the order item table\n    const orderItem &#x3D; order\n        .$relatedQuery(\&quot;items\&quot;)\n        .insert({ item: params.item.id, order: order.id });\n\n    return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n    const order &#x3D; await getOrder(id);\n\n    &#x2F;&#x2F; check item quantity\n    if (params.item.quantity &lt;&#x3D; 0) {\n        &#x2F;&#x2F; remove from cart\n        await order\n            .$relatedQuery(\&quot;items\&quot;)\n            .delete()\n            .where({ item: params.item.id });\n\n        return;\n    }\n\n    const orderItem &#x3D; await order\n        .$relatedQuery(\&quot;items\&quot;)\n        .patch({\n            quantity: params.item.quantity,\n        })\n        .where({\n            item: params.item.id,\n        })\n        .returning(\&quot;*\&quot;);\n\n    return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n    let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n    if (order.company.id !&#x3D;&#x3D; user.company.id) {\n        const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n        throw error;\n    }\n    &#x2F;&#x2F; aka update order table\n    order &#x3D; await Order.query().patchAndFetchById(id, params);\n\n    return order;\n}\n\nasync function getOrderById(id) {\n    const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n    return order;\n}\n\nasync function getOwnOrders(id) {\n    const orders &#x3D; await Order.query()\n        .where({ customer_id: id })\n        .orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n\nasync function getCompanyOrders(params) {\n    const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function get_or_create(id, company_id) {\n    &#x2F;&#x2F; checks for the existence of a customer order\n    &#x2F;&#x2F; if it exists add the new items on it\n    &#x2F;&#x2F; if it does not exist it creates one\n\n    let order &#x3D; await Order.query()\n        .where({\n            customer_id: id,\n            order_status: \&quot;New\&quot;,\n        })\n        .first();\n\n    if (!order) {\n        &#x2F;&#x2F; create one\n        order &#x3D; await Order.query().insert({\n            customer_id: id,\n            company_id,\n            order_status: \&quot;New\&quot;,\n            purchase_status: \&quot;unpaid\&quot;,\n        });\n    }\n\n    return order;\n}\n\nasync function getOrder(id) {\n    const order &#x3D; await Order.query().findById(id);\n    return order;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2d&#x2F;orderservice_2dd8ed46d0ebb5dcc0edc8f1fb86b7ac.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2966&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10175,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10172,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 253,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 543,
                    &quot;endOffset&quot;: 993,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 995,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1324,
                    &quot;endOffset&quot;: 1437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1439,
                    &quot;endOffset&quot;: 1584,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1586,
                    &quot;endOffset&quot;: 1720,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get_or_create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1783,
                    &quot;endOffset&quot;: 2270,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2272,
                    &quot;endOffset&quot;: 2369,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n  static get tableName() {\n    return tableNames.order;\n  }\n\n  static get relationMappings() {\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n    return {\n      items: {\n        relation: Model.HasManyRelation,\n        modelClass: OrderItem,\n        join: {\n          from: &#x60;${tableNames.order}.id&#x60;,\n          to: &#x60;${tableNames.orderItem}.order_id&#x60;\n        }\n      },\n      customer: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.order}.customer_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Company,\n        join: {\n          from: &#x60;${tableNames.order}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Order;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJkYiIsIk9yZGVyIiwidGFibGVOYW1lIiwib3JkZXIiLCJyZWxhdGlvbk1hcHBpbmdzIiwiQ29tcGFueSIsIlVzZXIiLCJPcmRlckl0ZW0iLCJpdGVtcyIsInJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwibW9kZWxDbGFzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJvcmRlckl0ZW0iLCJjdXN0b21lciIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwidXNlciIsImNvbXBhbnkiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsS0FBTixTQUFvQkosS0FBcEIsQ0FBMEI7QUFDdEIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLEtBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBQ0EsVUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsNkJBQUQsQ0FBekI7O0FBRUEsV0FBTztBQUNIVSxNQUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNhLGVBRGI7QUFFSEMsUUFBQUEsVUFBVSxFQUFFSixTQUZUO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWQsVUFBVSxDQUFDSSxLQUFNLEtBRHhCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZixVQUFVLENBQUNnQixTQUFVO0FBRjFCO0FBSEgsT0FESjtBQVVIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEVjtBQUVOTixRQUFBQSxVQUFVLEVBQUVMLElBRk47QUFHTk0sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sY0FEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ21CLElBQUs7QUFGckI7QUFIQSxPQVZQO0FBa0JIQyxNQUFBQSxPQUFPLEVBQUU7QUFDTFYsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEWDtBQUVMTixRQUFBQSxVQUFVLEVBQUVOLE9BRlA7QUFHTE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sYUFEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ29CLE9BQVE7QUFGeEI7QUFIRDtBQWxCTixLQUFQO0FBMkJIOztBQXJDcUI7O0FBd0MxQnRCLEtBQUssQ0FBQ3VCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IHRhYmxlTmFtZXMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhYmxlTmFtZXNcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcblxuY2xhc3MgT3JkZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLm9yZGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgT3JkZXJJdGVtID0gcmVxdWlyZShcIi4vb3JkZXJJdGVtL29yZGVySXRlbS5tb2RlbFwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuSGFzTWFueVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IE9yZGVySXRlbSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMub3JkZXJJdGVtfS5vcmRlcl9pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IFVzZXIsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLm9yZGVyfS5jdXN0b21lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzczogQ29tcGFueSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcjtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n    static get tableName() {\n        return tableNames.order;\n    }\n\n    static get relationMappings() {\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n        const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n        return {\n            items: {\n                relation: Model.HasManyRelation,\n                modelClass: OrderItem,\n                join: {\n                    from: &#x60;${tableNames.order}.id&#x60;,\n                    to: &#x60;${tableNames.orderItem}.order_id&#x60;,\n                },\n            },\n\n            customer: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.order}.customer_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Company,\n                join: {\n                    from: &#x60;${tableNames.order}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Order;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;66&#x2F;ordermodel_662f5b9ea6475bcabfd0d4f0bf405dda.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2967&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5243,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5240,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Order&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 230,
                    &quot;endOffset&quot;: 230,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 267,
                    &quot;endOffset&quot;: 317,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 328,
                    &quot;endOffset&quot;: 1185,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n  orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVySXRlbS5yb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhdXRoIiwiQXV0aCIsInJvbGUiLCJvcmRlclNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInB1dCIsImN1c3RvbWVyIiwidXBkYXRlT3JkZXJJdGVtIiwicmVxIiwicmVzIiwibmV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJGLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxrQkFBRCxDQUE1Qjs7QUFFQSxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBUixDQUFlO0FBQzFCQyxFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUFmLENBQWY7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQk4sSUFBSSxDQUFDQyxJQUFJLENBQUNNLFFBQU4sQ0FBcEIsRUFBcUNDLGVBQXJDOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDckNULEVBQUFBLFlBQVksQ0FBQ00sZUFBYjtBQUNIOztBQUVESSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCByb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi4vb3JkZXIuc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wdXQoXCIvXCIsIEF1dGgocm9sZS5jdXN0b21lciksIHVwZGF0ZU9yZGVySXRlbSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVySXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZS51cGRhdGVPcmRlckl0ZW0oKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n    orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;orderItemroutes_440b1db2888128c60482407cf8bcef31.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2968&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2184,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2181,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 406,
                    &quot;endOffset&quot;: 484,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        }
      ]
    },
    {
      &quot;leaks&quot;: false,
      &quot;numFailingTests&quot;: 0,
      &quot;numPassingTests&quot;: 2,
      &quot;numPendingTests&quot;: 0,
      &quot;numTodoTests&quot;: 0,
      &quot;openHandles&quot;: [],
      &quot;perfStats&quot;: {
        &quot;end&quot;: 1610567039914,
        &quot;runtime&quot;: 820,
        &quot;slow&quot;: false,
        &quot;start&quot;: 1610567039094
      },
      &quot;skipped&quot;: false,
      &quot;snapshot&quot;: {
        &quot;added&quot;: 0,
        &quot;fileDeleted&quot;: false,
        &quot;matched&quot;: 0,
        &quot;unchecked&quot;: 0,
        &quot;unmatched&quot;: 0,
        &quot;updated&quot;: 0,
        &quot;uncheckedKeys&quot;: []
      },
      &quot;testFilePath&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;test&#x2F;api.test.js&quot;,
      &quot;testResults&quot;: [
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET &#x2F;api&#x2F;v1&quot;
          ],
          &quot;duration&quot;: 25,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET &#x2F;api&#x2F;v1 responds with a json message&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;responds with a json message&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET &#x2F;api&#x2F;v1&#x2F;emojis&quot;
          ],
          &quot;duration&quot;: 30,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET &#x2F;api&#x2F;v1&#x2F;emojis responds with a json message&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;responds with a json message&quot;
        }
      ],
      &quot;failureMessage&quot;: null,
      &quot;v8Coverage&quot;: [
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\n\nconst compression &#x3D; require(\&quot;compression\&quot;);\n\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\n\nconst cors &#x3D; require(\&quot;cors\&quot;); &#x2F;&#x2F; Swagger stuff\n\n\nrequire(\&quot;rootpath\&quot;)();\n\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\n\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\n\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;\n  });\n});\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\nmodule.exports &#x3D; app;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvbXByZXNzaW9uIiwiaGVsbWV0IiwiY29ycyIsInN3YWdnZXJVaSIsInN3YWdnZXJEb2MiLCJjb25maWciLCJtaWRkbGV3YXJlcyIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJtZXNzYWdlIiwic2VydmUiLCJzZXR1cCIsIm5vdEZvdW5kIiwiZXJyb3JIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxVQUFELENBQVA7O0FBQ0EsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JPLE1BQWxCOztBQUVBLE1BQU1DLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsTUFBTVMsR0FBRyxHQUFHVCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNVSxHQUFHLEdBQUdYLE9BQU8sRUFBbkI7QUFFQVcsR0FBRyxDQUFDQyxHQUFKLENBQVFWLE1BQU0sQ0FBQyxLQUFELENBQWQ7QUFDQVMsR0FBRyxDQUFDQyxHQUFKLENBQVFSLE1BQU0sRUFBZDtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVAsSUFBSSxFQUFaO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRVCxXQUFXLEVBQW5CO0FBQ0FRLEdBQUcsQ0FBQ0MsR0FBSixDQUFRWixPQUFPLENBQUNhLElBQVIsRUFBUjtBQUVBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTO0FBQ0xJLElBQUFBLE9BQU8sRUFBRTtBQURKLEdBQVQ7QUFHSCxDQUpEO0FBTUFOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJGLEdBQW5CO0FBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJOLFNBQVMsQ0FBQ1ksS0FBL0IsRUFBc0NaLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQlosVUFBaEIsQ0FBdEM7QUFFQUksR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1csUUFBcEI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1ksWUFBcEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbi8vIFN3YWdnZXIgc3R1ZmZcbnJlcXVpcmUoXCJyb290cGF0aFwiKSgpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcbmNvbnN0IHN3YWdnZXJEb2MgPSByZXF1aXJlKFwiLi4vZG9jcy9zd2FnZ2VyLmpzb25cIik7XG5cbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IG1pZGRsZXdhcmVzID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXNcIik7XG5jb25zdCBhcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCLwn6aE8J+MiOKcqPCfkYvwn4yO8J+MjfCfjI&#x2F;inKjwn4yI8J+mhFwiLFxuICAgIH0pO1xufSk7XG5cbmFwcC51c2UoXCIvYXBpL3YxXCIsIGFwaSk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2MpKTtcblxuYXBwLnVzZShtaWRkbGV3YXJlcy5ub3RGb3VuZCk7XG5hcHAudXNlKG1pZGRsZXdhcmVzLmVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\nconst compression &#x3D; require(\&quot;compression\&quot;);\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\nconst cors &#x3D; require(\&quot;cors\&quot;);\n\n&#x2F;&#x2F; Swagger stuff\nrequire(\&quot;rootpath\&quot;)();\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\n\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;,\n    });\n});\n\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\n\nmodule.exports &#x3D; app;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;68&#x2F;app_6855482f668a469a3eba3734dab1ce4c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2039&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4132,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4129,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 669,
                    &quot;endOffset&quot;: 739,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;function notFound(req, res, next) {\n  res.status(404);\n  const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n  next(error);\n}\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\n\n\nfunction errorHandler(err, req, res, next) {\n  &#x2F;* eslint-enable no-unused-vars *&#x2F;\n  const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n  res.status(statusCode);\n  if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n  res.json({\n    message: err.message,\n    stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack\n  });\n}\n\nmodule.exports &#x3D; {\n  notFound,\n  errorHandler\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbIm5vdEZvdW5kIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwiRXJyb3IiLCJvcmlnaW5hbFVybCIsImVycm9ySGFuZGxlciIsImVyciIsInN0YXR1c0NvZGUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImpzb24iLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVg7QUFDQSxRQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFXLG9CQUFtQkwsR0FBRyxDQUFDTSxXQUFZLEVBQTlDLENBQWQ7QUFDQUosRUFBQUEsSUFBSSxDQUFDRSxLQUFELENBQUo7QUFDSDtBQUVEOzs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxHQUF0QixFQUEyQlIsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QztBQUNBLFFBQU1PLFVBQVUsR0FBR1IsR0FBRyxDQUFDUSxVQUFKLEtBQW1CLEdBQW5CLEdBQXlCUixHQUFHLENBQUNRLFVBQTdCLEdBQTBDLEdBQTdEO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXTSxVQUFYO0FBQ0EsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNPLE9BQWhCO0FBQzNDZCxFQUFBQSxHQUFHLENBQUNlLElBQUosQ0FBUztBQUNMRCxJQUFBQSxPQUFPLEVBQUVQLEdBQUcsQ0FBQ08sT0FEUjtBQUVMRSxJQUFBQSxLQUFLLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQXdDLElBQXhDLEdBQStDSixHQUFHLENBQUNTO0FBRnJELEdBQVQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwQixFQUFBQSxRQURhO0FBRWJRLEVBQUFBO0FBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3RGb3VuZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihg8J+UjSAtIE5vdCBGb3VuZCAtICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIG5leHQoZXJyb3IpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlICE9PSAyMDAgPyByZXMuc3RhdHVzQ29kZSA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gXCLwn6WeXCIgOiBlcnIuc3RhY2ssXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5vdEZvdW5kLFxuICAgIGVycm9ySGFuZGxlcixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;function notFound(req, res, next) {\n    res.status(404);\n    const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n    next(error);\n}\n\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\nfunction errorHandler(err, req, res, next) {\n    &#x2F;* eslint-enable no-unused-vars *&#x2F;\n    const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n    res.status(statusCode);\n    if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n    res.json({\n        message: err.message,\n        stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack,\n    });\n}\n\nmodule.exports &#x3D; {\n    notFound,\n    errorHandler,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0d&#x2F;middlewares_0d2bc57a77c05a727da8aec38de48282.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2172&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3010,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3007,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;notFound&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 89,
                    &quot;endOffset&quot;: 226,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;errorHandler&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 265,
                    &quot;endOffset&quot;: 626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;API - üëãüåéüåçüåè\&quot;\n  });\n});\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsT0FBTyxFQUFFO0FBREosR0FBVDtBQUdILENBSkQ7QUFNQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QlIsT0FBTyxDQUFDLG9CQUFELENBQS9CO0FBQ0FDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJSLE9BQU8sQ0FBQywwQkFBRCxDQUE5QjtBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiQVBJIC0g8J+Ri&#x2F;CfjI7wn4yN8J+Mj1wiLFxuICAgIH0pO1xufSk7XG5cbnJvdXRlci51c2UoXCIvYWNjb3VudHNcIiwgcmVxdWlyZShcIi4vYXV0aC9hdXRoLnJvdXRlc1wiKSk7XG5yb3V0ZXIudXNlKFwiL2NvbXBhbnlcIiwgcmVxdWlyZShcIi4vY29tcGFueS9jb21wYW55LnJvdXRlc1wiKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;API - üëãüåéüåçüåè\&quot;,\n    });\n});\n\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;46&#x2F;index_46150bc44a91011b69db233a13fb0837.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2173&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1664,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 175,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nconst {\n  signinSchema,\n  signupSchema,\n  updateSchema,\n  verifyEmailSchema\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\n\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n  const {\n    email,\n    password\n  } &#x3D; req.body;\n  authService.login({\n    email,\n    password\n  }).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    res.json({\n      user,\n      token\n    });\n  }).catch(next);\n}\n\nfunction register(req, res, next) {\n  req.body.role &#x3D; Role.owner;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n  req.body.role &#x3D; Role.customer;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n  authService.verifyEmail(req.body).then(() &#x3D;&gt; res.json({\n    message: \&quot;Verification successfull\&quot;\n  })).catch(next);\n}\n\nfunction getAll(req, res, next) {\n  authService.getAll().then(accounts &#x3D;&gt; res.json(accounts)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  &#x2F;&#x2F; users can get their own account and admin can get any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.getById(req.params.id).then(account &#x3D;&gt; account ? res.json(account) : res.sendStatus(404)).catch(next);\n}\n\nfunction create(req, res, next) {\n  authService.create(req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; users can update their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.update(req.params.id, req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction _delete(req, res, next) {\n  &#x2F;&#x2F; users can delete their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.delete(req.param.id).then(() &#x3D;&gt; res.json({\n    message: \&quot;Account deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwic2lnbmluU2NoZW1hIiwic2lnbnVwU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoU2VydmljZSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsInBvc3QiLCJsb2dpbiIsInJlZ2lzdGVyQ3VzdG9tZXIiLCJyZWdpc3RlciIsInZlcmlmeUVtYWlsIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGwiLCJnZXRCeUlkIiwib3duZXIiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwidG9rZW4iLCJqc29uIiwiY2F0Y2giLCJyb2xlIiwibWVzc2FnZSIsImN1c3RvbWVyIiwiYWNjb3VudHMiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImFjY291bnQiLCJzZW5kU3RhdHVzIiwicGFyYW0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLFlBREU7QUFFRkMsRUFBQUEsWUFGRTtBQUdGQyxFQUFBQSxZQUhFO0FBSUZDLEVBQUFBO0FBSkUsSUFLRk4sT0FBTyxDQUFDLG1CQUFELENBTFg7O0FBTUEsTUFBTU8sV0FBVyxHQUFHUCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTTtBQUFFUSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJULE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7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QTNCLEVBQWlDO0FBQzdCO0FBQ0EsTUFBSWEsTUFBTSxDQUFDZixHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBQVosQ0FBTixLQUEwQmpCLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxFQUFuQyxJQUF5Q2pCLEdBQUcsQ0FBQ08sSUFBSixDQUFTSSxJQUFULEtBQWtCN0IsSUFBSSxDQUFDTyxLQUFwRSxFQUEyRTtBQUN2RSxXQUFPWSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNIOztBQUVEakMsRUFBQUEsV0FBVyxDQUNOaUIsTUFETCxDQUNZSSxHQUFHLENBQUNxQixLQUFKLENBQVVKLEVBRHRCLEVBRUtYLElBRkwsQ0FFVSxNQUNGTCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUNMRyxJQUFBQSxPQUFPLEVBQUUsOEJBREo7QUFFTEssSUFBQUEsRUFBRSxFQUFFakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQztBQUZWLEdBQVQsQ0FIUixFQVFLUCxLQVJMLENBUVdSLElBUlg7QUFTSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB7XG4gICAgc2lnbmluU2NoZW1hLFxuICAgIHNpZ251cFNjaGVtYSxcbiAgICB1cGRhdGVTY2hlbWEsXG4gICAgdmVyaWZ5RW1haWxTY2hlbWEsXG59ID0gcmVxdWlyZShcIi4vYXV0aC52YWxpZGF0b3JzXCIpO1xuY29uc3QgYXV0aFNlcnZpY2UgPSByZXF1aXJlKFwiLi9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCB7IGF1dGg6IEF1dGggfSA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcm9sZVwiKTtcblxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgc2lnbmluU2NoZW1hLCBsb2dpbik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci1jdXN0b21lclwiLCBzaWdudXBTY2hlbWEsIHJlZ2lzdGVyQ3VzdG9tZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItb3duZXJcIiwgc2lnbnVwU2NoZW1hLCByZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi92ZXJpZnktZW1haWxcIiwgdmVyaWZ5RW1haWxTY2hlbWEsIHZlcmlmeUVtYWlsKTtcbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoUm9sZS5hZG1pbiksIGdldEFsbCk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBBdXRoKCksIGdldEJ5SWQpO1xucm91dGVyLnBvc3QoXCIvY3JlYXRlLXN0YWZmXCIsIEF1dGgoUm9sZS5vd25lciksIHNpZ251cFNjaGVtYSwgY3JlYXRlKTtcbnJvdXRlci5wdXQoXCIvOmlkXCIsIEF1dGgoKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aCgpLCBfZGVsZXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5sb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IHVzZXIsIHRva2VuIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUub3duZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUuY3VzdG9tZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlFbWFpbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC52ZXJpZnlFbWFpbChyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsbFwiIH0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAudGhlbigoYWNjb3VudHMpID0+IHJlcy5qc29uKGFjY291bnRzKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gdXNlcnMgY2FuIGdldCB0aGVpciBvd24gYWNjb3VudCBhbmQgYWRtaW4gY2FuIGdldCBhbnkgYWNjb3VudFxuICAgIGlmIChOdW1iZXIocmVxLnBhcmFtcy5pZCkgIT09IHJlcS51c2VyLmlkICYmIHJlcS51c2VyLnJvbGUgIT09IFJvbGUuYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF0aG9yaXplZFwiIH0pO1xuICAgIH1cblxuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChhY2NvdW50KSA9PiAoYWNjb3VudCA&#x2F;IHJlcy5qc29uKGFjY291bnQpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGFjY291bnQpID0+IHJlcy5qc29uKGFjY291bnQpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiB1cGRhdGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbigoYWNjb3VudCkgPT4gcmVzLmpzb24oYWNjb3VudCkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gX2RlbGV0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAuZGVsZXRlKHJlcS5wYXJhbS5pZClcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst router &#x3D; express.Router();\nconst {\n    signinSchema,\n    signupSchema,\n    updateSchema,\n    verifyEmailSchema,\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\n\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n    const { email, password } &#x3D; req.body;\n    authService\n        .login({ email, password })\n        .then(({ user, token }) &#x3D;&gt; {\n            res.json({ user, token });\n        })\n        .catch(next);\n}\n\nfunction register(req, res, next) {\n    req.body.role &#x3D; Role.owner;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n    req.body.role &#x3D; Role.customer;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n    authService\n        .verifyEmail(req.body)\n        .then(() &#x3D;&gt; res.json({ message: \&quot;Verification successfull\&quot; }))\n        .catch(next);\n}\n\nfunction getAll(req, res, next) {\n    authService\n        .getAll()\n        .then((accounts) &#x3D;&gt; res.json(accounts))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    &#x2F;&#x2F; users can get their own account and admin can get any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .getById(req.params.id)\n        .then((account) &#x3D;&gt; (account ? res.json(account) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction create(req, res, next) {\n    authService\n        .create(req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; users can update their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .update(req.params.id, req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction _delete(req, res, next) {\n    &#x2F;&#x2F; users can delete their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .delete(req.param.id)\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Account deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;75&#x2F;authroutes_75bf7888c8e4ac0a10e44194cc103f96.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2174&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 15260,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 15257,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 919,
                    &quot;endOffset&quot;: 1157,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1159,
                    &quot;endOffset&quot;: 1486,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;registerCustomer&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1488,
                    &quot;endOffset&quot;: 1826,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1828,
                    &quot;endOffset&quot;: 1985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1987,
                    &quot;endOffset&quot;: 2095,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2097,
                    &quot;endOffset&quot;: 2472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2474,
                    &quot;endOffset&quot;: 2588,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2590,
                    &quot;endOffset&quot;: 2944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2946,
                    &quot;endOffset&quot;: 3350,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    firstName: Joi.string().required(),\n    lastName: Joi.string().required(),\n    phoneNumber: Joi.string().min(10).max(15).required(),\n    role: Joi.string().min(5).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required(),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    firstName: Joi.string().empty(\&quot;\&quot;),\n    lastName: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    role: Joi.string().min(5).empty(\&quot;\&quot;),\n    phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n    password: Joi.string().min(8).empty(\&quot;\&quot;),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;)\n  }; &#x2F;&#x2F;  TODO figure out how admin can update role\n\n  const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n  validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    token: Joi.string().required()\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsInNpZ251cFNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwicGhvbmVOdW1iZXIiLCJtaW4iLCJtYXgiLCJyb2xlIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInZhbGlkIiwicmVmIiwic2lnbmluU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSIsIndpdGgiLCJ2ZXJpZnlFbWFpbFNjaGVtYSIsInRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUVBRSxPQUFPLENBQUNDLFlBQVIsR0FBdUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTUMsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBVztBQUN0QkMsSUFBQUEsU0FBUyxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYUMsUUFBYixFQURXO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRlk7QUFHdEJFLElBQUFBLFdBQVcsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFJLEdBQWIsQ0FBaUIsRUFBakIsRUFBcUJDLEdBQXJCLENBQXlCLEVBQXpCLEVBQTZCSixRQUE3QixFQUhTO0FBSXRCSyxJQUFBQSxJQUFJLEVBQUVqQixHQUFHLENBQUNXLE1BQUosR0FBYUksR0FBYixDQUFpQixDQUFqQixFQUFvQkgsUUFBcEIsRUFKZ0I7QUFLdEJNLElBQUFBLEtBQUssRUFB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RUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FMRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5zaWdudXBTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5yZXF1aXJlZCgpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLnJlcXVpcmVkKCksXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS52YWxpZChKb2kucmVmKFwicGFzc3dvcmRcIikpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMuc2lnbmluU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgIH0pO1xuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYVJ1bGVzID0ge1xuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLmVtcHR5KFwiXCIpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLmVtcHR5KFwiXCIpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5lbXB0eShcIlwiKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogSm9pLnN0cmluZygpLnZhbGlkKEpvaS5yZWYoXCJwYXNzd29yZFwiKSkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIC8vICBUT0RPIGZpZ3VyZSBvdXQgaG93IGFkbWluIGNhbiB1cGRhdGUgcm9sZVxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpLndpdGgoXCJwYXNzd29yZFwiLCBcImNvbmZpcm1QYXNzd29yZFwiKTtcblxuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeUVtYWlsU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIHRva2VuOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        firstName: Joi.string().required(),\n        lastName: Joi.string().required(),\n        phoneNumber: Joi.string().min(10).max(15).required(),\n        role: Joi.string().min(5).required(),\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        firstName: Joi.string().empty(\&quot;\&quot;),\n        lastName: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        role: Joi.string().min(5).empty(\&quot;\&quot;),\n        phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n        password: Joi.string().min(8).empty(\&quot;\&quot;),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;),\n    };\n\n    &#x2F;&#x2F;  TODO figure out how admin can update role\n    const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n\n    validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        token: Joi.string().required(),\n    });\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;93&#x2F;authvalidators_93d8fdb0df4bea4d1ddc0a198e2ff769.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2175&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7592,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7589,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 651,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 677,
                    &quot;endOffset&quot;: 863,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 889,
                    &quot;endOffset&quot;: 1438,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1469,
                    &quot;endOffset&quot;: 1601,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n  const options &#x3D; {\n    abortEarly: false,\n    &#x2F;&#x2F; include all errors\n    allowUnknown: true,\n    &#x2F;&#x2F; ignore unknown props\n    stripUnknown: true &#x2F;&#x2F; remove unknown props\n\n  };\n  const {\n    error,\n    value\n  } &#x3D; schema.validate(req.body, options);\n\n  if (error) {\n    next(&#x60;Validation error: ${error.details.map(x &#x3D;&gt; x.message).join(\&quot;, \&quot;)}&#x60;);\n  } else {\n    req.body &#x3D; value;\n    next();\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwibmV4dCIsInNjaGVtYSIsIm9wdGlvbnMiLCJhYm9ydEVhcmx5IiwiYWxsb3dVbmtub3duIiwic3RyaXBVbmtub3duIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYm9keSIsImRldGFpbHMiLCJtYXAiLCJ4IiwibWVzc2FnZSIsImpvaW4iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGVBQWpCOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFDeEMsUUFBTUMsT0FBTyxHQUFHO0FBQ1pDLElBQUFBLFVBQVUsRUFBRSxLQURBO0FBQ087QUFDbkJDLElBQUFBLFlBQVksRUFBRSxJQUZGO0FBRVE7QUFDcEJDLElBQUFBLFlBQVksRUFBRSxJQUhGLENBR1E7O0FBSFIsR0FBaEI7QUFNQSxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFtQk4sTUFBTSxDQUFDTyxRQUFQLENBQWdCVCxHQUFHLENBQUNVLElBQXBCLEVBQTBCUCxPQUExQixDQUF6Qjs7QUFDQSxNQUFJSSxLQUFKLEVBQVc7QUFDUE4sSUFBQUEsSUFBSSxDQUNDLHFCQUFvQk0sS0FBSyxDQUFDSSxPQUFOLENBQ2hCQyxHQURnQixDQUNYQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsT0FERyxFQUVoQkMsSUFGZ0IsQ0FFWCxJQUZXLENBRUwsRUFIaEIsQ0FBSjtBQUtILEdBTkQsTUFNTztBQUNIZixJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0YsS0FBWDtBQUNBUCxJQUFBQSxJQUFJO0FBQ1A7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVSZXF1ZXN0O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSwgLy8gaW5jbHVkZSBhbGwgZXJyb3JzXG4gICAgICAgIGFsbG93VW5rbm93bjogdHJ1ZSwgLy8gaWdub3JlIHVua25vd24gcHJvcHNcbiAgICAgICAgc3RyaXBVbmtub3duOiB0cnVlLCAvLyByZW1vdmUgdW5rbm93biBwcm9wc1xuICAgIH07XG5cbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5LCBvcHRpb25zKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChcbiAgICAgICAgICAgIGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLmRldGFpbHNcbiAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLmJvZHkgPSB2YWx1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n    const options &#x3D; {\n        abortEarly: false, &#x2F;&#x2F; include all errors\n        allowUnknown: true, &#x2F;&#x2F; ignore unknown props\n        stripUnknown: true, &#x2F;&#x2F; remove unknown props\n    };\n\n    const { error, value } &#x3D; schema.validate(req.body, options);\n    if (error) {\n        next(\n            &#x60;Validation error: ${error.details\n                .map((x) &#x3D;&gt; x.message)\n                .join(\&quot;, \&quot;)}&#x60;\n        );\n    } else {\n        req.body &#x3D; value;\n        next();\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;45&#x2F;validateRequest_45057a96b73bd940f5249869883efa4a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2228&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2528,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2525,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;validateRequest&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 124,
                    &quot;endOffset&quot;: 562,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\n\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\n\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\n\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n  &#x2F;**\n   * refreshtoken\n   * revoketoken\n   * forgotPassword\n   * validateResetToken\n   * validateResetToken\n   * resetPassword\n   *&#x2F;\n  login,\n  register,\n  verifyEmail,\n  create,\n  update,\n  getAll,\n  getById,\n  delete: _delete\n};\n\nasync function login({\n  email,\n  password\n}) {\n  const account &#x3D; await getAccount({\n    email\n  });\n\n  if (!account || &#x2F;&#x2F; !account.isVerified ||\n  !(await bcrypt.compare(password, account.password))) {\n    const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n    throw error;\n  }\n\n  const token &#x3D; await jwt.sign(account.toJSON());\n  return {\n    user: basicDetails(account),\n    token\n  };\n}\n\nasync function register(params, origin) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n    &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n    const error &#x3D; new Error(&#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;);\n    throw error;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; send email;\n  &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n  const token &#x3D; await jwt.sign(account);\n  return {\n    user: account,\n    token\n  };\n}\n\nasync function verifyEmail({\n  token\n}) {\n  const account &#x3D; await getAccount({\n    verificationToken: token\n  });\n  if (!account) throw \&quot;Verification failed\&quot;;\n  await account.$query().patch({\n    verified: Date.now(),\n    isVerified: true,\n    verificationToken: null\n  });\n}\n\nasync function create(params) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; TODO? bind to company here.\n\n  return basicDetails(account);\n}\n\nasync function update(id, params) {\n  const account &#x3D; await getAccount({\n    id\n  }); &#x2F;&#x2F; validate if email was changed\n\n  if (params.email &amp;&amp; account.email !&#x3D;&#x3D; params.email &amp;&amp; (await getAccount({\n    email: params.email\n  }))) {\n    const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n    throw error;\n  } &#x2F;&#x2F; hash password if it was entered\n\n\n  if (params.password) {\n    params.password &#x3D; await hash(params.password);\n  }\n\n  const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params\n  });\n  return basicDetails(updatedUser);\n} &#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\n\n\nasync function getAll() {\n  const accounts &#x3D; await User.query();\n  return accounts.map(x &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n  const account &#x3D; await getAccount({\n    id\n  });\n  return basicDetails(account);\n} &#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\n\n\nasync function _delete(id) {\n  await User.query().deleteById(id);\n}\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\n\n\nasync function getAccount(param) {\n  const account &#x3D; await User.query().where({ ...param\n  }).first();\n  return account;\n}\n\nasync function insertUser(params) {\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    role,\n    phoneNumber\n  } &#x3D; params; &#x2F;&#x2F; hash password and verification token\n\n  const hashedPassword &#x3D; await hash(password, 10);\n  const verificationToken &#x3D; randomTokenString(); &#x2F;&#x2F; create account\n\n  const account &#x3D; await User.query().insert({\n    email,\n    firstName,\n    lastName,\n    password: hashedPassword,\n    phoneNumber,\n    role: role,\n    active: true,\n    isVerified: false,\n    verified: new Date().toISOString(),\n    verificationToken\n  });\n  return basicDetails(account);\n}\n\nasync function hash(password) {\n  return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n  return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n  const {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  } &#x3D; account;\n  return {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  };\n}\n\nasync function sendVerificationEmail(account, origin) {\n  let message;\n\n  if (origin) {\n    const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n    message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: account.email,\n    subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n    html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;\n  });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n  let message;\n\n  if (origin) {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: email,\n    subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n    html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImJjcnlwdCIsImNyeXB0byIsInNlbmRFbWFpbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbiIsInJlZ2lzdGVyIiwidmVyaWZ5RW1haWwiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsImNvbXBhcmUiLCJlcnJvciIsIkVycm9yIiwidG9rZW4iLCJzaWduIiwidG9KU09OIiwidXNlciIsImJhc2ljRGV0YWlscyIsInBhcmFtcyIsIm9yaWdpbiIsImluc2VydFVzZXIiLCJ2ZXJpZmljYXRpb25Ub2tlbiIsIiRxdWVyeSIsInBhdGNoIiwidmVyaWZpZWQiLCJEYXRlIiwibm93IiwiaXNWZXJpZmllZCIsImlkIiwiaGFzaCIsInVwZGF0ZWRVc2VyIiwicXVlcnkiLCJwYXRjaEFuZEZldGNoQnlJZCIsImFjY291bnRzIiwibWFwIiwieCIsImRlbGV0ZUJ5SWQiLCJwYXJhbSIsIndoZXJlIiwiZmlyc3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGUiLCJwaG9uZU51bWJlciIsImhhc2hlZFBhc3N3b3JkIiwicmFuZG9tVG9rZW5TdHJpbmciLCJpbnNlcnQiLCJhY3RpdmUiLCJ0b0lTT1N0cmluZyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVkIiwidXBkYXRlZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIm1lc3NhZ2UiLCJ2ZXJpZnlVcmwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwic2VuZEFscmVhZHlSZWdpc3RlcmVkRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQW5COztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyxtQkFBRCxDQUF6Qjs7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2I7Ozs7Ozs7O0FBUUFDLEVBQUFBLEtBVGE7QUFVYkMsRUFBQUEsUUFWYTtBQVdiQyxFQUFBQSxXQVhhO0FBWWJDLEVBQUFBLE1BWmE7QUFhYkMsRUFBQUEsTUFiYTtBQWNiQyxFQUFBQSxNQWRhO0FBZWJDLEVBQUFBLE9BZmE7QUFnQmJDLEVBQUFBLE1BQU0sRUFBRUM7QUFoQkssQ0FBakI7O0FBbUJBLGVBQWVSLEtBQWYsQ0FBcUI7QUFBRVMsRUFBQUEsS0FBRjtBQUFTQyxFQUFBQTtBQUFULENBQXJCLEVBQTBDO0FBQ3RDLFFBQU1DLE9BQU8sR0FBRyxNQUFNQyxVQUFVLENBQUM7QUFBRUgsSUFBQUE7QUFBRixHQUFELENBQWhDOztBQUVBLE1BQ0ksQ0FBQ0UsT0FBRCxJQUNBO0FBQ0EsSUFBRSxNQUFNaEIsTUFBTSxDQUFDa0IsT0FBUCxDQUFlSCxRQUFmLEVBQXlCQyxPQUFPLENBQUNELFFBQWpDLENBQVIsQ0FISixFQUlFO0FBQ0UsVUFBTUksS0FBSyxHQUFHLElBQUlDLEtBQUosQ0FBVSxnQ0FBVixDQUFkO0FBQ0EsVUFBTUQsS0FBTjtBQUNIOztBQUVELFFBQU1FLEtBQUssR0FBRyxNQUFNdEIsR0FBRyxDQUFDdUIsSUFBSixDQUFTTixPQUFPLENBQUNPLE1BQVIsRUFBVCxDQUFwQjtBQUVBLFNBQU87QUFDSEMsSUFBQUEsSUFBSSxFQUFFQyxZQUFZLENBQUNULE9BQUQsQ0FEZjtBQUVISyxJQUFBQTtBQUZHLEdBQVA7QUFJSDs7QUFFRCxlQUFlZixRQUFmLENBQXdCb0IsTUFBeEIsRUFBZ0NDLE1BQWhDLEVBQXdDO0FBQ3BDO0FBQ0EsTUFBSSxNQUFNVixVQUFVLENBQUM7QUFBRUgsSUFBQUEsS0FBSyxFQUFFWSxNQUFNLENBQUNaO0FBQWhCLEdBQUQsQ0FBcEIsRUFBK0M7QUFDM0M7QUFDQTtBQUNBLFVBQU1LLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQ1YsWUFBWU0sTUFBTSxDQUFDWixLQUFuQixHQUEyQix5QkFEakIsQ0FBZDtBQUlBLFVBQU1LLEtBQU47QUFDSDs7QUFFRCxRQUFNSCxPQUFPLEdBQUcsTUFBTVksVUFBVSxDQUFDRixNQUFELENBQWhDLENBWm9DLENBY3BDO0FBQ0E7O0FBRUEsUUFBTUwsS0FBSyxHQUFHLE1BQU10QixHQUFHLENBQUN1QixJQUFKLENBQVNOLE9BQVQsQ0FBcEI7QUFFQSxTQUFPO0FBQ0hRLElBQUFBLElBQUksRUFBRVIsT0FESDtBQUVISyxJQUFBQTtBQUZHLEdBQVA7QUFJSDs7QUFFRCxlQUFlZCxXQUFmLENBQTJCO0FBQUVjLEVBQUFBO0FBQUYsQ0FBM0IsRUFBc0M7QUFDbEMsUUFBTUwsT0FBTyxHQUFHLE1BQU1DLFVBQVUsQ0FBQztBQUFFWSxJQUFBQSxpQkFBaUIsRUFBRVI7QUFBckIsR0FBRCxDQUFoQztBQUVBLE1BQUksQ0FBQ0wsT0FBTCxFQUFjLE1BQU0scUJBQU47QUFFZCxRQUFNQSxPQUFPLENBQUNjLE1BQVIsR0FBaUJDLEtBQWpCLENBQXVCO0FBQ3pCQyxJQUFBQSxRQUFRLEVBQUVDLElBQUksQ0FBQ0MsR0FBTCxFQURlO0FBRXpCQyxJQUFBQSxVQUFVLEVBQUUsSUFGYTtBQUd6Qk4sSUFBQUEsaUJBQWlCLEVBQUU7QUFITSxHQUF2QixDQUFOO0FBS0g7O0FBRUQsZUFBZXJCLE1BQWYsQ0FBc0JrQixNQUF0QixFQUE4QjtBQUMxQjtBQUNBLE1BQUksTUFBTVQsVUFBVSxDQUFDO0FBQUVILElBQUFBLEtBQUssRUFBRVksTUFBTSxDQUFDWjtBQUFoQixHQUFELENBQXBCLEVBQStDO0FBQzNDLFVBQU0sWUFBWVksTUFBTSxDQUFDWixLQUFuQixHQUEyQix5QkFBakM7QUFDSDs7QUFFRCxRQUFNRSxPQUFPLEdBQUcsTUFBTVksVUFBVSxDQUFDRixNQUFELENBQWhDLENBTjBCLENBUTFCOztBQUVBLFNBQU9ELFlBQVksQ0FBQ1QsT0FBRCxDQUFuQjtBQUNIOztBQUVELGVBQWVQLE1BQWYsQ0FBc0IyQixFQUF0QixFQUEwQlYsTUFBMUIsRUFBa0M7QUFDOUIsUUFBTVYsT0FBTyxHQUFHLE1BQU1DLFVBQVUsQ0FBQztBQUFFbUIsSUFBQUE7QUFBRixHQUFELENBQWhDLENBRDhCLENBRzlCOztBQUNBLE1BQ0lWLE1BQU0sQ0FBQ1osS0FBUCxJQUNBRSxPQUFPLENBQUNGLEtBQVIsS0FBa0JZLE1BQU0sQ0FBQ1osS0FEekIsS0FFQyxNQUFNRyxVQUFVLENBQUM7QUFBRUgsSUFBQUEsS0FBSyxFQUFFWSxNQUFNLENBQUNaO0FBQWhCLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0UsVUFBTUssS0FBSyxHQUFHLElBQUlDLEtBQUosQ0FBVyxTQUFRTSxNQUFNLENBQUNaLEtBQU0sbUJBQWhDLENBQWQ7QUFDQSxVQUFNSyxLQUFOO0FBQ0gsR0FYNkIsQ0FhOUI7OztBQUNBLE1BQUlPLE1BQU0sQ0FBQ1gsUUFBWCxFQUFxQjtBQUNqQlcsSUFBQUEsTUFBTSxDQUFDWCxRQUFQLEdBQWtCLE1BQU1zQixJQUFJLENBQUNYLE1BQU0sQ0FBQ1gsUUFBUixDQUE1QjtBQUNIOztBQUVELFFBQU11QixXQUFXLEdBQUcsTUFBTXpDLElBQUksQ0FBQzBDLEtBQUwsR0FBYUMsaUJBQWIsQ0FBK0JKLEVBQS9CLEVBQW1DLEVBQUUsR0FBR1Y7QUFBTCxHQUFuQyxDQUExQjtBQUVBLFNBQU9ELFlBQVksQ0FBQ2EsV0FBRCxDQUFuQjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZTVCLE1BQWYsR0FBd0I7QUFDcEIsUUFBTStCLFFBQVEsR0FBRyxNQUFNNUMsSUFBSSxDQUFDMEMsS0FBTCxFQUF2QjtBQUNBLFNBQU9FLFFBQVEsQ0FBQ0MsR0FBVCxDQUFjQyxDQUFELElBQU9sQixZQUFZLENBQUNrQixDQUFELENBQWhDLENBQVA7QUFDSDs7QUFFRCxlQUFlaEMsT0FBZixDQUF1QnlCLEVBQXZCLEVBQTJCO0FBQ3ZCLFFBQU1wQixPQUFPLEdBQUcsTUFBTUMsVUFBVSxDQUFDO0FBQUVtQixJQUFBQTtBQUFGLEdBQUQsQ0FBaEM7QUFDQSxTQUFPWCxZQUFZLENBQUNULE9BQUQsQ0FBbkI7QUFDSCxDLENBRUQ7OztBQUNBLGVBQWVILE9BQWYsQ0FBdUJ1QixFQUF2QixFQUEyQjtBQUN2QixRQUFNdkMsSUFBSSxDQUFDMEMsS0FBTCxHQUFhSyxVQUFiLENBQXdCUixFQUF4QixDQUFOO0FBQ0g7QUFFRDs7O0FBQ0EsZUFBZW5CLFVBQWYsQ0FBMEI0QixLQUExQixFQUFpQztBQUM3QixRQUFNN0IsT0FBTyxHQUFHLE1BQU1uQixJQUFJLENBQUMwQyxLQUFMLEdBQ2pCTyxLQURpQixDQUNYLEVBQUUsR0FBR0Q7QUFBTCxHQURXLEVBRWpCRSxLQUZpQixFQUF0QjtBQUdBLFNBQU8vQixPQUFQO0FBQ0g7O0FBRUQsZUFBZVksVUFBZixDQUEwQkYsTUFBMUIsRUFBa0M7QUFDOUIsUUFBTTtBQUFFc0IsSUFBQUEsU0FBRjtBQUFhQyxJQUFBQSxRQUFiO0FBQXVCbkMsSUFBQUEsS0FBdkI7QUFBOEJDLElBQUFBLFFBQTlCO0FBQXdDbUMsSUFBQUEsSUFBeEM7QUFBOENDLElBQUFBO0FBQTlDLE1BQThEekIsTUFBcEUsQ0FEOEIsQ0FHOUI7O0FBQ0EsUUFBTTBCLGNBQWMsR0FBRyxNQUFNZixJQUFJLENBQUN0QixRQUFELEVBQVcsRUFBWCxDQUFqQztBQUNBLFFBQU1jLGlCQUFpQixHQUFHd0IsaUJBQWlCLEVBQTNDLENBTDhCLENBTzlCOztBQUNBLFFBQU1yQyxPQUFPLEdBQUcsTUFBTW5CLElBQUksQ0FBQzBDLEtBQUwsR0FBYWUsTUFBYixDQUFvQjtBQUN0Q3hDLElBQUFBLEtBRHNDO0FBRXRDa0MsSUFBQUEsU0FGc0M7QUFHdENDLElBQUFBLFFBSHNDO0FBSXRDbEMsSUFBQUEsUUFBUSxFQUFFcUMsY0FKNEI7QUFLdENELElBQUFBLFdBTHNDO0FBTXRDRCxJQUFBQSxJQUFJLEVBQUVBLElBTmdDO0FBT3RDSyxJQUFBQSxNQUFNLEVBQUUsSUFQOEI7QUFRdENwQixJQUFBQSxVQUFVLEVBQUUsS0FSMEI7QUFTdENILElBQUFBLFFBQVEsRUFBRSxJQUFJQyxJQUFKLEdBQVd1QixXQUFYLEVBVDRCO0FBVXRDM0IsSUFBQUE7QUFWc0MsR0FBcEIsQ0FBdEI7QUFhQSxTQUFPSixZQUFZLENBQUNULE9BQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlcUIsSUFBZixDQUFvQnRCLFFBQXBCLEVBQThCO0FBQzFCLFNBQU8sTUFBTWYsTUFBTSxDQUFDcUMsSUFBUCxDQUFZdEIsUUFBWixFQUFzQixFQUF0QixDQUFiO0FBQ0g7O0FBRUQsU0FBU3NDLGlCQUFULEdBQTZCO0FBQ3pCLFNBQU9wRCxNQUFNLENBQUN3RCxXQUFQLENBQW1CLEVBQW5CLEVBQXVCQyxRQUF2QixDQUFnQyxLQUFoQyxDQUFQO0FBQ0g7O0FBRUQsU0FBU2pDLFlBQVQsQ0FBc0JULE9BQXRCLEVBQStCO0FBQzNCLFFBQU07QUFDRm9CLElBQUFBLEVBREU7QUFFRlksSUFBQUEsU0FGRTtBQUdGQyxJQUFBQSxRQUhFO0FBSUZuQyxJQUFBQSxLQUpFO0FBS0ZvQyxJQUFBQSxJQUxFO0FBTUZTLElBQUFBLE9BTkU7QUFPRkMsSUFBQUEsT0FQRTtBQVFGekIsSUFBQUE7QUFSRSxNQVNGbkIsT0FUSjtBQVVBLFNBQU87QUFDSG9CLElBQUFBLEVBREc7QUFFSFksSUFBQUEsU0FGRztBQUdIQyxJQUFBQSxRQUhHO0FBSUhuQyxJQUFBQSxLQUpHO0FBS0hvQyxJQUFBQSxJQUxHO0FBTUhTLElBQUFBLE9BTkc7QUFPSEMsSUFBQUEsT0FQRztBQVFIekIsSUFBQUE7QUFSRyxHQUFQO0FBVUg7O0FBRUQsZUFBZTBCLHFCQUFmLENBQXFDN0MsT0FBckMsRUFBOENXLE1BQTlDLEVBQXNEO0FBQ2xELE1BQUltQyxPQUFKOztBQUNBLE1BQUluQyxNQUFKLEVBQVk7QUFDUixVQUFNb0MsU0FBUyxHQUFJLEdBQUVwQyxNQUFPLDRCQUEyQlgsT0FBTyxDQUFDYSxpQkFBa0IsRUFBakY7QUFDQWlDLElBQUFBLE9BQU8sR0FBSTtzQkFDR0MsU0FBVSxLQUFJQSxTQUFVO1NBRHRDO0FBR0gsR0FMRCxNQUtPO0FBQ0hELElBQUFBLE9BQU8sR0FBSTs4QkFDVzlDLE9BQU8sQ0FBQ2EsaUJBQWtCLGFBRGhEO0FBRUg7O0FBRUQsUUFBTTNCLFNBQVMsQ0FBQztBQUNaOEQsSUFBQUEsRUFBRSxFQUFFaEQsT0FBTyxDQUFDRixLQURBO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUseUNBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHOztVQUVMSixPQUFRO0FBTEUsR0FBRCxDQUFmO0FBT0g7O0FBRUQsZUFBZUssMEJBQWYsQ0FBMENyRCxLQUExQyxFQUFpRGEsTUFBakQsRUFBeUQ7QUFDckQsTUFBSW1DLE9BQUo7O0FBQ0EsTUFBSW5DLE1BQUosRUFBWTtBQUNSbUMsSUFBQUEsT0FBTyxHQUFJLGdFQUErRG5DLE1BQU8sc0RBQWpGO0FBQ0gsR0FGRCxNQUVPO0FBQ0htQyxJQUFBQSxPQUFPLEdBQUksK0dBQVg7QUFDSDs7QUFFRCxRQUFNNUQsU0FBUyxDQUFDO0FBQ1o4RCxJQUFBQSxFQUFFLEVBQUVsRCxLQURRO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUscURBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHO3VDQUN3QnBELEtBQU07aUJBQzVCZ0QsT0FBUTtBQUxMLEdBQUQsQ0FBZjtBQU9IIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi91c2VyL3VzZXIubW9kZWxcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvand0XCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZW1haWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2h0b2tlblxuICAgICAqIHJldm9rZXRva2VuXG4gICAgICogZm9yZ290UGFzc3dvcmRcbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiByZXNldFBhc3N3b3JkXG4gICAgICovXG4gICAgbG9naW4sXG4gICAgcmVnaXN0ZXIsXG4gICAgdmVyaWZ5RW1haWwsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBnZXRBbGwsXG4gICAgZ2V0QnlJZCxcbiAgICBkZWxldGU6IF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBlbWFpbCB9KTtcblxuICAgIGlmIChcbiAgICAgICAgIWFjY291bnQgfHxcbiAgICAgICAgLy8gIWFjY291bnQuaXNWZXJpZmllZCB8fFxuICAgICAgICAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhY2NvdW50LnBhc3N3b3JkKSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJFbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudC50b0pTT04oKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBiYXNpY0RldGFpbHMoYWNjb3VudCksXG4gICAgICAgIHRva2VuLFxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHBhcmFtcywgb3JpZ2luKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgLy8gc2VuZCBhbHJlYWR5IHJlZ2lzdGVyZWQgZXJyb3IgaW4gZW1haWwgdG8gcHJldmVudCBhY2NvdW50IGVudW1lcmF0aW9uXG4gICAgICAgIC8vIGF3YWl0IHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKHBhcmFtcy5lbWFpbCwgb3JpZ2luKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRW1haWwgXCInICsgcGFyYW1zLmVtYWlsICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCdcbiAgICAgICAgKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgaW5zZXJ0VXNlcihwYXJhbXMpO1xuXG4gICAgLy8gc2VuZCBlbWFpbDtcbiAgICAvLyBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKTtcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBhY2NvdW50LFxuICAgICAgICB0b2tlbixcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh7IHRva2VuIH0pIHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZ2V0QWNjb3VudCh7IHZlcmlmaWNhdGlvblRva2VuOiB0b2tlbiB9KTtcblxuICAgIGlmICghYWNjb3VudCkgdGhyb3cgXCJWZXJpZmljYXRpb24gZmFpbGVkXCI7XG5cbiAgICBhd2FpdCBhY2NvdW50LiRxdWVyeSgpLnBhdGNoKHtcbiAgICAgICAgdmVyaWZpZWQ6IERhdGUubm93KCksXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2VuOiBudWxsLFxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgdGhyb3cgJ0VtYWlsIFwiJyArIHBhcmFtcy5lbWFpbCArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBpbnNlcnRVc2VyKHBhcmFtcyk7XG5cbiAgICAvLyBUT0RPPyBiaW5kIHRvIGNvbXBhbnkgaGVyZS5cblxuICAgIHJldHVybiBiYXNpY0RldGFpbHMoYWNjb3VudCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBpZCB9KTtcblxuICAgIC8vIHZhbGlkYXRlIGlmIGVtYWlsIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMuZW1haWwgJiZcbiAgICAgICAgYWNjb3VudC5lbWFpbCAhPT0gcGFyYW1zLmVtYWlsICYmXG4gICAgICAgIChhd2FpdCBnZXRBY2NvdW50KHsgZW1haWw6IHBhcmFtcy5lbWFpbCB9KSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVtYWlsICR7cGFyYW1zLmVtYWlsfSBpcyBhbHJlYWR5IHRha2VuYCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcbiAgICBpZiAocGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgICAgIHBhcmFtcy5wYXNzd29yZCA9IGF3YWl0IGhhc2gocGFyYW1zLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwgeyAuLi5wYXJhbXMgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKHVwZGF0ZWRVc2VyKTtcbn1cblxuLy8gVE9ETyBNQUtFIFNPIElUIENBTiBRVUVSWSBGT1IgRElGRkVSRU5UIFRZUEVTIE9GIFVTRVJTXG5hc3luYyBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBVc2VyLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoeCkgPT4gYmFzaWNEZXRhaWxzKHgpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhhY2NvdW50KTtcbn1cblxuLy8gVE9ETyBNQUtFIElUIEFDQ0VQVCBBTiBBUlJBWSBPRiBJRFxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgIGF3YWl0IFVzZXIucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT0gSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09ICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50KHBhcmFtKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyAuLi5wYXJhbSB9KVxuICAgICAgICAuZmlyc3QoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmVOdW1iZXIgfSA9IHBhcmFtcztcblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiB0b2tlblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgMTApO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gcmFuZG9tVG9rZW5TdHJpbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKS5pbnNlcnQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgdmVyaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKGFjY291bnQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYXNoKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVRva2VuU3RyaW5nKCkge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDApLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoYWNjb3VudCkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBjcmVhdGVkLFxuICAgICAgICB1cGRhdGVkLFxuICAgICAgICBpc1ZlcmlmaWVkLFxuICAgIH0gPSBhY2NvdW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgdXBkYXRlZCxcbiAgICAgICAgaXNWZXJpZmllZCxcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKSB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgICBjb25zdCB2ZXJpZnlVcmwgPSBgJHtvcmlnaW59L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7YWNjb3VudC52ZXJpZmljYXRpb25Ub2tlbn1gO1xuICAgICAgICBtZXNzYWdlID0gYDxwPiBQbGVhc2UgY2xpY2sgdGhlIGJlbG93IGxpbmsgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzczo8L3A+XG4gICAgICAgIDxwPjxhIGhyZWY9XCIke3ZlcmlmeVVybH1cIj4ke3ZlcmlmeVVybH08L2E+PC9wPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+UGxlYXNlIHVzZSB0aGUgYmVsb3cgdG9rZW4gdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyB3aXRoIHRoZSA8Y29kZT4vYXV0aC92ZXJpZnktZW1haWw8L2NvZGU+IGFwaSByb3V0ZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+JHthY2NvdW50LnZlcmlmaWNhdGlvblRva2VufTwvY29kZT48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogYWNjb3VudC5lbWFpbCxcbiAgICAgICAgc3ViamVjdDogXCJTaWduLXVwIHZlcmlmaWNhdGlvbiBBUEkgLSBWZXJpZnkgRW1haWxcIixcbiAgICAgICAgaHRtbDogYDxoND5WZXJpZnkgRW1haWw8L2g0PlxuICAgICAgICA8cD5UaGFua3MgZm9yIHJlZ2lzdGVyaW5nITwvcD5cbiAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKGVtYWlsLCBvcmlnaW4pIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+SWYgeW91IGRvbid0IGtub3cgeW91ciBwYXNzd29yZCBwbGVhc2UgdmlzaXQgdGhlIDxhIGhyZWY9XCIke29yaWdpbn0vYXV0aC9mb3Jnb3QtcGFzc3dvcmRcIj5mb3Jnb3QgcGFzc3dvcmQ8L2E+IHBhZ2UuPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGA8cD5JZiB5b3UgZG9uJ3Qga25vdyB5b3VyIHBhc3N3b3JkIHlvdSBjYW4gcmVzZXQgaXQgdmlhIHRoZSA8Y29kZT4vYXV0aC9mb3Jnb3QtcGFzc3dvcmQ8L2NvZGU+IGFwaSByb3V0ZS48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IFwiU2lnbi11cCBWZXJpZmljYXRpb24gQVBJIC0gRW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkXCIsXG4gICAgICAgIGh0bWw6IGA8aDQ+RW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkPC9oND5cbiAgICAgICAgICAgICAgIDxwPllvdXIgZW1haWwgPHN0cm9uZz4ke2VtYWlsfTwvc3Ryb25nPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9wPlxuICAgICAgICAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n    &#x2F;**\n     * refreshtoken\n     * revoketoken\n     * forgotPassword\n     * validateResetToken\n     * validateResetToken\n     * resetPassword\n     *&#x2F;\n    login,\n    register,\n    verifyEmail,\n    create,\n    update,\n    getAll,\n    getById,\n    delete: _delete,\n};\n\nasync function login({ email, password }) {\n    const account &#x3D; await getAccount({ email });\n\n    if (\n        !account ||\n        &#x2F;&#x2F; !account.isVerified ||\n        !(await bcrypt.compare(password, account.password))\n    ) {\n        const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n        throw error;\n    }\n\n    const token &#x3D; await jwt.sign(account.toJSON());\n\n    return {\n        user: basicDetails(account),\n        token,\n    };\n}\n\nasync function register(params, origin) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n        &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n        const error &#x3D; new Error(\n            &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;\n        );\n\n        throw error;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; send email;\n    &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n    const token &#x3D; await jwt.sign(account);\n\n    return {\n        user: account,\n        token,\n    };\n}\n\nasync function verifyEmail({ token }) {\n    const account &#x3D; await getAccount({ verificationToken: token });\n\n    if (!account) throw \&quot;Verification failed\&quot;;\n\n    await account.$query().patch({\n        verified: Date.now(),\n        isVerified: true,\n        verificationToken: null,\n    });\n}\n\nasync function create(params) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; TODO? bind to company here.\n\n    return basicDetails(account);\n}\n\nasync function update(id, params) {\n    const account &#x3D; await getAccount({ id });\n\n    &#x2F;&#x2F; validate if email was changed\n    if (\n        params.email &amp;&amp;\n        account.email !&#x3D;&#x3D; params.email &amp;&amp;\n        (await getAccount({ email: params.email }))\n    ) {\n        const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n        throw error;\n    }\n\n    &#x2F;&#x2F; hash password if it was entered\n    if (params.password) {\n        params.password &#x3D; await hash(params.password);\n    }\n\n    const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params });\n\n    return basicDetails(updatedUser);\n}\n\n&#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\nasync function getAll() {\n    const accounts &#x3D; await User.query();\n    return accounts.map((x) &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n    const account &#x3D; await getAccount({ id });\n    return basicDetails(account);\n}\n\n&#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\nasync function _delete(id) {\n    await User.query().deleteById(id);\n}\n\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\nasync function getAccount(param) {\n    const account &#x3D; await User.query()\n        .where({ ...param })\n        .first();\n    return account;\n}\n\nasync function insertUser(params) {\n    const { firstName, lastName, email, password, role, phoneNumber } &#x3D; params;\n\n    &#x2F;&#x2F; hash password and verification token\n    const hashedPassword &#x3D; await hash(password, 10);\n    const verificationToken &#x3D; randomTokenString();\n\n    &#x2F;&#x2F; create account\n    const account &#x3D; await User.query().insert({\n        email,\n        firstName,\n        lastName,\n        password: hashedPassword,\n        phoneNumber,\n        role: role,\n        active: true,\n        isVerified: false,\n        verified: new Date().toISOString(),\n        verificationToken,\n    });\n\n    return basicDetails(account);\n}\n\nasync function hash(password) {\n    return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n    return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n    const {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    } &#x3D; account;\n    return {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    };\n}\n\nasync function sendVerificationEmail(account, origin) {\n    let message;\n    if (origin) {\n        const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n        message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: account.email,\n        subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n        html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;,\n    });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n    let message;\n    if (origin) {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: email,\n        subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n        html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;,\n    });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;15&#x2F;authservice_15139629ee8738726404e916e3a02258.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2229&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 22003,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 22000,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 546,
                    &quot;endOffset&quot;: 944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 946,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1779,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1781,
                    &quot;endOffset&quot;: 2062,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2064,
                    &quot;endOffset&quot;: 2621,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2682,
                    &quot;endOffset&quot;: 2793,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2795,
                    &quot;endOffset&quot;: 2907,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2948,
                    &quot;endOffset&quot;: 3015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccount&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3076,
                    &quot;endOffset&quot;: 3198,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;insertUser&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3200,
                    &quot;endOffset&quot;: 3791,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;hash&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3793,
                    &quot;endOffset&quot;: 3868,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;randomTokenString&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3870,
                    &quot;endOffset&quot;: 3951,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3953,
                    &quot;endOffset&quot;: 4226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendVerificationEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4228,
                    &quot;endOffset&quot;: 4965,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4967,
                    &quot;endOffset&quot;: 5605,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n  static get tableName() {\n    return tableNames.user;\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; User;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiVXNlciIsInRhYmxlTmFtZSIsInVzZXIiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsSUFBTixTQUFtQkosS0FBbkIsQ0FBeUI7QUFDckIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLElBQWxCO0FBQ0g7O0FBSG9COztBQU16Qk4sS0FBSyxDQUFDTyxJQUFOLENBQVdKLEVBQVg7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vZGJcIik7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLnVzZXI7XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n    static get tableName() {\n        return tableNames.user;\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; User;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;65&#x2F;usermodel_65a16864dea2cc43f1cea59fb9ce1a95.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2230&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1454,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1451,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;User&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 224,
                    &quot;endOffset&quot;: 224,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 260,
                    &quot;endOffset&quot;: 309,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  user: \&quot;user\&quot;,\n  address: \&quot;address\&quot;,\n  company: \&quot;company\&quot;,\n  accounts: \&quot;accounts\&quot;,\n  category: \&quot;category\&quot;,\n  menu: \&quot;menu\&quot;,\n  item: \&quot;item\&quot;,\n  order: \&quot;order\&quot;,\n  orderItem: \&quot;orderItem\&quot;,\n  payments: \&quot;payments\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlTmFtZXMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInVzZXIiLCJhZGRyZXNzIiwiY29tcGFueSIsImFjY291bnRzIiwiY2F0ZWdvcnkiLCJtZW51IiwiaXRlbSIsIm9yZGVyIiwib3JkZXJJdGVtIiwicGF5bWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFLE1BRE87QUFFYkMsRUFBQUEsT0FBTyxFQUFFLFNBRkk7QUFHYkMsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYkMsRUFBQUEsUUFBUSxFQUFFLFVBSkc7QUFLYkMsRUFBQUEsUUFBUSxFQUFFLFVBTEc7QUFNYkMsRUFBQUEsSUFBSSxFQUFFLE1BTk87QUFPYkMsRUFBQUEsSUFBSSxFQUFFLE1BUE87QUFRYkMsRUFBQUEsS0FBSyxFQUFFLE9BUk07QUFTYkMsRUFBQUEsU0FBUyxFQUFFLFdBVEU7QUFVYkMsRUFBQUEsUUFBUSxFQUFFO0FBVkcsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB1c2VyOiBcInVzZXJcIixcbiAgICBhZGRyZXNzOiBcImFkZHJlc3NcIixcbiAgICBjb21wYW55OiBcImNvbXBhbnlcIixcbiAgICBhY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgbWVudTogXCJtZW51XCIsXG4gICAgaXRlbTogXCJpdGVtXCIsXG4gICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICBvcmRlckl0ZW06IFwib3JkZXJJdGVtXCIsXG4gICAgcGF5bWVudHM6IFwicGF5bWVudHNcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    user: \&quot;user\&quot;,\n    address: \&quot;address\&quot;,\n    company: \&quot;company\&quot;,\n    accounts: \&quot;accounts\&quot;,\n    category: \&quot;category\&quot;,\n    menu: \&quot;menu\&quot;,\n    item: \&quot;item\&quot;,\n    order: \&quot;order\&quot;,\n    orderItem: \&quot;orderItem\&quot;,\n    payments: \&quot;payments\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;d1&#x2F;tableNames_d158fb35bde4ba2feb47fa73fcd1c0db.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2443&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1435,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1432,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\n\nconst {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\n\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\nconst db &#x3D; Knex(connectionConfig);\nModel.knex(db);\nmodule.exports &#x3D; db;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIktuZXgiLCJyZXF1aXJlIiwiTW9kZWwiLCJrbmV4RmlsZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29ubmVjdGlvbkNvbmZpZyIsImRiIiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQVlELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUVBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixJQUF3QixhQUE1QztBQUNBLE1BQU1DLGdCQUFnQixHQUFHTCxRQUFRLENBQUNDLFdBQUQsQ0FBakM7QUFFQSxNQUFNSyxFQUFFLEdBQUdULElBQUksQ0FBQ1EsZ0JBQUQsQ0FBZjtBQUVBTixLQUFLLENBQUNRLElBQU4sQ0FBV0QsRUFBWDtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJILEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS25leCA9IHJlcXVpcmUoXCJrbmV4XCIpO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcblxuY29uc3Qga25leEZpbGUgPSByZXF1aXJlKFwiLi4va25leGZpbGVcIik7XG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcbmNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSBrbmV4RmlsZVtlbnZpcm9ubWVudF07XG5cbmNvbnN0IGRiID0gS25leChjb25uZWN0aW9uQ29uZmlnKTtcblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\nconst { Model } &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\n\nconst db &#x3D; Knex(connectionConfig);\n\nModel.knex(db);\n\nmodule.exports &#x3D; db;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;06&#x2F;db_061f2ffe7a9d03a98dba0f960ecba1d1.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2444&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1629,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n  test: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB_TEST,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  development: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  production: {\n    client: \&quot;pg\&quot;,\n    connection: process.env.DATABASE_URL,\n    pool: {\n      min: 2,\n      max: 10\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  }\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJkYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19EQl9URVNUIiwidXNlciIsIlBPU1RHUkVTX1VTRVIiLCJwYXNzd29yZCIsIlBPU1RHUkVTX1BBU1NXT1JEIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsIl9fZGlybmFtZSIsInNlZWRzIiwiZGV2ZWxvcG1lbnQiLCJQT1NUR1JFU19EQiIsInByb2R1Y3Rpb24iLCJEQVRBQkFTRV9VUkwiLCJwb29sIiwibWluIiwibWF4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxNQUFNLEVBQUUsSUFETjtBQUVGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFGZDtBQUdSQyxNQUFBQSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxhQUhWO0FBSVJDLE1BQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmQsS0FGVjtBQVFGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUkMsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEZixLQVJWO0FBWUZDLElBQUFBLEtBQUssRUFBRTtBQUNIRixNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURwQjtBQVpMLEdBRE87QUFrQmJFLEVBQUFBLFdBQVcsRUFBRTtBQUNUZCxJQUFBQSxNQUFNLEVBQUUsSUFEQztBQUVUQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxXQUZkO0FBR1JULE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGFBSFY7QUFJUkMsTUFBQUEsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFKZCxLQUZIO0FBUVRDLElBQUFBLFVBQVUsRUFBRTtBQUNSQyxNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURmLEtBUkg7QUFZVEMsSUFBQUEsS0FBSyxFQUFFO0FBQ0hGLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRHBCO0FBWkUsR0FsQkE7QUFtQ2JJLEVBQUFBLFVBQVUsRUFBRTtBQUNSaEIsSUFBQUEsTUFBTSxFQUFFLElBREE7QUFFUkMsSUFBQUEsVUFBVSxFQUFFRSxPQUFPLENBQUNDLEdBQVIsQ0FBWWEsWUFGaEI7QUFHUkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEdBQUcsRUFBRSxDQURIO0FBRUZDLE1BQUFBLEdBQUcsRUFBRTtBQUZILEtBSEU7QUFPUlYsSUFBQUEsVUFBVSxFQUFFO0FBQ1JDLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRGYsS0FQSjtBQVdSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEYsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEcEI7QUFYQztBQW5DQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVwZGF0ZSB3aXRoIHlvdXIgY29uZmlnIHNldHRpbmdzLlxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVzdDoge1xuICAgICAgICBjbGllbnQ6IFwicGdcIixcbiAgICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICAgICAgLy8gaG9zdDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQl9URVNULFxuICAgICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVNFUixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QT1NUR1JFU19QQVNTV09SRCxcbiAgICAgICAgfSxcbiAgICAgICAgbWlncmF0aW9uczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9taWdyYXRpb25zXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VlZHM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvc2VlZHNcIixcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgZGV2ZWxvcG1lbnQ6IHtcbiAgICAgICAgY2xpZW50OiBcInBnXCIsXG4gICAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGhvc3Q6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIsXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VU0VSLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgICBtaWdyYXRpb25zOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL21pZ3JhdGlvbnNcIixcbiAgICAgICAgfSxcblxuICAgICAgICBzZWVkczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9zZWVkc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIGNsaWVudDogXCJwZ1wiLFxuICAgICAgICBjb25uZWN0aW9uOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICAgIG1pbjogMixcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvbWlncmF0aW9uc1wiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHNlZWRzOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL3NlZWRzXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n    test: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB_TEST,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    development: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    production: {\n        client: \&quot;pg\&quot;,\n        connection: process.env.DATABASE_URL,\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e2&#x2F;knexfile_e268b34e213dcf9ff4bbc9c1fff3199f.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2676&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4994,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4991,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n  return new Promise((resolve, reject) &#x3D;&gt; {\n    jwt.sign(payload, process.env.JWT_SECRET, {\n      expiresIn: \&quot;3h\&quot;\n    }, (error, token) &#x3D;&gt; {\n      if (error) return reject(error);\n      return resolve(token);\n    });\n  });\n}\n\nmodule.exports &#x3D; {\n  sign\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2lnbiIsInBheWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJ0b2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBRUEsU0FBU0MsSUFBVCxDQUFjQyxPQUFkLEVBQXVCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwQ04sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQ0lDLE9BREosRUFFSUksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmhCLEVBR0k7QUFDSUMsTUFBQUEsU0FBUyxFQUFFO0FBRGYsS0FISixFQU1JLENBQUNDLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUNkLFVBQUlELEtBQUosRUFBVyxPQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYjtBQUNYLGFBQU9OLE9BQU8sQ0FBQ08sS0FBRCxDQUFkO0FBQ0gsS0FUTDtBQVdILEdBWk0sQ0FBUDtBQWFIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlosRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGp3dC5zaWduKFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjNoXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWduLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n    return new Promise((resolve, reject) &#x3D;&gt; {\n        jwt.sign(\n            payload,\n            process.env.JWT_SECRET,\n            {\n                expiresIn: \&quot;3h\&quot;,\n            },\n            (error, token) &#x3D;&gt; {\n                if (error) return reject(error);\n                return resolve(token);\n            }\n        );\n    });\n}\n\nmodule.exports &#x3D; {\n    sign,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;a2&#x2F;jwt_a2ecd03f3666d6bdf618e5bb010e6f13.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2728&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1961,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sign&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 127,
                    &quot;endOffset&quot;: 376,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\n\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({\n  to,\n  subject,\n  html,\n  from &#x3D; config[\&quot;emailFrom\&quot;]\n}) {\n  const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n  await transporter.sendMail({\n    from,\n    to,\n    subject,\n    html\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJmcm9tIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxTQUFqQjs7QUFFQSxlQUFlQSxTQUFmLENBQXlCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsT0FBTjtBQUFlQyxFQUFBQSxJQUFmO0FBQXFCQyxFQUFBQSxJQUFJLEdBQUdQLE1BQU0sQ0FBQyxXQUFEO0FBQWxDLENBQXpCLEVBQTRFO0FBQ3hFLFFBQU1RLFdBQVcsR0FBR1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCVCxNQUFNLENBQUMsYUFBRCxDQUFqQyxDQUFwQjtBQUNBLFFBQU1RLFdBQVcsQ0FBQ0UsUUFBWixDQUFxQjtBQUFFSCxJQUFBQSxJQUFGO0FBQVFILElBQUFBLEVBQVI7QUFBWUMsSUFBQUEsT0FBWjtBQUFxQkMsSUFBQUE7QUFBckIsR0FBckIsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRFbWFpbDtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwsIGZyb20gPSBjb25maWdbXCJlbWFpbEZyb21cIl0gfSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoY29uZmlnW1wic210cE9wdGlvbnNcIl0pO1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHsgZnJvbSwgdG8sIHN1YmplY3QsIGh0bWwgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({ to, subject, html, from &#x3D; config[\&quot;emailFrom\&quot;] }) {\n    const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n    await transporter.sendMail({ from, to, subject, html });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;email_4444491566e111edc26f59e95bae5b33.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2819&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1859,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1856,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 204,
                    &quot;endOffset&quot;: 441,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n  auth,\n  isOwner\n};\n\nfunction auth(roles &#x3D; []) {\n  if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n    roles &#x3D; [roles];\n  }\n\n  return async (req, res, next) &#x3D;&gt; {\n    let token;\n\n    if (req.headers.authorization &amp;&amp; req.headers.authorization.startsWith(\&quot;Bearer \&quot;)) {\n      token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n    } else {\n      return res.status(403).json({\n        message: \&quot;Token not found, access denied\&quot;\n      });\n    } &#x2F;&#x2F; verify token and account\n\n\n    try {\n      const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n      const user &#x3D; await User.query().where({\n        id: decodedToken.id\n      }).first();\n\n      if (!user || roles.length &amp;&amp; !roles.includes(decodedToken.role)) {\n        &#x2F;&#x2F; account does not exist or role not authorized\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      } &#x2F;&#x2F; authentication and authorization successful\n\n\n      req.user &#x3D; decodedToken;\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nfunction isOwner() {\n  return async (req, res, next) &#x3D;&gt; {\n    try {\n      const bool &#x3D; await Company.query().where({\n        owner_id: req.user.id,\n        id: req.params.company_id\n      }).first();\n\n      if (!bool) {\n        console.log(bool);\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      }\n\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIlVzZXIiLCJDb21wYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsImF1dGgiLCJpc093bmVyIiwicm9sZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZFRva2VuIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwicXVlcnkiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInJvbGUiLCJlcnJvciIsImJvb2wiLCJvd25lcl9pZCIsInBhcmFtcyIsImNvbXBhbnlfaWQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLHdCQUFELENBQXBCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFEYTtBQUViQyxFQUFBQTtBQUZhLENBQWpCOztBQUtBLFNBQVNELElBQVQsQ0FBY0UsS0FBSyxHQUFHLEVBQXRCLEVBQTBCO0FBQ3RCLE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkEsSUFBQUEsS0FBSyxHQUFHLENBQUNBLEtBQUQsQ0FBUjtBQUNIOztBQUVELFNBQU8sT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJQyxLQUFKOztBQUNBLFFBQ0lILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLElBQ0FMLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxVQUExQixDQUFxQyxTQUFyQyxDQUZKLEVBR0U7QUFDRUgsTUFBQUEsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBWixDQUEwQkUsS0FBMUIsQ0FBZ0MsU0FBaEMsRUFBMkMsQ0FBM0MsQ0FBUjtBQUNILEtBTEQsTUFLTztBQUNILGFBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQyxRQUFBQSxPQUFPLEVBQUU7QUFEZSxPQUFyQixDQUFQO0FBR0gsS0FYNEIsQ0FhN0I7OztBQUNBLFFBQUk7QUFDQSxZQUFNQyxZQUFZLEdBQUdwQixHQUFHLENBQUNxQixNQUFKLENBQVdULEtBQVgsRUFBa0JVLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFyQjtBQUVBLFlBQU1DLElBQUksR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsS0FBTCxHQUNkQyxLQURjLENBQ1I7QUFBRUMsUUFBQUEsRUFBRSxFQUFFUixZQUFZLENBQUNRO0FBQW5CLE9BRFEsRUFFZEMsS0FGYyxFQUFuQjs7QUFJQSxVQUFJLENBQUNKLElBQUQsSUFBVWpCLEtBQUssQ0FBQ3NCLE1BQU4sSUFBZ0IsQ0FBQ3RCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZVgsWUFBWSxDQUFDWSxJQUE1QixDQUEvQixFQUFtRTtBQUMvRDtBQUNBLGVBQU90QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0gsT0FWRCxDQVlBOzs7QUFDQVYsTUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixHQUFXTCxZQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDUCxLQWZELENBZUUsT0FBT3NCLEtBQVAsRUFBYztBQUNadEIsTUFBQUEsSUFBSSxDQUFDc0IsS0FBRCxDQUFKO0FBQ0g7QUFDSixHQWhDRDtBQWlDSDs7QUFFRCxTQUFTMUIsT0FBVCxHQUFtQjtBQUNmLFNBQU8sT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJO0FBQ0EsWUFBTXVCLElBQUksR0FBRyxNQUFNL0IsT0FBTyxDQUFDdUIsS0FBUixHQUNkQyxLQURjLENBQ1I7QUFDSFEsUUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTRyxFQURoQjtBQUVIQSxRQUFBQSxFQUFFLEVBQUVuQixHQUFHLENBQUMyQixNQUFKLENBQVdDO0FBRlosT0FEUSxFQUtkUixLQUxjLEVBQW5COztBQU9BLFVBQUksQ0FBQ0ssSUFBTCxFQUFXO0FBQ1BJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxJQUFaO0FBQ0EsZUFBT3hCLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCLENBQVA7QUFDSDs7QUFDRFIsTUFBQUEsSUFBSTtBQUNQLEtBYkQsQ0FhRSxPQUFPc0IsS0FBUCxFQUFjO0FBQ1p0QixNQUFBQSxJQUFJLENBQUNzQixLQUFELENBQUo7QUFDSDtBQUNKLEdBakJEO0FBa0JIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vYXBpL3VzZXIvdXNlci5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vYXBpL2NvbXBhbnkvY29tcGFueS5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aCxcbiAgICBpc093bmVyLFxufTtcblxuZnVuY3Rpb24gYXV0aChyb2xlcyA9IFtdKSB7XG4gICAgaWYgKHR5cGVvZiByb2xlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByb2xlcyA9IFtyb2xlc107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3RhcnRzV2l0aChcIkJlYXJlciBcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCJCZWFyZXIgXCIpWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIG5vdCBmb3VuZCwgYWNjZXNzIGRlbmllZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgdG9rZW4gYW5kIGFjY291bnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgKHJvbGVzLmxlbmd0aCAmJiAhcm9sZXMuaW5jbHVkZXMoZGVjb2RlZFRva2VuLnJvbGUpKSkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb3Igcm9sZSBub3QgYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZFRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc093bmVyKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogcmVxLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiByZXEucGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9vbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n    auth,\n    isOwner,\n};\n\nfunction auth(roles &#x3D; []) {\n    if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n        roles &#x3D; [roles];\n    }\n\n    return async (req, res, next) &#x3D;&gt; {\n        let token;\n        if (\n            req.headers.authorization &amp;&amp;\n            req.headers.authorization.startsWith(\&quot;Bearer \&quot;)\n        ) {\n            token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n        } else {\n            return res.status(403).json({\n                message: \&quot;Token not found, access denied\&quot;,\n            });\n        }\n\n        &#x2F;&#x2F; verify token and account\n        try {\n            const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n\n            const user &#x3D; await User.query()\n                .where({ id: decodedToken.id })\n                .first();\n\n            if (!user || (roles.length &amp;&amp; !roles.includes(decodedToken.role))) {\n                &#x2F;&#x2F; account does not exist or role not authorized\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            &#x2F;&#x2F; authentication and authorization successful\n            req.user &#x3D; decodedToken;\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n\nfunction isOwner() {\n    return async (req, res, next) &#x3D;&gt; {\n        try {\n            const bool &#x3D; await Company.query()\n                .where({\n                    owner_id: req.user.id,\n                    id: req.params.company_id,\n                })\n                .first();\n\n            if (!bool) {\n                console.log(bool);\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;be&#x2F;auth_bef81972d508eee6f0010ea0d7e5ae1e.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2853&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7428,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7425,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;auth&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 275,
                    &quot;endOffset&quot;: 1253,
                    &quot;count&quot;: 28
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 1250,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1255,
                    &quot;endOffset&quot;: 1662,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1285,
                    &quot;endOffset&quot;: 1659,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n  static get tableName() {\n    return tableNames.company;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n\n    const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n    return {\n      owner: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.company}.owner_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      accounts: {\n        relation: Model.HasManyRelation,\n        modelClass: Account,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.accounts}.company_id&#x60;\n        }\n      },\n      menus: {\n        relation: Model.HasManyRelation,\n        modelClass: Menu,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.menu}.company_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports &#x3D; Company;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsInNjaGVtYSIsIkNvbXBhbnkiLCJ0YWJsZU5hbWUiLCJjb21wYW55IiwianNvblNjaGVtYSIsInJlbGF0aW9uTWFwcGluZ3MiLCJVc2VyIiwiQWNjb3VudCIsIk1lbnUiLCJvd25lciIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsInVzZXIiLCJhY2NvdW50cyIsIkhhc01hbnlSZWxhdGlvbiIsIm1lbnVzIiwibWVudSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxPQUFOLFNBQXNCSixLQUF0QixDQUE0QjtBQUN4QixhQUFXSyxTQUFYLEdBQXVCO0FBQ25CLFdBQU9ILFVBQVUsQ0FBQ0ksT0FBbEI7QUFDSDs7QUFFRCxhQUFXQyxVQUFYLEdBQXdCO0FBQ3BCLFdBQU9KLE1BQVA7QUFDSDs7QUFFRCxhQUFXSyxnQkFBWCxHQUE4QjtBQUMxQjtBQUNBLFVBQU1DLElBQUksR0FBR1IsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLFVBQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLDJCQUFELENBQXZCOztBQUNBLFVBQU1VLElBQUksR0FBR1YsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUVBLFdBQU87QUFDSFcsTUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFFBQUFBLFFBQVEsRUFBRWIsS0FBSyxDQUFDYyxvQkFEYjtBQUVIQyxRQUFBQSxVQUFVLEVBQUVOLElBRlQ7QUFHSE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZixVQUFVLENBQUNJLE9BQVEsV0FEMUI7QUFFRlksVUFBQUEsRUFBRSxFQUFHLEdBQUVoQixVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEgsT0FESjtBQVNIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURWO0FBRU5OLFFBQUFBLFVBQVUsRUFBRUwsT0FGTjtBQUdOTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ2tCLFFBQVM7QUFGekI7QUFIQSxPQVRQO0FBaUJIRSxNQUFBQSxLQUFLLEVBQUU7QUFDSFQsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURiO0FBRUhOLFFBQUFBLFVBQVUsRUFBRUosSUFGVDtBQUdISyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ3FCLElBQUs7QUFGckI7QUFISDtBQWpCSixLQUFQO0FBMEJIOztBQXpDdUI7O0FBNEM1QkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkuc2NoZW1hLmpzb25cIik7XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLmNvbXBhbnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IHJlcXVpcmUoXCIuL2FjY291bnRzL2FjY291bnRzLm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvd25lcjoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBVc2VyLFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5vd25lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY291bnRzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBBY2NvdW50LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmFjY291bnRzfS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBNZW51LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLm1lbnV9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wYW55O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n    static get tableName() {\n        return tableNames.company;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n        const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n        const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n        return {\n            owner: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.company}.owner_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            accounts: {\n                relation: Model.HasManyRelation,\n                modelClass: Account,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.accounts}.company_id&#x60;,\n                },\n            },\n            menus: {\n                relation: Model.HasManyRelation,\n                modelClass: Menu,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.menu}.company_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nmodule.exports &#x3D; Company;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8b&#x2F;companymodel_8b713279ce3af8b604431fcbf24964b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2854&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5514,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5511,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Company&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 241,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 280,
                    &quot;endOffset&quot;: 332,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 343,
                    &quot;endOffset&quot;: 384,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 395,
                    &quot;endOffset&quot;: 1298,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  admin: \&quot;admin\&quot;,\n  owner: \&quot;owner\&quot;,\n  customer: \&quot;customer\&quot;,\n  staff: \&quot;staff\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFkbWluIiwib3duZXIiLCJjdXN0b21lciIsInN0YWZmIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLEtBQUssRUFBRSxPQURNO0FBRWJDLEVBQUFBLEtBQUssRUFBRSxPQUZNO0FBR2JDLEVBQUFBLFFBQVEsRUFBRSxVQUhHO0FBSWJDLEVBQUFBLEtBQUssRUFBRTtBQUpNLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRtaW46IFwiYWRtaW5cIixcbiAgICBvd25lcjogXCJvd25lclwiLFxuICAgIGN1c3RvbWVyOiBcImN1c3RvbWVyXCIsXG4gICAgc3RhZmY6IFwic3RhZmZcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    admin: \&quot;admin\&quot;,\n    owner: \&quot;owner\&quot;,\n    customer: \&quot;customer\&quot;,\n    staff: \&quot;staff\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;c3&#x2F;role_c386996d0c7428ed82a7fa0a3ec37236.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2855&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 789,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 786,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\n\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  scopedItems\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\n\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\n\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\n\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.owner_id &#x3D; req.user.id;\n  companyService.create(req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n  companyService.getAllCompanies().then(companies &#x3D;&gt; {\n    res.json(scopedItems(req.user, companies));\n  }).catch(next);\n}\n\nfunction getMyCompanies(req, res, next) {\n  companyService.getMyCompanies(req.user.id).then(companies &#x3D;&gt; companies ? res.json(companies) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyById(req, res, next) {\n  &#x2F;&#x2F; owner can get his company and the admin can get any company\n  companyService.getCompanyById(req.params.id).then(company &#x3D;&gt; {\n    if (company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    res.json(company);\n  }).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company\n  companyService.updateCompany({\n    id: req.params.id,\n    owner_id: req.user.id\n  }, req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company\n  companyService._delete({\n    id: parseInt(req.params.id),\n    owner_id: req.user.id\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: parseInt(req.params.id)\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiY29tcGFueVNlcnZpY2UiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJzY29wZWRJdGVtcyIsIkFjY291bnQiLCJNZW51IiwiT3JkZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsInBhdGNoIiwidXBkYXRlIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRNeUNvbXBhbmllcyIsImdldENvbXBhbnlCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZUNvbXBhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJvd25lcl9pZCIsInVzZXIiLCJpZCIsInRoZW4iLCJjb21wYW55IiwianNvbiIsImNhdGNoIiwiY29tcGFuaWVzIiwic2VuZFN0YXR1cyIsInBhcmFtcyIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQ29tcGFueSIsIl9kZWxldGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsc0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVPLEVBQUFBO0FBQUYsSUFBa0JQLE9BQU8sQ0FBQyx5QkFBRCxDQUEvQjs7QUFF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QURMLENBQ2E7QUFBRVosSUFBQUEsRUFBRSxFQUFFYSxRQUFRLENBQUNuQixHQUFHLENBQUNhLE1BQUosQ0FBV1AsRUFBWixDQUFkO0FBQStCRixJQUFBQSxRQUFRLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQztBQUFsRCxHQURiLEVBRUtDLElBRkwsQ0FFVSxNQUFNO0FBQ1JOLElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixDQUFTO0FBQUVILE1BQUFBLEVBQUUsRUFBRWEsUUFBUSxDQUFDbkIsR0FBRyxDQUFDYSxNQUFKLENBQVdQLEVBQVo7QUFBZCxLQUFUO0FBQ0gsR0FKTCxFQUtLSSxLQUxMLENBS1dSLElBTFg7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY29tcGFueS5zZXJ2aWNlXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCB7IHNjb3BlZEl0ZW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcGVybWlzc2lvbnNcIik7XG5cbmNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy9hY2NvdW50cy5yb3V0ZXNcIik7XG5jb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51LnJvdXRlc1wiKTtcbmNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4vb3JkZXIvb3JkZXIucm91dGVzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnkvMS9hY2NvdW50c1xucm91dGVyLnVzZShcIi86Y29tcGFueV9pZC9hY2NvdW50c1wiLCBBY2NvdW50KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvbWVudVwiLCBNZW51KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvb3JkZXJcIiwgT3JkZXIpO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmdldChcIi9cIiwgQXV0aChbUm9sZS5hZG1pbl0pLCBnZXRBbGxDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi9taW5lXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgZ2V0TXlDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aChbUm9sZS5hZG1pbiwgUm9sZS5vd25lcl0pLCBnZXRDb21wYW55QnlJZCk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLmFkbWluLCBSb2xlLm93bmVyXSksIF9kZWxldGVDb21wYW55KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5Lm93bmVyX2lkID0gcmVxLnVzZXIuaWQ7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGxDb21wYW5pZXMoKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihzY29wZWRJdGVtcyhyZXEudXNlciwgY29tcGFuaWVzKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldE15Q29tcGFuaWVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldE15Q29tcGFuaWVzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PlxuICAgICAgICAgICAgY29tcGFuaWVzID8gcmVzLmpzb24oY29tcGFuaWVzKSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb21wYW55QnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG93bmVyIGNhbiBnZXQgaGlzIGNvbXBhbnkgYW5kIHRoZSBhZG1pbiBjYW4gZ2V0IGFueSBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY29tcGFueS5vd25lcl9pZCAhPT0gcmVxLnVzZXIuaWQgJiZcbiAgICAgICAgICAgICAgICByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMuanNvbihjb21wYW55KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueVxuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVDb21wYW55KHsgaWQ6IHJlcS5wYXJhbXMuaWQsIG93bmVyX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDb21wYW55KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLl9kZWxldGUoeyBpZDogcGFyc2VJbnQocmVxLnBhcmFtcy5pZCksIG93bmVyX2lkOiByZXEudXNlci5pZCB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IGlkOiBwYXJzZUludChyZXEucGFyYW1zLmlkKSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { scopedItems } &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.owner_id &#x3D; req.user.id;\n    companyService\n        .create(req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n    companyService\n        .getAllCompanies()\n        .then((companies) &#x3D;&gt; {\n            res.json(scopedItems(req.user, companies));\n        })\n        .catch(next);\n}\nfunction getMyCompanies(req, res, next) {\n    companyService\n        .getMyCompanies(req.user.id)\n        .then((companies) &#x3D;&gt;\n            companies ? res.json(companies) : res.sendStatus(404)\n        )\n        .catch(next);\n}\nfunction getCompanyById(req, res, next) {\n    &#x2F;&#x2F; owner can get his company and the admin can get any company\n    companyService\n        .getCompanyById(req.params.id)\n        .then((company) &#x3D;&gt; {\n            if (\n                company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp;\n                req.user.role !&#x3D;&#x3D; Role.admin\n            ) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            res.json(company);\n        })\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company\n    companyService\n        .updateCompany({ id: req.params.id, owner_id: req.user.id }, req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company\n    companyService\n        ._delete({ id: parseInt(req.params.id), owner_id: req.user.id })\n        .then(() &#x3D;&gt; {\n            res.json({ id: parseInt(req.params.id) });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2a&#x2F;companyroutes_2accae81b914ebc49b8ad824faf130cd.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2856&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 11663,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 11660,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1186,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1340,
                    &quot;endOffset&quot;: 1505,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1507,
                    &quot;endOffset&quot;: 1681,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1683,
                    &quot;endOffset&quot;: 2058,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2281,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2283,
                    &quot;endOffset&quot;: 2553,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    logo_url: Joi.string(),\n    website_url: Joi.string(),\n    email: Joi.string().email().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    owner: Joi.number().empty(\&quot;\&quot;),\n    logo_url: Joi.string().empty(\&quot;\&quot;),\n    website_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsImxvZ29fdXJsIiwid2Vic2l0ZV91cmwiLCJlbWFpbCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiLCJvd25lciIsIm51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsUUFBUSxFQUFFZCxHQUFHLENBQUNXLE1BQUosRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosRUFKUztBQUt0QkssSUFBQUEsS0FBSyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFLLEtBQWIsR0FBcUJKLFFBQXJCO0FBTGUsR0FBWCxDQUFmO0FBT0FWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQ7O0FBV0FMLE9BQU8sQ0FBQ2MsWUFBUixHQUF1QixDQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNVyxXQUFXLEdBQUc7QUFDaEJSLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQk4sSUFBQUEsV0FBVyxFQUFFYixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQixDQUZHO0FBR2hCSCxJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYUssS0FBYixHQUFxQkcsS0FBckIsQ0FBMkIsRUFBM0IsQ0FIUztBQUloQkMsSUFBQUEsS0FBSyxFQUFFcEIsR0FBRyxDQUFDcUIsTUFBSixHQUFhRixLQUFiLENBQW1CLEVBQW5CLENBSlM7QUFLaEJMLElBQUFBLFFBQVEsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FMTTtBQU1oQkosSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQjtBQU5HLEdBQXBCO0FBU0EsUUFBTVgsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV1MsV0FBWCxDQUFmO0FBRUFoQixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQWJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBsb2dvX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICB3ZWJzaXRlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIG93bmVyOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGxvZ29fdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIHdlYnNpdGVfdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        logo_url: Joi.string(),\n        website_url: Joi.string(),\n        email: Joi.string().email().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        owner: Joi.number().empty(\&quot;\&quot;),\n        logo_url: Joi.string().empty(\&quot;\&quot;),\n        website_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;3c&#x2F;companyvalidators_3ce01f397e22205413767a4933ebdfd8.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2857&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4153,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4150,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 489,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 515,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n  create,\n  updateCompany,\n  getAllCompanies,\n  getMyCompanies,\n  getCompanyById,\n  _delete\n};\n\nasync function create(params) {\n  &#x2F;&#x2F; validate if company name exists\n  if (await getCompany({\n    name: params.name\n  })) {\n    error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n  }\n\n  const company &#x3D; await Company.query().insert(params);\n  return company;\n}\n\nasync function updateCompany(queryParams, params) {\n  const company &#x3D; await getCompany({ ...queryParams\n  });\n\n  if (!company) {\n    error(\&quot;Unauthorized\&quot;);\n  } &#x2F;&#x2F; validate if name was changed\n\n\n  if (params.name &amp;&amp; company.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCompany({\n    name: params.name\n  }))) {\n    error(&#x60;Name ${params.name} is already taken&#x60;);\n  }\n\n  const updatedCompany &#x3D; await Company.query().patchAndFetchById(queryParams.id, { ...params\n  });\n  return updatedCompany;\n}\n\nasync function getAllCompanies() {\n  const companies &#x3D; await Company.query();\n  return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n  const companies &#x3D; await Company.query().where({\n    owner_id: ownerId\n  });\n  return companies;\n}\n\nasync function getCompanyById(id) {\n  const company &#x3D; await getCompany({\n    id\n  });\n  return company;\n}\n\nasync function _delete(queryParams) {\n  const tobeDeleted &#x3D; await getCompany(queryParams);\n\n  if (tobeDeleted) {\n    return await Company.query().delete().where({ ...queryParams\n    });\n  }\n\n  return error(\&quot;Forbidden\&quot;);\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCompany(param) {\n  const company &#x3D; await Company.query().where({ ...param\n  }).first();\n  return company;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDb21wYW55IiwicmVxdWlyZSIsImVycm9yIiwiY3JlYXRlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlIiwidXBkYXRlQ29tcGFueSIsImdldEFsbENvbXBhbmllcyIsImdldE15Q29tcGFuaWVzIiwiZ2V0Q29tcGFueUJ5SWQiLCJfZGVsZXRlIiwicGFyYW1zIiwiZ2V0Q29tcGFueSIsIm5hbWUiLCJjb21wYW55IiwicXVlcnkiLCJpbnNlcnQiLCJxdWVyeVBhcmFtcyIsInVwZGF0ZWRDb21wYW55IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJpZCIsImNvbXBhbmllcyIsIm93bmVySWQiLCJ3aGVyZSIsIm93bmVyX2lkIiwidG9iZURlbGV0ZWQiLCJkZWxldGUiLCJwYXJhbSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUFyQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxhQUZhO0FBR2JDLEVBQUFBLGVBSGE7QUFJYkMsRUFBQUEsY0FKYTtBQUtiQyxFQUFBQSxjQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsTUFBZixDQUFzQk0sTUFBdEIsRUFBOEI7QUFDMUI7QUFDQSxNQUFJLE1BQU1DLFVBQVUsQ0FBQztBQUFFQyxJQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0U7QUFBZixHQUFELENBQXBCLEVBQTZDO0FBQ3pDWixJQUFBQSxLQUFLLENBQUMsV0FBV1UsTUFBTSxDQUFDRSxJQUFsQixHQUF5Qix5QkFBMUIsQ0FBTDtBQUNIOztBQUVELFFBQU1DLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQWdCQyxNQUFoQixDQUF1QkwsTUFBdkIsQ0FBdEI7QUFDQSxTQUFPRyxPQUFQO0FBQ0g7O0FBRUQsZUFBZVIsYUFBZixDQUE2QlcsV0FBN0IsRUFBMENOLE1BQTFDLEVBQWtEO0FBQzlDLFFBQU1HLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUMsRUFBRSxHQUFHSztBQUFMLEdBQUQsQ0FBaEM7O0FBRUEsTUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVmIsSUFBQUEsS0FBSyxDQUFDLGNBQUQsQ0FBTDtBQUNILEdBTDZDLENBTzlDOzs7QUFDQSxNQUNJVSxNQUFNLENBQUNFLElBQVAsSUFDQUMsT0FBTyxDQUFDRCxJQUFSLEtBQWlCRixNQUFNLENBQUNFLElBRHhCLEtBRUMsTUFBTUQsVUFBVSxDQUFDO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBTSxDQUFDRTtBQUFmLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0VaLElBQUFBLEtBQUssQ0FBRSxRQUFPVSxNQUFNLENBQUNFLElBQUssbUJBQXJCLENBQUw7QUFDSDs7QUFFRCxRQUFNSyxjQUFjLEdBQUcsTUFBTW5CLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JJLGlCQUFoQixDQUN6QkYsV0FBVyxDQUFDRyxFQURhLEVBRXpCLEVBQ0ksR0FBR1Q7QUFEUCxHQUZ5QixDQUE3QjtBQU9BLFNBQU9PLGNBQVA7QUFDSDs7QUFFRCxlQUFlWCxlQUFmLEdBQWlDO0FBQzdCLFFBQU1jLFNBQVMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDZ0IsS0FBUixFQUF4QjtBQUNBLFNBQU9NLFNBQVA7QUFDSDs7QUFFRCxlQUFlYixjQUFmLENBQThCYyxPQUE5QixFQUF1QztBQUNuQyxRQUFNRCxTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JRLEtBQWhCLENBQXNCO0FBQzFDQyxJQUFBQSxRQUFRLEVBQUVGO0FBRGdDLEdBQXRCLENBQXhCO0FBR0EsU0FBT0QsU0FBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsQ0FBOEJXLEVBQTlCLEVBQWtDO0FBQzlCLFFBQU1OLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUM7QUFBRVEsSUFBQUE7QUFBRixHQUFELENBQWhDO0FBQ0EsU0FBT04sT0FBUDtBQUNIOztBQUVELGVBQWVKLE9BQWYsQ0FBdUJPLFdBQXZCLEVBQW9DO0FBQ2hDLFFBQU1RLFdBQVcsR0FBRyxNQUFNYixVQUFVLENBQUNLLFdBQUQsQ0FBcEM7O0FBRUEsTUFBSVEsV0FBSixFQUFpQjtBQUNiLFdBQU8sTUFBTTFCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FDUlcsTUFEUSxHQUVSSCxLQUZRLENBRUYsRUFBRSxHQUFHTjtBQUFMLEtBRkUsQ0FBYjtBQUdIOztBQUVELFNBQU9oQixLQUFLLENBQUMsV0FBRCxDQUFaO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUVBLGVBQWVXLFVBQWYsQ0FBMEJlLEtBQTFCLEVBQWlDO0FBQzdCLFFBQU1iLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQ2pCUSxLQURpQixDQUNYLEVBQUUsR0FBR0k7QUFBTCxHQURXLEVBRWpCQyxLQUZpQixFQUF0QjtBQUdBLFNBQU9kLE9BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5jb25zdCBjcmVhdGVFcnJvciA9IHJlcXVpcmUoXCJodHRwLWVycm9yc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUNvbXBhbnksXG4gICAgZ2V0QWxsQ29tcGFuaWVzLFxuICAgIGdldE15Q29tcGFuaWVzLFxuICAgIGdldENvbXBhbnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGUgaWYgY29tcGFueSBuYW1lIGV4aXN0c1xuICAgIGlmIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpIHtcbiAgICAgICAgZXJyb3IoJ05hbWUgXCInICsgcGFyYW1zLm5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcGFueShxdWVyeVBhcmFtcywgcGFyYW1zKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyAuLi5xdWVyeVBhcmFtcyB9KTtcblxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgICBlcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBpZiBuYW1lIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjb21wYW55Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBOYW1lICR7cGFyYW1zLm5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChcbiAgICAgICAgcXVlcnlQYXJhbXMuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gdXBkYXRlZENvbXBhbnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHtcbiAgICBjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNvbXBhbmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TXlDb21wYW5pZXMob3duZXJJZCkge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS53aGVyZSh7XG4gICAgICAgIG93bmVyX2lkOiBvd25lcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBjb21wYW5pZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyBpZCB9KTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGNvbnN0IHRvYmVEZWxldGVkID0gYXdhaXQgZ2V0Q29tcGFueShxdWVyeVBhcmFtcyk7XG5cbiAgICBpZiAodG9iZURlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvbXBhbnkucXVlcnkoKVxuICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAud2hlcmUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3IoXCJGb3JiaWRkZW5cIik7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIF9zb2Z0RGVsZXRlKGlkKSB7XG4vL21hcmsgYXMgaW5hY3RpdmVcbi8vICBhd2FpdCBDb21wYW55LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnkocGFyYW0pIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBjb21wYW55O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n    create,\n    updateCompany,\n    getAllCompanies,\n    getMyCompanies,\n    getCompanyById,\n    _delete,\n};\n\nasync function create(params) {\n    &#x2F;&#x2F; validate if company name exists\n    if (await getCompany({ name: params.name })) {\n        error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n    }\n\n    const company &#x3D; await Company.query().insert(params);\n    return company;\n}\n\nasync function updateCompany(queryParams, params) {\n    const company &#x3D; await getCompany({ ...queryParams });\n\n    if (!company) {\n        error(\&quot;Unauthorized\&quot;);\n    }\n\n    &#x2F;&#x2F; validate if name was changed\n    if (\n        params.name &amp;&amp;\n        company.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCompany({ name: params.name }))\n    ) {\n        error(&#x60;Name ${params.name} is already taken&#x60;);\n    }\n\n    const updatedCompany &#x3D; await Company.query().patchAndFetchById(\n        queryParams.id,\n        {\n            ...params,\n        }\n    );\n\n    return updatedCompany;\n}\n\nasync function getAllCompanies() {\n    const companies &#x3D; await Company.query();\n    return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n    const companies &#x3D; await Company.query().where({\n        owner_id: ownerId,\n    });\n    return companies;\n}\n\nasync function getCompanyById(id) {\n    const company &#x3D; await getCompany({ id });\n    return company;\n}\n\nasync function _delete(queryParams) {\n    const tobeDeleted &#x3D; await getCompany(queryParams);\n\n    if (tobeDeleted) {\n        return await Company.query()\n            .delete()\n            .where({ ...queryParams });\n    }\n\n    return error(\&quot;Forbidden\&quot;);\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCompany(param) {\n    const company &#x3D; await Company.query()\n        .where({ ...param })\n        .first();\n    return company;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;10&#x2F;companyservice_103976749abb46712c9f5147304425bb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2858&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7967,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 615,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 617,
                    &quot;endOffset&quot;: 1096,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1098,
                    &quot;endOffset&quot;: 1197,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1199,
                    &quot;endOffset&quot;: 1339,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1341,
                    &quot;endOffset&quot;: 1446,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1448,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1808,
                    &quot;endOffset&quot;: 1933,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; message &#x3D;&gt; {\n  const error &#x3D; new Error(message);\n  throw error;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsT0FBRCxJQUFhO0FBQzFCLFFBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLE9BQVYsQ0FBZDtBQUNBLFFBQU1DLEtBQU47QUFDSCxDQUhEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; (message) &#x3D;&gt; {\n    const error &#x3D; new Error(message);\n    throw error;\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;fa&#x2F;error_fa67f28dedb39797d87045fcac49c533.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2859&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 690,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 687,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 106,
                    &quot;endOffset&quot;: 171,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n  if (user.role &#x3D;&#x3D; role.admin) return items;\n  return items.filter(item &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n  scopedItems\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb25zLmpzIl0sIm5hbWVzIjpbInJvbGUiLCJyZXF1aXJlIiwic2NvcGVkSXRlbXMiLCJ1c2VyIiwiaXRlbXMiLCJhZG1pbiIsImZpbHRlciIsIml0ZW0iLCJvd25lcl9pZCIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsTUFBSUQsSUFBSSxDQUFDSCxJQUFMLElBQWFBLElBQUksQ0FBQ0ssS0FBdEIsRUFBNkIsT0FBT0QsS0FBUDtBQUM3QixTQUFPQSxLQUFLLENBQUNFLE1BQU4sQ0FBY0MsSUFBRCxJQUFVQSxJQUFJLENBQUNDLFFBQUwsSUFBaUJMLElBQUksQ0FBQ00sRUFBN0MsQ0FBUDtBQUNIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlQsRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvbGUgPSByZXF1aXJlKFwiLi9yb2xlXCIpO1xuXG5mdW5jdGlvbiBzY29wZWRJdGVtcyh1c2VyLCBpdGVtcykge1xuICAgIGlmICh1c2VyLnJvbGUgPT0gcm9sZS5hZG1pbikgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ub3duZXJfaWQgPT0gdXNlci5pZCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNjb3BlZEl0ZW1zLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n    if (user.role &#x3D;&#x3D; role.admin) return items;\n    return items.filter((item) &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n    scopedItems,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;08&#x2F;permissions_089e905c4105820f9841c9d528f11f86.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2862&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1344,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1341,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;scopedItems&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 122,
                    &quot;endOffset&quot;: 261,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n  mergeParams: true\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n  try {\n    &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n    &#x2F;&#x2F; }\n    const accounts &#x3D; await Account.query().where({\n      company_id: req.params.company_id\n    });\n\n    if (!accounts) {\n      return res.status(404);\n    }\n\n    res.json(accounts);\n  } catch (error) {\n    next(error);\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJBY2NvdW50IiwicmVxdWlyZSIsIkNvbXBhbnkiLCJSb2xlIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJnZXQiLCJhZG1pbiIsIm93bmVyIiwiZ2V0QWNjb3VudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImFjY291bnRzIiwicXVlcnkiLCJ3aGVyZSIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUcsRUFBQUEsSUFBSSxFQUFFQyxJQUFSO0FBQWNDLEVBQUFBO0FBQWQsSUFBMEJMLE9BQU8sQ0FBQyw0QkFBRCxDQUF2Qzs7QUFFQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJPLE1BQW5CLENBQTBCO0FBQ3JDQyxFQUFBQSxXQUFXLEVBQUU7QUFEd0IsQ0FBMUIsQ0FBZjs7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkwsSUFBSSxDQUFDLENBQUNGLElBQUksQ0FBQ1EsS0FBTixFQUFhUixJQUFJLENBQUNTLEtBQWxCLENBQUQsQ0FBcEIsRUFBZ0ROLE9BQU8sRUFBdkQsRUFBMkRPLFdBQTNEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakI7O0FBRUEsZUFBZU0sV0FBZixDQUEyQkcsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QyxNQUFJO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTUMsUUFBUSxHQUFHLE1BQU1uQixPQUFPLENBQUNvQixLQUFSLEdBQWdCQyxLQUFoQixDQUFzQjtBQUN6Q0MsTUFBQUEsVUFBVSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0Q7QUFEa0IsS0FBdEIsQ0FBdkI7O0FBSUEsUUFBSSxDQUFDSCxRQUFMLEVBQWU7QUFDWCxhQUFPRixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLENBQVA7QUFDSDs7QUFFRFAsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNOLFFBQVQ7QUFDSCxHQWRELENBY0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pSLElBQUFBLElBQUksQ0FBQ1EsS0FBRCxDQUFKO0FBQ0g7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS5tb2RlbFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcm9sZVwiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCwgaXNPd25lciB9ID0gcmVxdWlyZShcIi4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoW1JvbGUuYWRtaW4sIFJvbGUub3duZXJdKSwgaXNPd25lcigpLCBnZXRBY2NvdW50cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50cyhyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGlmICghY29tcGFueSAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50LnF1ZXJ5KCkud2hlcmUoe1xuICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjY291bnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oYWNjb3VudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n    mergeParams: true,\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\n\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n    try {\n        &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n        &#x2F;&#x2F; }\n\n        const accounts &#x3D; await Account.query().where({\n            company_id: req.params.company_id,\n        });\n\n        if (!accounts) {\n            return res.status(404);\n        }\n\n        res.json(accounts);\n    } catch (error) {\n        next(error);\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f5&#x2F;accountsroutes_f54e96c4db6e4acb21a322f351ad9a58.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2863&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3778,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3775,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccounts&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n  static get tableName() {\n    return tableNames.accounts;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n}\n\nmodule.exports &#x3D; Account;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJzY2hlbWEiLCJBY2NvdW50IiwidGFibGVOYW1lIiwiYWNjb3VudHMiLCJqc29uU2NoZW1hIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUVBLE1BQU1HLE9BQU4sU0FBc0JKLEtBQXRCLENBQTRCO0FBQ3hCLGFBQVdLLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0gsVUFBVSxDQUFDSSxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0osTUFBUDtBQUNIOztBQVB1Qjs7QUFVNUJLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkwsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2FjY291bnRzLnNjaGVtYS5qc29uXCIpO1xuXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5hY2NvdW50cztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGpzb25TY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnQ7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n    static get tableName() {\n        return tableNames.accounts;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n}\n\nmodule.exports &#x3D; Account;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;01&#x2F;accountsmodel_01a1ad309c7db6ca01e6d4ebe4774684.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2864&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Account&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 245,
                    &quot;endOffset&quot;: 245,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 284,
                    &quot;endOffset&quot;: 337,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 389,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\n\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.company_id &#x3D; parseInt(req.params.company_id);\n  menuService.createMenu(req.body).then(menu &#x3D;&gt; res.json(menu)).catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  menuService.getAllCompanyMenus({\n    id: company_id\n  }).then(menus &#x3D;&gt; menus ? res.json(menus) : res.sendStatus(404)).catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n  menuService.getMenuById(req.params.id).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService.updateMenu(req.params.id, req.body);\n  }).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiQ29tcGFueSIsImF1dGgiLCJBdXRoIiwiaXNPd25lciIsIlJvbGUiLCJDYXRlZ29yeSIsIm1lbnVTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlTWVudSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYm9keSIsImNvbXBhbnlfaWQiLCJwYXJzZUludCIsInBhcmFtcyIsImNyZWF0ZU1lbnUiLCJ0aGVuIiwibWVudSIsImpzb24iLCJjYXRjaCIsImlkIiwibWVudXMiLCJzZW5kU3RhdHVzIiwicXVlcnkiLCJ3aGVyZSIsInVzZXIiLCJmaXJzdCIsImNvbXBhbnkiLCJzdGF0dXMiLCJ1cGRhdGVNZW51IiwiX2RlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsa0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQk4sT0FBTyxDQUFDLDRCQUFELENBQXZDOztBQUNBLE1BQU1PLElBQUksR0FBR1AsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU1RLFFBQVEsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1T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aEJMLEVBaUJLRCxLQWpCTCxDQWlCV1QsSUFqQlg7QUFrQkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL21lbnUudmFsaWRhdG9yXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5LnJvdXRlc1wiKTtcblxuY29uc3QgbWVudVNlcnZpY2UgPSByZXF1aXJlKFwiLi9tZW51LnNlcnZpY2VcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbi8vIGFwaS92MS9jb21wYW55L2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeVxucm91dGVyLnVzZShcIi86bWVudV9pZC9jYXRlZ29yeVwiLCBDYXRlZ29yeSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQ29tcGFueU1lbnVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldE1lbnVCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCB1cGRhdGVTY2hlbWEsIHVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIF9kZWxldGVNZW51KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5LmNvbXBhbnlfaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmNvbXBhbnlfaWQpO1xuICAgIG1lbnVTZXJ2aWNlXG4gICAgICAgIC5jcmVhdGVNZW51KHJlcS5ib2R5KVxuICAgICAgICAudGhlbigobWVudSkgPT4gcmVzLmpzb24obWVudSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29tcGFueU1lbnVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjb21wYW55X2lkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgbWVudVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlNZW51cyh7IGlkOiBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChtZW51cykgPT4gKG1lbnVzID8gcmVzLmpzb24obWVudXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVudUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBtZW51U2VydmljZVxuICAgICAgICAuZ2V0TWVudUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKG1lbnUpID0+IChtZW51ID8gcmVzLmpzb24obWVudSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBtZW51XG5cbiAgICBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgb3duZXI6IHJlcS51c2VyLmlkIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJVbmF0aG9yaXplZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTZXJ2aWNlLnVwZGF0ZU1lbnUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigobWVudSkgPT4gKG1lbnUgPyByZXMuanNvbihtZW51KSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVNZW51KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55IG1lbnVcblxuICAgIENvbXBhbnkucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyBvd25lcjogcmVxLnVzZXIuaWQgfSlcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICghY29tcGFueSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICAgICAgICAgICAgICBlcnJvcihcIlVuYXRob3JpemVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.company_id &#x3D; parseInt(req.params.company_id);\n    menuService\n        .createMenu(req.body)\n        .then((menu) &#x3D;&gt; res.json(menu))\n        .catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    menuService\n        .getAllCompanyMenus({ id: company_id })\n        .then((menus) &#x3D;&gt; (menus ? res.json(menus) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n    menuService\n        .getMenuById(req.params.id)\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService.updateMenu(req.params.id, req.body);\n        })\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;99&#x2F;menuroutes_997150f167642e0bf13a4d7cf8d13bc4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2952&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 954,
                    &quot;endOffset&quot;: 1123,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1125,
                    &quot;endOffset&quot;: 1348,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1350,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1879,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1881,
                    &quot;endOffset&quot;: 2321,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    cover_url: Joi.string()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    cover_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUudmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJleHBvcnRzIiwiY3JlYXRlU2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiY292ZXJfdXJsIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsU0FBUyxFQUFFZCxHQUFHLENBQUNXLE1BQUo7QUFIVyxHQUFYLENBQWY7QUFLQVQsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FQRDs7QUFTQUwsT0FBTyxDQUFDWSxZQUFSLEdBQXVCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1TLFdBQVcsR0FBRztBQUNoQk4sSUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixDQUFtQixFQUFuQixDQURVO0FBRWhCSixJQUFBQSxXQUFXLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhTSxLQUFiLENBQW1CLEVBQW5CLENBRkc7QUFHaEJILElBQUFBLFNBQVMsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFwQjtBQU1BLFFBQU1ULE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdPLFdBQVgsQ0FBZjtBQUVBZCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdChzY2hlbWFSdWxlcyk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        cover_url: Joi.string(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        cover_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0b&#x2F;menuvalidator_0bff2254f7ebb231be87a9bba47a9cd7.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2953&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3165,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 216,
                    &quot;endOffset&quot;: 418,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 444,
                    &quot;endOffset&quot;: 689,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\n\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  &#x2F;&#x2F; check if owner of company\n  const payload &#x3D; req.body;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.createcategory(payload);\n  }).then(category &#x3D;&gt; res.json(category)).catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  categoryService.getAllCompanyCategorys({\n    company_id\n  }).then(categories &#x3D;&gt; categories ? res.json(categories) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n  categoryService.getCategoryById(req.params.id).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company category\n  const payload &#x3D; req.body;\n  payload.menu_id &#x3D; req.params.menu_id;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.updateCategory(req.params.id, payload);\n  }).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company category\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function isOwner(owner_id, company_id) {\n  const bool &#x3D; await Company.query().where({\n    owner_id,\n    id: company_id\n  }).first();\n  return bool;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZVNjaGVtYSIsInVwZGF0ZVNjaGVtYSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsIkNvbXBhbnkiLCJJdGVtIiwiY2F0ZWdvcnlTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlDYXRlZ29yeXMiLCJnZXRDYXRlZ29yeUJ5SWQiLCJwYXRjaCIsInVwZGF0ZSIsImRlbGV0ZSIsIl9kZWxldGVDYXRlZ29yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGF5bG9hZCIsImJvZHkiLCJpc093bmVyIiwidXNlciIsImlkIiwicGFyYW1zIiwiY29tcGFueV9pZCIsInRoZW4iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNyZWF0ZWNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjYXRjaCIsImNhdGVnb3JpZXMiLCJzZW5kU3RhdHVzIiwibWVudV9pZCIsInVwZGF0ZUNhdGVnb3J5IiwiX2RlbGV0ZSIsIm93bmVyX2lkIiwiYm9vbCIsInF1ZXJ5Iiwid2hlcmUiLCJmaXJzdCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsdUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJKLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFFQSxNQUFNTyxJ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T0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNIOztBQUNELFdBQU8vQixlQUFlLENBQUN1QyxPQUFoQixDQUF3QjtBQUMzQmQsTUFBQUEsRUFBRSxFQUFFUCxHQUFHLENBQUNRLE1BQUosQ0FBV0QsRUFEWTtBQUUzQkUsTUFBQUEsVUFBVSxFQUFFVCxHQUFHLENBQUNRLE1BQUosQ0FBV0M7QUFGSSxLQUF4QixDQUFQO0FBSUgsR0FUTCxFQVVLQyxJQVZMLENBVVUsTUFBTTtBQUNSVCxJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFTCxNQUFBQSxFQUFFLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRDtBQUFqQixLQUFUO0FBQ0gsR0FaTCxFQWFLUyxLQWJMLENBYVdkLElBYlg7QUFjSCxDLENBRUQ7OztBQUNBLGVBQWVHLE9BQWYsQ0FBdUJpQixRQUF2QixFQUFpQ2IsVUFBakMsRUFBNkM7QUFDekMsUUFBTWMsSUFBSSxHQUFHLE1BQU0zQyxPQUFPLENBQUM0QyxLQUFSLEdBQ2RDLEtBRGMsQ0FDUjtBQUFFSCxJQUFBQSxRQUFGO0FBQVlmLElBQUFBLEVBQUUsRUFBRUU7QUFBaEIsR0FEUSxFQUVkaUIsS0FGYyxFQUFuQjtBQUlBLFNBQU9ILElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCB9ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3QgUm9sZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi91dGlscy9yb2xlXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYW55Lm1vZGVsXCIpO1xuXG5jb25zdCBJdGVtID0gcmVxdWlyZShcIi4vaXRlbS9pdGVtLnJvdXRlc1wiKTtcblxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2VydmljZVwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeS9jYXRlZ29yeV9pZC9pdGVtXG5yb3V0ZXIudXNlKFwiLzpjYXRlZ29yeV9pZC9pdGVtXCIsIEl0ZW0pO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCBnZXRBbGxDb21wYW55Q2F0ZWdvcnlzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldENhdGVnb3J5QnlJZCk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBfZGVsZXRlQ2F0ZWdvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gY2hlY2sgaWYgb3duZXIgb2YgY29tcGFueVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcblxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlY2F0ZWdvcnkocGF5bG9hZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yeSkgPT4gcmVzLmpzb24oY2F0ZWdvcnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbnlDYXRlZ29yeXMocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IGNvbXBhbnlfaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlDYXRlZ29yeXMoeyBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yaWVzKSA9PlxuICAgICAgICAgICAgY2F0ZWdvcmllcyA&#x2F;IHJlcy5qc29uKGNhdGVnb3JpZXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgICAgIC5nZXRDYXRlZ29yeUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGNhdGVnb3J5KSA9PlxuICAgICAgICAgICAgY2F0ZWdvcnkgPyByZXMuanNvbihjYXRlZ29yeSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcbiAgICBwYXlsb2FkLm1lbnVfaWQgPSByZXEucGFyYW1zLm1lbnVfaWQ7XG5cbiAgICBpc093bmVyKHJlcS51c2VyLmlkLCByZXEucGFyYW1zLmNvbXBhbnlfaWQpXG4gICAgICAgIC50aGVuKChvd25lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5wYXJhbXMuaWQsIHBheWxvYWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoY2F0ZWdvcnkpID0+XG4gICAgICAgICAgICBjYXRlZ29yeSA&#x2F;IHJlcy5qc29uKGNhdGVnb3J5KSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDYXRlZ29yeShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG9ubHkgb3duZXIgZGVsZXRlIGNhbiBkZWxldGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGlzT3duZXIob3duZXJfaWQsIGNvbXBhbnlfaWQpIHtcbiAgICBjb25zdCBib29sID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IG93bmVyX2lkLCBpZDogY29tcGFueV9pZCB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIHJldHVybiBib29sO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    &#x2F;&#x2F; check if owner of company\n    const payload &#x3D; req.body;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.createcategory(payload);\n        })\n        .then((category) &#x3D;&gt; res.json(category))\n        .catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    categoryService\n        .getAllCompanyCategorys({ company_id })\n        .then((categories) &#x3D;&gt;\n            categories ? res.json(categories) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n    categoryService\n        .getCategoryById(req.params.id)\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company category\n    const payload &#x3D; req.body;\n    payload.menu_id &#x3D; req.params.menu_id;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.updateCategory(req.params.id, payload);\n        })\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company category\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function isOwner(owner_id, company_id) {\n    const bool &#x3D; await Company.query()\n        .where({ owner_id, id: company_id })\n        .first();\n\n    return bool;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f9&#x2F;categoryroutes_f95c539ef7b2381e749f49618b0199b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2954&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 12907,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 12904,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 962,
                    &quot;endOffset&quot;: 1328,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1330,
                    &quot;endOffset&quot;: 1576,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1578,
                    &quot;endOffset&quot;: 1754,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1756,
                    &quot;endOffset&quot;: 2229,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2231,
                    &quot;endOffset&quot;: 2690,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2738,
                    &quot;endOffset&quot;: 2893,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    menu_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    menu_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVTY2hlbWEiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibWVudV9pZCIsIm51bWJlciIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsMENBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxPQUFPLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBRmEsR0FBWCxDQUFmO0FBSUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBTkQ7O0FBUUFMLE9BQU8sQ0FBQ1ksWUFBUixHQUF1QixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNUyxXQUFXLEdBQUc7QUFDaEJOLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQkosSUFBQUEsT0FBTyxFQUFFYixHQUFHLENBQUNjLE1BQUosR0FBYUcsS0FBYixDQUFtQixFQUFuQjtBQUZPLEdBQXBCO0FBS0EsUUFBTVQsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV08sV0FBWCxDQUFmO0FBRUFkLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy92YWxpZGF0ZVJlcXVlc3RcIik7XG5cbmV4cG9ydHMuY3JlYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        menu_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        menu_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;1b&#x2F;categoryvalidators_1b6fa12bad6d90716c229117a118363b.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2955&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 219,
                    &quot;endOffset&quot;: 388,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 414,
                    &quot;endOffset&quot;: 616,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  itemService.createItem(req.body).then(item &#x3D;&gt; res.status(201).json(item)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  itemService.getItemById(req.params.id).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction updateItem(req, res, next) {\n  itemService.updateItem(req.params.id, req.body).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n  itemService.deleteItem({\n    id: req.params.id\n  }).then(() &#x3D;&gt; res.json({\n    message: \&quot;Item deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwiUm9sZSIsIml0ZW1TZXJ2aWNlIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJwb3N0Iiwib3duZXIiLCJjcmVhdGUiLCJnZXQiLCJnZXRCeUlkIiwicGF0Y2giLCJ1cGRhdGVJdGVtIiwiZGVsZXRlIiwiZGVsZXRlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3JlYXRlSXRlbSIsImJvZHkiLCJ0aGVuIiwiaXRlbSIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImdldEl0ZW1CeUlkIiwicGFyYW1zIiwiaWQiLCJzZW5kU3RhdHVzIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsbUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQkwsT0FBTyxDQUFDLGtDQUFELENBQXZDOztBQUNBLE1BQU1NLElBQUksR0FBR04sT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1PLFdBQVcsR0FBR1AsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUVBLE1BQU1RLE1BQU0sR0FBR1QsT0FBTyxDQUFDVSxNQUFSLENBQWU7QUFDMUJDLEVBQUFBLFdBQVcsRUFBRTtBQURhLENBQWYsQ0FBZjtBQUlBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCUCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBckIsRUFBcUNQLE9BQU8sRUFBNUMsRUFBZ0RKLFlBQWhELEVBQThEWSxNQUE5RDtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxNQUFYLEVBQW1CVixJQUFJLEVBQXZCLEVBQTJCVyxPQUEzQjtBQUNBUCxNQUFNLENBQUNRLEtBQVAsQ0FBYSxNQUFiLEVBQXFCWixJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBekIsRUFBeUNQLE9BQU8sRUFBaEQsRUFBb0RILFlBQXBELEVBQWtFZSxVQUFsRTtBQUNBVCxNQUFNLENBQUNVLE1BQVAsQ0FBYyxNQUFkLEVBQXNCZCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBMUIsRUFBMENQLE9BQU8sRUFBakQsRUFBcURjLFVBQXJEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakI7O0FBRUEsU0FBU0ssTUFBVCxDQUFnQlMsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QmpCLEVBQUFBLFdBQVcsQ0FDTmtCLFVBREwsQ0FDZ0JILEdBQUcsQ0FBQ0ksSUFEcEIsRUFFS0MsSUFGTCxDQUVXQyxJQUFELElBQVVMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixJQUFyQixDQUZwQixFQUdLRyxLQUhMLENBR1dQLElBSFg7QUFJSDs7QUFFRCxTQUFTVCxPQUFULENBQWlCTyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCakIsRUFBQUEsV0FBVyxDQUNOeUIsV0FETCxDQUNpQlYsR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDVCLEVBRUtQLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU1AsVUFBVCxDQUFvQkssR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlUsVUFETCxDQUNnQkssR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDNCLEVBQytCWixHQUFHLENBQUNJLElBRG5DLEVBRUtDLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU0wsVUFBVCxDQUFvQkcsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlksVUFETCxDQUNnQjtBQUFFZSxJQUFBQSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ1csTUFBSixDQUFXQztBQUFqQixHQURoQixFQUVLUCxJQUZMLENBRVUsTUFDRkosR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDTE0sSUFBQUEsT0FBTyxFQUFFLDJCQURKO0FBRUxGLElBQUFBLEVBQUUsRUFBRVosR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBRlYsR0FBVCxDQUhSLEVBUUtILEtBUkwsQ0FRV1AsSUFSWDtBQVNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vaXRlbS52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBpdGVtU2VydmljZSA9IHJlcXVpcmUoXCIuL2l0ZW0uc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBpc093bmVyKCksIHVwZGF0ZVNjaGVtYSwgdXBkYXRlSXRlbSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgZGVsZXRlSXRlbSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5mdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuY3JlYXRlSXRlbShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHJlcy5zdGF0dXMoMjAxKS5qc29uKGl0ZW0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuZ2V0SXRlbUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IChpdGVtID8gcmVzLmpzb24oaXRlbSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJdGVtKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaXRlbVNlcnZpY2VcbiAgICAgICAgLnVwZGF0ZUl0ZW0ocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiAoaXRlbSA&#x2F;IHJlcy5qc29uKGl0ZW0pIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIGl0ZW1TZXJ2aWNlXG4gICAgICAgIC5kZWxldGVJdGVtKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSlcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    itemService\n        .createItem(req.body)\n        .then((item) &#x3D;&gt; res.status(201).json(item))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    itemService\n        .getItemById(req.params.id)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction updateItem(req, res, next) {\n    itemService\n        .updateItem(req.params.id, req.body)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n    itemService\n        .deleteItem({ id: req.params.id })\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Item deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;de&#x2F;itemroutes_de9b46cc999b0a12213b699c8d15bd22.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2956&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6599,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6596,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 717,
                    &quot;endOffset&quot;: 841,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 843,
                    &quot;endOffset&quot;: 991,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 993,
                    &quot;endOffset&quot;: 1153,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1155,
                    &quot;endOffset&quot;: 1353,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    price: Joi.number().required(),\n    quantity: Joi.number().required(),\n    description: Joi.string().required(),\n    image_url: Joi.string(),\n    category_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    price: Joi.number().empty(\&quot;\&quot;),\n    quantity: Joi.number().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    image_url: Joi.string(),\n    category_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0udmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJwcmljZSIsIm51bWJlciIsInF1YW50aXR5IiwiZGVzY3JpcHRpb24iLCJpbWFnZV91cmwiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsNkNBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxLQUFLLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiLEVBRmU7QUFHdEJHLElBQUFBLFFBQVEsRUFBRWYsR0FBRyxDQUFDYyxNQUFKLEdBQWFGLFFBQWIsRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFKUztBQUt0QkssSUFBQUEsU0FBUyxFQUFFakIsR0FBRyxDQUFDVyxNQUFKLEVBTFc7QUFNdEJPLElBQUFBLFdBQVcsRUFBRWxCLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBTlMsR0FBWCxDQUFmO0FBUUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVkQ7O0FBWUFMLE9BQU8sQ0FBQ2dCLFlBQVIsR0FBdUIsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTWEsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhVSxLQUFiLENBQW1CLEVBQW5CLENBRFU7QUFFaEJSLElBQUFBLEtBQUssRUFBRWIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkIsQ0FGUztBQUdoQk4sSUFBQUEsUUFBUSxFQUFFZixHQUFHLENBQUNjLE1BQUosR0FBYU8sS0FBYixDQUFtQixFQUFuQixDQUhNO0FBSWhCTCxJQUFBQSxXQUFXLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYVUsS0FBYixDQUFtQixFQUFuQixDQUpHO0FBS2hCSixJQUFBQSxTQUFTLEVBQUVqQixHQUFHLENBQUNXLE1BQUosRUFMSztBQU1oQk8sSUFBQUEsV0FBVyxFQUFFbEIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkI7QUFORyxHQUFwQjtBQVNBLFFBQU1iLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdXLFdBQVgsQ0FBZjtBQUVBbEIsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHByaWNlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGltYWdlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBjYXRlZ29yeV9pZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMudXBkYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hUnVsZXMgPSB7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHJpY2U6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgaW1hZ2VfdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgICAgIGNhdGVnb3J5X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        description: Joi.string().required(),\n        image_url: Joi.string(),\n        category_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        price: Joi.number().empty(\&quot;\&quot;),\n        quantity: Joi.number().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        image_url: Joi.string(),\n        category_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;b3&#x2F;itemvalidators_b3b5560b6fc02d936e24d53b4a41cdcb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2957&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4275,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4272,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 222,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 567,
                    &quot;endOffset&quot;: 916,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createItem,\n  getItemById,\n  updateItem,\n  deleteItem\n};\n\nasync function createItem(params) {\n  const item &#x3D; await Item.query().insert(params);\n  return basicDetails(item);\n}\n\nasync function getItemById(id) {\n  const item &#x3D; await getItem({\n    id\n  });\n  return item;\n}\n\nasync function updateItem(id, params) {\n  const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n  return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n  await Item.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getItem(params) {\n  const item &#x3D; await Item.query().where({ ...params\n  }).first();\n  return item;\n}\n\nfunction basicDetails(item) {\n  const {\n    id,\n    name,\n    description\n  } &#x3D; item;\n  return {\n    id,\n    name,\n    description\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0uc2VydmljZS5qcyJdLCJuYW1lcyI6WyJJdGVtIiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZUl0ZW0iLCJnZXRJdGVtQnlJZCIsInVwZGF0ZUl0ZW0iLCJkZWxldGVJdGVtIiwicGFyYW1zIiwiaXRlbSIsInF1ZXJ5IiwiaW5zZXJ0IiwiYmFzaWNEZXRhaWxzIiwiaWQiLCJnZXRJdGVtIiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsIndoZXJlIiwiZmlyc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFdBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQTtBQUphLENBQWpCOztBQU9BLGVBQWVILFVBQWYsQ0FBMEJJLE1BQTFCLEVBQWtDO0FBQzlCLFFBQU1DLElBQUksR0FBRyxNQUFNVixJQUFJLENBQUNXLEtBQUwsR0FBYUMsTUFBYixDQUFvQkgsTUFBcEIsQ0FBbkI7QUFDQSxTQUFPSSxZQUFZLENBQUNILElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlSixXQUFmLENBQTJCUSxFQUEzQixFQUErQjtBQUMzQixRQUFNSixJQUFJLEdBQUcsTUFBTUssT0FBTyxDQUFDO0FBQUVELElBQUFBO0FBQUYsR0FBRCxDQUExQjtBQUNBLFNBQU9KLElBQVA7QUFDSDs7QUFFRCxlQUFlSCxVQUFmLENBQTBCTyxFQUExQixFQUE4QkwsTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUYsVUFBVSxHQUFHLE1BQU1QLElBQUksQ0FBQ1csS0FBTCxHQUFhSyxpQkFBYixDQUErQkYsRUFBL0IsRUFBbUNMLE1BQW5DLENBQXpCO0FBRUEsU0FBT0YsVUFBUDtBQUNIOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJTLFdBQTFCLEVBQXVDO0FBQ25DLFFBQU1qQixJQUFJLENBQUNXLEtBQUwsR0FBYU8sTUFBYixDQUFvQixFQUFFLEdBQUdEO0FBQUwsR0FBcEIsQ0FBTjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZUYsT0FBZixDQUF1Qk4sTUFBdkIsRUFBK0I7QUFDM0IsUUFBTUMsSUFBSSxHQUFHLE1BQU1WLElBQUksQ0FBQ1csS0FBTCxHQUNkUSxLQURjLENBQ1IsRUFBRSxHQUFHVjtBQUFMLEdBRFEsRUFFZFcsS0FGYyxFQUFuQjtBQUdBLFNBQU9WLElBQVA7QUFDSDs7QUFFRCxTQUFTRyxZQUFULENBQXNCSCxJQUF0QixFQUE0QjtBQUN4QixRQUFNO0FBQUVJLElBQUFBLEVBQUY7QUFBTU8sSUFBQUEsSUFBTjtBQUFZQyxJQUFBQTtBQUFaLE1BQTRCWixJQUFsQztBQUNBLFNBQU87QUFBRUksSUFBQUEsRUFBRjtBQUFNTyxJQUFBQSxJQUFOO0FBQVlDLElBQUFBO0FBQVosR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSXRlbSA9IHJlcXVpcmUoXCIuL2l0ZW0ubW9kZWxcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlSXRlbSxcbiAgICBnZXRJdGVtQnlJZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGRlbGV0ZUl0ZW0sXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhpdGVtKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUJ5SWQoaWQpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgZ2V0SXRlbSh7IGlkIH0pO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gYXdhaXQgSXRlbS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0ocXVlcnlQYXJhbXMpIHtcbiAgICBhd2FpdCBJdGVtLnF1ZXJ5KCkuZGVsZXRlKHsgLi4ucXVlcnlQYXJhbXMgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT0gaGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW1zIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoaXRlbSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBpdGVtO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createItem,\n    getItemById,\n    updateItem,\n    deleteItem,\n};\n\nasync function createItem(params) {\n    const item &#x3D; await Item.query().insert(params);\n    return basicDetails(item);\n}\n\nasync function getItemById(id) {\n    const item &#x3D; await getItem({ id });\n    return item;\n}\n\nasync function updateItem(id, params) {\n    const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n\n    return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n    await Item.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function getItem(params) {\n    const item &#x3D; await Item.query()\n        .where({ ...params })\n        .first();\n    return item;\n}\n\nfunction basicDetails(item) {\n    const { id, name, description } &#x3D; item;\n    return { id, name, description };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;37&#x2F;itemservice_37723bc6ce9a1333746fd65833e30b1c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2958&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4281,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4278,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 261,
                    &quot;endOffset&quot;: 377,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItemById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 474,
                    &quot;endOffset&quot;: 607,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 609,
                    &quot;endOffset&quot;: 702,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 765,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 882,
                    &quot;endOffset&quot;: 1019,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n  static get tableName() {\n    return tableNames.item;\n  }\n\n  static get relationMappings() {\n    const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      category: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Category,\n        join: {\n          from: &#x60;${tableNames.item}.category_id&#x60;,\n          to: &#x60;${tableNames.category}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Item;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiQ2F0ZWdvcnkiLCJJdGVtIiwidGFibGVOYW1lIiwiaXRlbSIsInJlbGF0aW9uTWFwcGluZ3MiLCJjYXRlZ29yeSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsImtuZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsbUJBQUQsQ0FBbEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksSUFBTixTQUFtQkwsS0FBbkIsQ0FBeUI7QUFDckIsYUFBV00sU0FBWCxHQUF1QjtBQUNuQixXQUFPSixVQUFVLENBQUNLLElBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUosUUFBUSxHQUFHSCxPQUFPLENBQUMsK0JBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIUSxNQUFBQSxRQUFRLEVBQUU7QUFDTkMsUUFBQUEsUUFBUSxFQUFFVixLQUFLLENBQUNXLG9CQURWO0FBRU5DLFFBQUFBLFVBQVUsRUFBRVIsUUFGTjtBQUdOUyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVaLFVBQVUsQ0FBQ0ssSUFBSyxjQUR2QjtBQUVGUSxVQUFBQSxFQUFFLEVBQUcsR0FBRWIsVUFBVSxDQUFDTyxRQUFTO0FBRnpCO0FBSEE7QUFEUCxLQUFQO0FBVUg7O0FBbEJvQjs7QUFxQnpCVCxLQUFLLENBQUNnQixJQUFOLENBQVdiLEVBQVg7QUFFQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vZGJcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuLi9jYXRlZ29yeS5tb2RlbFwiKTtcblxuY2xhc3MgSXRlbSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuaXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZShcIi4uLy4uL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMuaXRlbX0uY2F0ZWdvcnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jYXRlZ29yeX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n    static get tableName() {\n        return tableNames.item;\n    }\n\n    static get relationMappings() {\n        const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            category: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Category,\n                join: {\n                    from: &#x60;${tableNames.item}.category_id&#x60;,\n                    to: &#x60;${tableNames.category}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Item;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;bd&#x2F;itemmodel_bde36e534327c1a1231475da3047e2a2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2959&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3171,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Item&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 290,
                    &quot;endOffset&quot;: 290,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 326,
                    &quot;endOffset&quot;: 375,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 386,
                    &quot;endOffset&quot;: 718,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n  static get tableName() {\n    return tableNames.category;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n\n    const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n    return {\n      menu: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Menu,\n        join: {\n          from: &#x60;${tableName.category}.menu_id&#x60;,\n          to: &#x60;${tableNames.menu}.id&#x60;\n        }\n      },\n      items: {\n        relation: Model.HasManyRelation,\n        modelClasss: Item,\n        join: {\n          from: &#x60;${tableNames.category}.id&#x60;,\n          to: &#x60;${tableNames.item}.category_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Category;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsImRiIiwic2NoZW1hIiwidGFibGVOYW1lcyIsIkNhdGVnb3J5IiwidGFibGVOYW1lIiwiY2F0ZWdvcnkiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIk1lbnUiLCJJdGVtIiwibWVudSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJpdGVtcyIsIkhhc01hbnlSZWxhdGlvbiIsIml0ZW0iLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBLE1BQU1JLFFBQU4sU0FBdUJMLEtBQXZCLENBQTZCO0FBQ3pCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUMsZUFBRCxDQUFwQjs7QUFDQSxVQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyx5QkFBRCxDQUFwQjs7QUFFQSxXQUFPO0FBQ0hXLE1BQUFBLElBQUksRUFBRTtBQUNGQyxRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ2Msb0JBRGQ7QUFFRkMsUUFBQUEsV0FBVyxFQUFFTCxJQUZYO0FBR0ZNLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRVgsU0FBUyxDQUFDQyxRQUFTLFVBRDFCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNRLElBQUs7QUFGckI7QUFISixPQURIO0FBU0hPLE1BQUFBLEtBQUssRUFBRTtBQUNITixRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ29CLGVBRGI7QUFFSEwsUUFBQUEsV0FBVyxFQUFFSixJQUZWO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWIsVUFBVSxDQUFDRyxRQUFTLEtBRDNCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEg7QUFUSixLQUFQO0FBa0JIOztBQWhDd0I7O0FBbUM3QnJCLEtBQUssQ0FBQ3NCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RiXCIpO1xuY29uc3Qgc2NoZW1hID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBDYXRlZ29yeSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUubW9kZWxcIik7XG4gICAgICAgIGNvbnN0IEl0ZW0gPSByZXF1aXJlKFwiLi4vbWVudS9pdGVtL2l0ZW0ubW9kZWxcIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IE1lbnUsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWUuY2F0ZWdvcnl9Lm1lbnVfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IEl0ZW0sXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLml0ZW19LmNhdGVnb3J5X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhdGVnb3J5O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n    static get tableName() {\n        return tableNames.category;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n        const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n        return {\n            menu: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Menu,\n                join: {\n                    from: &#x60;${tableName.category}.menu_id&#x60;,\n                    to: &#x60;${tableNames.menu}.id&#x60;,\n                },\n            },\n            items: {\n                relation: Model.HasManyRelation,\n                modelClasss: Item,\n                join: {\n                    from: &#x60;${tableNames.category}.id&#x60;,\n                    to: &#x60;${tableNames.item}.category_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Category;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0e&#x2F;categorymodel_0ef83f3e2352e4f7122c2a335cba1fb2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2960&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4654,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4651,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Category&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 287,
                    &quot;endOffset&quot;: 287,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 327,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 432,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 443,
                    &quot;endOffset&quot;: 1073,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createCategory,\n  updateCategory,\n  getAllCategory,\n  getAllCompanyCategorys,\n  getCategoryById,\n  _delete\n};\n\nasync function createCategory(params) {\n  const category &#x3D; await Category.query().insert(params);\n  return category;\n}\n\nasync function updateCategory(id, params) {\n  const category &#x3D; await getCategory({\n    id\n  }); &#x2F;&#x2F;check if category name is duplicated\n\n  if (params.name &amp;&amp; category.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCategory({\n    name: params.name,\n    menu_id: params.menu_id\n  }))) {\n    error(&#x60;Category ${params.name} already exists&#x60;);\n  }\n\n  const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, { ...params\n  });\n  return updatedcategory;\n}\n\nasync function getAllCategory() {\n  const categorys &#x3D; await Category.query();\n  return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n  const categorys &#x3D; await Category.query({ ...params\n  });\n  return categorys;\n}\n\nasync function getCategoryById(id) {\n  const category &#x3D; await getCategory({\n    id\n  });\n  return category;\n}\n\nasync function _delete(queryParams) {\n  await Category.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCategory(param) {\n  const category &#x3D; await Category.query().where({ ...param\n  }).withGraphFetched(\&quot;items\&quot;).first();\n  return category;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiQ2F0ZWdvcnkiLCJyZXF1aXJlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlQ2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImdldEFsbENhdGVnb3J5IiwiZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyIsImdldENhdGVnb3J5QnlJZCIsIl9kZWxldGUiLCJwYXJhbXMiLCJjYXRlZ29yeSIsInF1ZXJ5IiwiaW5zZXJ0IiwiaWQiLCJnZXRDYXRlZ29yeSIsIm5hbWUiLCJtZW51X2lkIiwidXBkYXRlZGNhdGVnb3J5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJjYXRlZ29yeXMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2hlcmUiLCJ3aXRoR3JhcGhGZXRjaGVkIiwiZmlyc3QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXhCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQXJCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsY0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLGNBSGE7QUFJYkMsRUFBQUEsc0JBSmE7QUFLYkMsRUFBQUEsZUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLGNBQWYsQ0FBOEJNLE1BQTlCLEVBQXNDO0FBQ2xDLFFBQU1DLFFBQVEsR0FBRyxNQUFNWixRQUFRLENBQUNhLEtBQVQsR0FBaUJDLE1BQWpCLENBQXdCSCxNQUF4QixDQUF2QjtBQUNBLFNBQU9DLFFBQVA7QUFDSDs7QUFFRCxlQUFlTixjQUFmLENBQThCUyxFQUE5QixFQUFrQ0osTUFBbEMsRUFBMEM7QUFDdEMsUUFBTUMsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEMsQ0FEc0MsQ0FFdEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLFFBQVEsQ0FBQ0ssSUFBVCxLQUFrQk4sTUFBTSxDQUFDTSxJQUR6QixLQUVDLE1BQU1ELFdBQVcsQ0FBQztBQUNmQyxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ00sSUFERTtBQUVmQyxJQUFBQSxPQUFPLEVBQUVQLE1BQU0sQ0FBQ087QUFGRCxHQUFELENBRmxCLENBREosRUFPRTtBQUNFaEIsSUFBQUEsS0FBSyxDQUFFLFlBQVdTLE1BQU0sQ0FBQ00sSUFBSyxpQkFBekIsQ0FBTDtBQUNIOztBQUNELFFBQU1FLGVBQWUsR0FBRyxNQUFNbkIsUUFBUSxDQUFDYSxLQUFULEdBQWlCTyxpQkFBakIsQ0FBbUNMLEVBQW5DLEVBQXVDLEVBQ2pFLEdBQUdKO0FBRDhELEdBQXZDLENBQTlCO0FBSUEsU0FBT1EsZUFBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsR0FBZ0M7QUFDNUIsUUFBTWMsU0FBUyxHQUFHLE1BQU1yQixRQUFRLENBQUNhLEtBQVQsRUFBeEI7QUFDQSxTQUFPUSxTQUFQO0FBQ0g7O0FBRUQsZUFBZWIsc0JBQWYsQ0FBc0NHLE1BQXRDLEVBQThDO0FBQzFDLFFBQU1VLFNBQVMsR0FBRyxNQUFNckIsUUFBUSxDQUFDYSxLQUFULENBQWUsRUFBRSxHQUFHRjtBQUFMLEdBQWYsQ0FBeEI7QUFDQSxTQUFPVSxTQUFQO0FBQ0g7O0FBRUQsZUFBZVosZUFBZixDQUErQk0sRUFBL0IsRUFBbUM7QUFDL0IsUUFBTUgsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEM7QUFDQSxTQUFPSCxRQUFQO0FBQ0g7O0FBRUQsZUFBZUYsT0FBZixDQUF1QlksV0FBdkIsRUFBb0M7QUFDaEMsUUFBTXRCLFFBQVEsQ0FBQ2EsS0FBVCxHQUFpQlUsTUFBakIsQ0FBd0IsRUFBRSxHQUFHRDtBQUFMLEdBQXhCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZU4sV0FBZixDQUEyQlEsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTVosUUFBUSxHQUFHLE1BQU1aLFFBQVEsQ0FBQ2EsS0FBVCxHQUNsQlksS0FEa0IsQ0FDWixFQUFFLEdBQUdEO0FBQUwsR0FEWSxFQUVsQkUsZ0JBRmtCLENBRUQsT0FGQyxFQUdsQkMsS0FIa0IsRUFBdkI7QUFLQSxTQUFPZixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNhdGVnb3J5LFxuICAgIHVwZGF0ZUNhdGVnb3J5LFxuICAgIGdldEFsbENhdGVnb3J5LFxuICAgIGdldEFsbENvbXBhbnlDYXRlZ29yeXMsXG4gICAgZ2V0Q2F0ZWdvcnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBnZXRDYXRlZ29yeSh7IGlkIH0pO1xuICAgIC8vY2hlY2sgaWYgY2F0ZWdvcnkgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjYXRlZ29yeS5uYW1lICE9PSBwYXJhbXMubmFtZSAmJlxuICAgICAgICAoYXdhaXQgZ2V0Q2F0ZWdvcnkoe1xuICAgICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgICBtZW51X2lkOiBwYXJhbXMubWVudV9pZCxcbiAgICAgICAgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBDYXRlZ29yeSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkY2F0ZWdvcnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5KCkge1xuICAgIGNvbnN0IGNhdGVnb3J5cyA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNhdGVnb3J5cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyhwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeXMgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSh7IC4uLnBhcmFtcyB9KTtcbiAgICByZXR1cm4gY2F0ZWdvcnlzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGdldENhdGVnb3J5KHsgaWQgfSk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKHF1ZXJ5UGFyYW1zKSB7XG4gICAgYXdhaXQgQ2F0ZWdvcnkucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IGNhdGVnb3J5LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhdGVnb3J5KHBhcmFtKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIilcbiAgICAgICAgLmZpcnN0KCk7XG5cbiAgICByZXR1cm4gY2F0ZWdvcnk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createCategory,\n    updateCategory,\n    getAllCategory,\n    getAllCompanyCategorys,\n    getCategoryById,\n    _delete,\n};\n\nasync function createCategory(params) {\n    const category &#x3D; await Category.query().insert(params);\n    return category;\n}\n\nasync function updateCategory(id, params) {\n    const category &#x3D; await getCategory({ id });\n    &#x2F;&#x2F;check if category name is duplicated\n    if (\n        params.name &amp;&amp;\n        category.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCategory({\n            name: params.name,\n            menu_id: params.menu_id,\n        }))\n    ) {\n        error(&#x60;Category ${params.name} already exists&#x60;);\n    }\n    const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedcategory;\n}\n\nasync function getAllCategory() {\n    const categorys &#x3D; await Category.query();\n    return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n    const categorys &#x3D; await Category.query({ ...params });\n    return categorys;\n}\n\nasync function getCategoryById(id) {\n    const category &#x3D; await getCategory({ id });\n    return category;\n}\n\nasync function _delete(queryParams) {\n    await Category.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCategory(param) {\n    const category &#x3D; await Category.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;items\&quot;)\n        .first();\n\n    return category;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;af&#x2F;categoryservice_af4a088c54a063175cdbab3d375f5ef2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2961&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6647,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6644,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 319,
                    &quot;endOffset&quot;: 437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 439,
                    &quot;endOffset&quot;: 884,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 886,
                    &quot;endOffset&quot;: 985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 987,
                    &quot;endOffset&quot;: 1115,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1117,
                    &quot;endOffset&quot;: 1226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1228,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1462,
                    &quot;endOffset&quot;: 1617,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createMenu,\n  updateMenu,\n  getAllMenu,\n  getAllCompanyMenus,\n  getMenuById,\n  _delete\n};\n\nasync function createMenu(params) {\n  const menu &#x3D; await Menu.query().insert(params);\n  return menu;\n}\n\nasync function updateMenu(id, params) {\n  const menu &#x3D; await getMenu({\n    id\n  }); &#x2F;&#x2F;check if menu name is duplicated\n\n  if (params.name &amp;&amp; menu.name !&#x3D;&#x3D; params.name &amp;&amp; (await getMenu({\n    name: params.name,\n    company_id: params.company_id\n  }))) {\n    error(&#x60;Menu ${params.name} already exists&#x60;);\n  }\n\n  const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, { ...params\n  });\n  return updatedmenu;\n}\n\nasync function getAllMenu() {\n  const menus &#x3D; await Menu.query();\n  return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n  const menus &#x3D; await Menu.query().where({ ...params\n  });\n  return menus;\n}\n\nasync function getMenuById(id) {\n  const menu &#x3D; await getMenu({\n    id\n  });\n  return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n  await Menu.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getMenu(param) {\n  const menu &#x3D; await Menu.query().where({ ...param\n  }).withGraphFetched(\&quot;categories\&quot;).first();\n  return menu;\n}\n\nfunction basicDetails(menu) {\n  const {\n    id,\n    name,\n    company_id,\n    categories\n  } &#x3D; menu;\n  return {\n    id,\n    name,\n    company_id,\n    categories\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJNZW51IiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU1lbnUiLCJ1cGRhdGVNZW51IiwiZ2V0QWxsTWVudSIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwiX2RlbGV0ZSIsInBhcmFtcyIsIm1lbnUiLCJxdWVyeSIsImluc2VydCIsImlkIiwiZ2V0TWVudSIsIm5hbWUiLCJjb21wYW55X2lkIiwidXBkYXRlZG1lbnUiLCJwYXRjaEFuZEZldGNoQnlJZCIsIm1lbnVzIiwid2hlcmUiLCJiYXNpY0RldGFpbHMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2l0aEdyYXBoRmV0Y2hlZCIsImZpcnN0IiwiY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFVBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQSxrQkFKYTtBQUtiQyxFQUFBQSxXQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsVUFBZixDQUEwQk0sTUFBMUIsRUFBa0M7QUFDOUIsUUFBTUMsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUFhQyxNQUFiLENBQW9CSCxNQUFwQixDQUFuQjtBQUNBLFNBQU9DLElBQVA7QUFDSDs7QUFFRCxlQUFlTixVQUFmLENBQTBCUyxFQUExQixFQUE4QkosTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLElBQUksQ0FBQ0ssSUFBTCxLQUFjTixNQUFNLENBQUNNLElBRHJCLEtBRUMsTUFBTUQsT0FBTyxDQUFDO0FBQ1hDLElBQUFBLElBQUksRUFBRU4sTUFBTSxDQUFDTSxJQURGO0FBRVhDLElBQUFBLFVBQVUsRUFBRVAsTUFBTSxDQUFDTztBQUZSLEdBQUQsQ0FGZCxDQURKLEVBT0U7QUFDRWhCLElBQUFBLEtBQUssQ0FBRSxRQUFPUyxNQUFNLENBQUNNLElBQUssaUJBQXJCLENBQUw7QUFDSDs7QUFDRCxRQUFNRSxXQUFXLEdBQUcsTUFBTW5CLElBQUksQ0FBQ2EsS0FBTCxHQUFhTyxpQkFBYixDQUErQkwsRUFBL0IsRUFBbUMsRUFDekQsR0FBR0o7QUFEc0QsR0FBbkMsQ0FBMUI7QUFJQSxTQUFPUSxXQUFQO0FBQ0g7O0FBRUQsZUFBZVosVUFBZixHQUE0QjtBQUN4QixRQUFNYyxLQUFLLEdBQUcsTUFBTXJCLElBQUksQ0FBQ2EsS0FBTCxFQUFwQjtBQUNBLFNBQU9RLEtBQVA7QUFDSDs7QUFFRCxlQUFlYixrQkFBZixDQUFrQ0csTUFBbEMsRUFBMEM7QUFDdEMsUUFBTVUsS0FBSyxHQUFHLE1BQU1yQixJQUFJLENBQUNhLEtBQUwsR0FBYVMsS0FBYixDQUFtQixFQUFFLEdBQUdYO0FBQUwsR0FBbkIsQ0FBcEI7QUFDQSxTQUFPVSxLQUFQO0FBQ0g7O0FBRUQsZUFBZVosV0FBZixDQUEyQk0sRUFBM0IsRUFBK0I7QUFDM0IsUUFBTUgsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUI7QUFDQSxTQUFPUSxZQUFZLENBQUNYLElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlRixPQUFmLENBQXVCYyxXQUF2QixFQUFvQztBQUNoQyxRQUFNeEIsSUFBSSxDQUFDYSxLQUFMLEdBQWFZLE1BQWIsQ0FBb0IsRUFBRSxHQUFHRDtBQUFMLEdBQXBCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZVIsT0FBZixDQUF1QlUsS0FBdkIsRUFBOEI7QUFDMUIsUUFBTWQsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUNkUyxLQURjLENBQ1IsRUFBRSxHQUFHSTtBQUFMLEdBRFEsRUFFZEMsZ0JBRmMsQ0FFRyxZQUZILEVBR2RDLEtBSGMsRUFBbkI7QUFJQSxTQUFPaEIsSUFBUDtBQUNIOztBQUVELFNBQVNXLFlBQVQsQ0FBc0JYLElBQXRCLEVBQTRCO0FBQ3hCLFFBQU07QUFBRUcsSUFBQUEsRUFBRjtBQUFNRSxJQUFBQSxJQUFOO0FBQVlDLElBQUFBLFVBQVo7QUFBd0JXLElBQUFBO0FBQXhCLE1BQXVDakIsSUFBN0M7QUFFQSxTQUFPO0FBQUVHLElBQUFBLEVBQUY7QUFBTUUsSUFBQUEsSUFBTjtBQUFZQyxJQUFBQSxVQUFaO0FBQXdCVyxJQUFBQTtBQUF4QixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUvbWVudS5tb2RlbFwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVNZW51LFxuICAgIHVwZGF0ZU1lbnUsXG4gICAgZ2V0QWxsTWVudSxcbiAgICBnZXRBbGxDb21wYW55TWVudXMsXG4gICAgZ2V0TWVudUJ5SWQsXG4gICAgX2RlbGV0ZSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lbnUocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gbWVudTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IGdldE1lbnUoeyBpZCB9KTtcbiAgICAvL2NoZWNrIGlmIG1lbnUgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBtZW51Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRNZW51KHtcbiAgICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgICAgY29tcGFueV9pZDogcGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgIH0pKVxuICAgICkge1xuICAgICAgICBlcnJvcihgTWVudSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZG1lbnU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbE1lbnUoKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW55TWVudXMocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCkud2hlcmUoeyAuLi5wYXJhbXMgfSk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW51QnlJZChpZCkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBnZXRNZW51KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhtZW51KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGF3YWl0IE1lbnUucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IG1lbnUucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcblxuLy8gfVxuXG4vLyA9PT09PT09PT09PSBoZWxwZXJzPT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVudShwYXJhbSkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBNZW51LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW0gfSlcbiAgICAgICAgLndpdGhHcmFwaEZldGNoZWQoXCJjYXRlZ29yaWVzXCIpXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBtZW51O1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMobWVudSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGNvbXBhbnlfaWQsIGNhdGVnb3JpZXMgfSA9IG1lbnU7XG5cbiAgICByZXR1cm4geyBpZCwgbmFtZSwgY29tcGFueV9pZCwgY2F0ZWdvcmllcyB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createMenu,\n    updateMenu,\n    getAllMenu,\n    getAllCompanyMenus,\n    getMenuById,\n    _delete,\n};\n\nasync function createMenu(params) {\n    const menu &#x3D; await Menu.query().insert(params);\n    return menu;\n}\n\nasync function updateMenu(id, params) {\n    const menu &#x3D; await getMenu({ id });\n    &#x2F;&#x2F;check if menu name is duplicated\n    if (\n        params.name &amp;&amp;\n        menu.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getMenu({\n            name: params.name,\n            company_id: params.company_id,\n        }))\n    ) {\n        error(&#x60;Menu ${params.name} already exists&#x60;);\n    }\n    const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedmenu;\n}\n\nasync function getAllMenu() {\n    const menus &#x3D; await Menu.query();\n    return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n    const menus &#x3D; await Menu.query().where({ ...params });\n    return menus;\n}\n\nasync function getMenuById(id) {\n    const menu &#x3D; await getMenu({ id });\n    return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n    await Menu.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getMenu(param) {\n    const menu &#x3D; await Menu.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;categories\&quot;)\n        .first();\n    return menu;\n}\n\nfunction basicDetails(menu) {\n    const { id, name, company_id, categories } &#x3D; menu;\n\n    return { id, name, company_id, categories };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f7&#x2F;menuservice_f7dbb9eba4d4e93803a88e42e2790161.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2962&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7024,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7021,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 294,
                    &quot;endOffset&quot;: 396,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 398,
                    &quot;endOffset&quot;: 809,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 811,
                    &quot;endOffset&quot;: 894,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 896,
                    &quot;endOffset&quot;: 1016,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1018,
                    &quot;endOffset&quot;: 1125,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1127,
                    &quot;endOffset&quot;: 1217,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1353,
                    &quot;endOffset&quot;: 1497,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1499,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n  static get tableName() {\n    return tableNames.menu;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Company,\n        join: {\n          from: &#x60;${tableNames.menu}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      },\n      categories: {\n        relation: Model.HasManyRelation,\n        modelClasss: Category,\n        join: {\n          from: &#x60;${tableNames.menu}.id&#x60;,\n          to: &#x60;${tableNames.category}.menu_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Menu;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwiZGIiLCJzY2hlbWEiLCJ0YWJsZU5hbWVzIiwiTWVudSIsInRhYmxlTmFtZSIsIm1lbnUiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIkNvbXBhbnkiLCJDYXRlZ29yeSIsImNvbXBhbnkiLCJyZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwibW9kZWxDbGFzc3MiLCJqb2luIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsIkhhc01hbnlSZWxhdGlvbiIsImNhdGVnb3J5Iiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUVBLE1BQU1JLElBQU4sU0FBbUJMLEtBQW5CLENBQXlCO0FBQ3JCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxJQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHVCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVUsUUFBUSxHQUFHVixPQUFPLENBQUMsMkJBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIVyxNQUFBQSxPQUFPLEVBQUU7QUFDTEMsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNjLG9CQURYO0FBRUxDLFFBQUFBLFdBQVcsRUFBRUwsT0FGUjtBQUdMTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxhQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDUSxPQUFRO0FBRnhCO0FBSEQsT0FETjtBQVNITyxNQUFBQSxVQUFVLEVBQUU7QUFDUk4sUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNvQixlQURSO0FBRVJMLFFBQUFBLFdBQVcsRUFBRUosUUFGTDtBQUdSSyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxLQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDaUIsUUFBUztBQUZ6QjtBQUhFO0FBVFQsS0FBUDtBQWtCSDs7QUFoQ29COztBQW1DekJyQixLQUFLLENBQUNzQixJQUFOLENBQVdwQixFQUFYO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL21lbnUuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBNZW51IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5tZW51O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIC8vIEltcG9ydGluZyBtb2RlbHMgaGVyZSBpcyBhIG9uZSB3YXkgdG8gYXZvaWQgcmVxdWlyZSBsb29wcy5cbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3NzOiBDb21wYW55LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMuY29tcGFueX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2F0ZWdvcmllczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5tZW51X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n    static get tableName() {\n        return tableNames.menu;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Company,\n                join: {\n                    from: &#x60;${tableNames.menu}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n            categories: {\n                relation: Model.HasManyRelation,\n                modelClasss: Category,\n                join: {\n                    from: &#x60;${tableNames.menu}.id&#x60;,\n                    to: &#x60;${tableNames.category}.menu_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Menu;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e0&#x2F;menumodel_e012a4d71206586de4438d54cc8c48bf.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2963&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4674,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4671,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Menu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 277,
                    &quot;endOffset&quot;: 277,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 313,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 414,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 425,
                    &quot;endOffset&quot;: 1081,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createOrderSchema,\n  updateOrderSchema,\n  companyOrderSchema\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem); &#x2F;&#x2F; update an order item customer aka update cart item\n\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\&quot;&#x2F;:id\&quot;, updateOrderSchema, Auth([Role.staff, Role.owner]), updateOrder);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\&quot;&#x2F;company-orders\&quot;, companyOrderSchema, Auth([Role.owner, Role.staff]), getCompanyOrders);\n\nfunction createOrder(req, res, next) {\n  const payload &#x3D; {\n    customer_id: req.user.id,\n    company_id: req.params.company_id,\n    item: req.body\n  };\n  orderService.createOrder(payload).then(orderItem &#x3D;&gt; res.json({\n    message: &#x60;${orderItem.item} has been added to the cart&#x60;\n  })).catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n  orderService.updateOrder(req.params.id, req.user, req.body).then(order &#x3D;&gt; res.json(order)).catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n  orderService.getOrderById(id).then(order &#x3D;&gt; order ? res.json(order) : res.sendStatus(404)).catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n  orderService.getOwnOrders(req.user.id).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n  &#x2F;&#x2F; TODO to use query params\n  params.company_id &#x3D; req.params.company_id;\n  orderService.getCompanyOrders(params).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyU2NoZW1hIiwidXBkYXRlT3JkZXJTY2hlbWEiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJvcmRlclNlcnZpY2UiLCJPcmRlckl0ZW0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJjdXN0b21lciIsImNyZWF0ZU9yZGVyIiwicGF0Y2giLCJzdGFmZiIsIm93bmVyIiwidXBkYXRlT3JkZXIiLCJnZXQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicmVxIiwicmVzIiwibmV4dCIsInBheWxvYWQiLCJjdXN0b21lcl9pZCIsInVzZXIiLCJpZCIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJpdGVtIiwiYm9keSIsInRoZW4iLCJvcmRlckl0ZW0iLCJqc29uIiwibWVzc2FnZSIsImNhdGNoIiwib3JkZXIiLCJzZW5kU3RhdHVzIiwib3JkZXJzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLGlCQURFO0FBRUZDLEVBQUFBLGlCQUZFO0FBR0ZDLEVBQUFBO0FBSEUsSUFJRkgsT0FBTyxDQUFDLG9CQUFELENBSlg7O0FBS0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyw0QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUFwQjs7QUFDQSxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQSxNQUFNUSxTQUFTLEdBQUdSLE9BQU8sQ0FBQyw4QkFBRCxDQUF6Qjs7QUFFQSxNQUFNUyxN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QUlIOztBQUVELFNBQVNILGdCQUFULENBQTBCQyxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDO0FBRUFNLEVBQUFBLE1BQU0sQ0FBQ0QsVUFBUCxHQUFvQlAsR0FBRyxDQUFDUSxNQUFKLENBQVdELFVBQS9CO0FBQ0F4QixFQUFBQSxZQUFZLENBQ1BnQixnQkFETCxDQUNzQlMsTUFEdEIsRUFFS0csSUFGTCxDQUVXTyxNQUFELElBQWFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixDQUFoQixHQUFvQkQsTUFBcEIsR0FBNkJqQixHQUFHLENBQUNnQixVQUFKLENBQWUsR0FBZixDQUZwRCxFQUdLRixLQUhMLENBR1diLElBSFg7QUFJSDs7QUFDRGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge1xuICAgIGNyZWF0ZU9yZGVyU2NoZW1hLFxuICAgIHVwZGF0ZU9yZGVyU2NoZW1hLFxuICAgIGNvbXBhbnlPcmRlclNjaGVtYSxcbn0gPSByZXF1aXJlKFwiLi9vcmRlci52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi9vcmRlci5zZXJ2aWNlXCIpO1xuXG5jb25zdCBPcmRlckl0ZW0gPSByZXF1aXJlKFwiLi9vcmRlckl0ZW0vb3JkZXJJdGVtLnJvdXRlc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci51c2UoXCIvOm9yZGVyX2lkL29yZGVySXRlbVwiLCBPcmRlckl0ZW0pO1xuXG4vLyB1cGRhdGUgYW4gb3JkZXIgaXRlbSBjdXN0b21lciBha2EgdXBkYXRlIGNhcnQgaXRlbVxucm91dGVyLnBvc3QoXCIvXCIsIGNyZWF0ZU9yZGVyU2NoZW1hLCBBdXRoKFJvbGUuY3VzdG9tZXIpLCBjcmVhdGVPcmRlcik7XG5yb3V0ZXIucGF0Y2goXG4gICAgXCIvOmlkXCIsXG4gICAgdXBkYXRlT3JkZXJTY2hlbWEsXG4gICAgQXV0aChbUm9sZS5zdGFmZiwgUm9sZS5vd25lcl0pLFxuICAgIHVwZGF0ZU9yZGVyXG4pO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRPcmRlckJ5SWQpO1xucm91dGVyLmdldChcIi86aWQvbXktb3JkZXJzXCIsIEF1dGgoUm9sZS5jdXN0b21lciksIGdldE93bk9yZGVycyk7XG5yb3V0ZXIuZ2V0KFxuICAgIFwiL2NvbXBhbnktb3JkZXJzXCIsXG4gICAgY29tcGFueU9yZGVyU2NoZW1hLFxuICAgIEF1dGgoW1JvbGUub3duZXIsIFJvbGUuc3RhZmZdKSxcbiAgICBnZXRDb21wYW55T3JkZXJzXG4pO1xuXG5mdW5jdGlvbiBjcmVhdGVPcmRlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGN1c3RvbWVyX2lkOiByZXEudXNlci5pZCxcbiAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICBpdGVtOiByZXEuYm9keSxcbiAgICB9O1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuY3JlYXRlT3JkZXIocGF5bG9hZClcbiAgICAgICAgLnRoZW4oKG9yZGVySXRlbSkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtvcmRlckl0ZW0uaXRlbX0gaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGNhcnRgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgb3JkZXJTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVPcmRlcihyZXEucGFyYW1zLmlkLCByZXEudXNlciwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChvcmRlcikgPT4gcmVzLmpzb24ob3JkZXIpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE9yZGVyQnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3JkZXJCeUlkKGlkKVxuICAgICAgICAudGhlbigob3JkZXIpID0+IChvcmRlciA&#x2F;IHJlcy5qc29uKG9yZGVyKSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE93bk9yZGVycyhyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3duT3JkZXJzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYW55T3JkZXJzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gVE9ETyB0byB1c2UgcXVlcnkgcGFyYW1zXG5cbiAgICBwYXJhbXMuY29tcGFueV9pZCA9IHJlcS5wYXJhbXMuY29tcGFueV9pZDtcbiAgICBvcmRlclNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlPcmRlcnMocGFyYW1zKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst {\n    createOrderSchema,\n    updateOrderSchema,\n    companyOrderSchema,\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem);\n\n&#x2F;&#x2F; update an order item customer aka update cart item\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\n    \&quot;&#x2F;:id\&quot;,\n    updateOrderSchema,\n    Auth([Role.staff, Role.owner]),\n    updateOrder\n);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\n    \&quot;&#x2F;company-orders\&quot;,\n    companyOrderSchema,\n    Auth([Role.owner, Role.staff]),\n    getCompanyOrders\n);\n\nfunction createOrder(req, res, next) {\n    const payload &#x3D; {\n        customer_id: req.user.id,\n        company_id: req.params.company_id,\n        item: req.body,\n    };\n    orderService\n        .createOrder(payload)\n        .then((orderItem) &#x3D;&gt;\n            res.json({\n                message: &#x60;${orderItem.item} has been added to the cart&#x60;,\n            })\n        )\n        .catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n    orderService\n        .updateOrder(req.params.id, req.user, req.body)\n        .then((order) &#x3D;&gt; res.json(order))\n        .catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n    orderService\n        .getOrderById(id)\n        .then((order) &#x3D;&gt; (order ? res.json(order) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n    orderService\n        .getOwnOrders(req.user.id)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n    &#x2F;&#x2F; TODO to use query params\n\n    params.company_id &#x3D; req.params.company_id;\n    orderService\n        .getCompanyOrders(params)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8f&#x2F;orderroutes_8f4620babd5b20aee9e160dc0d9cf20a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2964&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 9222,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 9219,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 978,
                    &quot;endOffset&quot;: 1275,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1277,
                    &quot;endOffset&quot;: 1423,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1425,
                    &quot;endOffset&quot;: 1572,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1574,
                    &quot;endOffset&quot;: 1734,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1736,
                    &quot;endOffset&quot;: 1974,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    item: Joi.number().required(),\n    quantity: Joi.number()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    customer_id: Joi.number().empty(),\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVPcmRlclNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJpdGVtIiwibnVtYmVyIiwicmVxdWlyZWQiLCJxdWFudGl0eSIsInVwZGF0ZU9yZGVyU2NoZW1hIiwib3JkZXJfc3RhdHVzIiwic3RyaW5nIiwiZW1wdHkiLCJwdXJjaGFzZV9zdGF0dXMiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJjdXN0b21lcl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxpQkFBUixHQUE0QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM1QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSjtBQUZZLEdBQVgsQ0FBZjtBQUlBVCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQU5EOztBQVFBTCxPQUFPLENBQUNXLGlCQUFSLEdBQTRCLENBQUNULEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJNLElBQUFBLFlBQVksRUFBRWYsR0FBRyxDQUFDZ0IsTUFBSixHQUFhQyxLQUFiLENBQW1CLEVBQW5CLENBRFE7QUFFdEJDLElBQUFBLGVBQWUsRUFBRWxCLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQjtBQUZLLEdBQVgsQ0FBZjtBQUtBZixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVBEOztBQVNBTCxPQUFPLENBQUNnQixrQkFBUixHQUE2QixDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM3QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCVyxJQUFBQSxXQUFXLEVBQUVwQixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixFQURTO0FBRXRCRixJQUFBQSxZQUFZLEVBQUVmLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQixDQUZRO0FBR3RCQyxJQUFBQSxlQUFlLEVBQUVsQixHQUFHLENBQUNnQixNQUFKLEdBQWFDLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFYLENBQWY7QUFNQWYsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FSRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBpdGVtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy5jb21wYW55T3JkZXJTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgY3VzdG9tZXJfaWQ6IEpvaS5udW1iZXIoKS5lbXB0eSgpLFxuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        item: Joi.number().required(),\n        quantity: Joi.number(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        customer_id: Joi.number().empty(),\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e1&#x2F;ordervalidators_e12e9bab16ee6f22191cb1085e8fa580.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2965&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3959,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3956,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 221,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 411,
                    &quot;endOffset&quot;: 594,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 626,
                    &quot;endOffset&quot;: 848,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n  createOrder,\n  updateOrderItem,\n  updateOrder,\n  getOrderById,\n  getOwnOrders,\n  getCompanyOrders\n};\n\nasync function createOrder(params) {\n  const order &#x3D; await get_or_create(params.customer_id, params.company_id); &#x2F;&#x2F; insert the item to the order item table\n\n  const orderItem &#x3D; order.$relatedQuery(\&quot;items\&quot;).insert({\n    item: params.item.id,\n    order: order.id\n  });\n  return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n  const order &#x3D; await getOrder(id); &#x2F;&#x2F; check item quantity\n\n  if (params.item.quantity &lt;&#x3D; 0) {\n    &#x2F;&#x2F; remove from cart\n    await order.$relatedQuery(\&quot;items\&quot;).delete().where({\n      item: params.item.id\n    });\n    return;\n  }\n\n  const orderItem &#x3D; await order.$relatedQuery(\&quot;items\&quot;).patch({\n    quantity: params.item.quantity\n  }).where({\n    item: params.item.id\n  }).returning(\&quot;*\&quot;);\n  return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n  let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n  if (order.company.id !&#x3D;&#x3D; user.company.id) {\n    const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n    throw error;\n  } &#x2F;&#x2F; aka update order table\n\n\n  order &#x3D; await Order.query().patchAndFetchById(id, params);\n  return order;\n}\n\nasync function getOrderById(id) {\n  const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n  return order;\n}\n\nasync function getOwnOrders(id) {\n  const orders &#x3D; await Order.query().where({\n    customer_id: id\n  }).orderBy(\&quot;created_at\&quot;);\n  return orders;\n}\n\nasync function getCompanyOrders(params) {\n  const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n  return orders;\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function get_or_create(id, company_id) {\n  &#x2F;&#x2F; checks for the existence of a customer order\n  &#x2F;&#x2F; if it exists add the new items on it\n  &#x2F;&#x2F; if it does not exist it creates one\n  let order &#x3D; await Order.query().where({\n    customer_id: id,\n    order_status: \&quot;New\&quot;\n  }).first();\n\n  if (!order) {\n    &#x2F;&#x2F; create one\n    order &#x3D; await Order.query().insert({\n      customer_id: id,\n      company_id,\n      order_status: \&quot;New\&quot;,\n      purchase_status: \&quot;unpaid\&quot;\n    });\n  }\n\n  return order;\n}\n\nasync function getOrder(id) {\n  const order &#x3D; await Order.query().findById(id);\n  return order;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU9yZGVyIiwidXBkYXRlT3JkZXJJdGVtIiwidXBkYXRlT3JkZXIiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicGFyYW1zIiwib3JkZXIiLCJnZXRfb3JfY3JlYXRlIiwiY3VzdG9tZXJfaWQiLCJjb21wYW55X2lkIiwib3JkZXJJdGVtIiwiJHJlbGF0ZWRRdWVyeSIsImluc2VydCIsIml0ZW0iLCJpZCIsImdldE9yZGVyIiwicXVhbnRpdHkiLCJkZWxldGUiLCJ3aGVyZSIsInBhdGNoIiwicmV0dXJuaW5nIiwidXNlciIsIndpdGhHcmFwaEZldGNoZWQiLCJjb21wYW55IiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJvcmRlcnMiLCJvcmRlckJ5Iiwib3JkZXJfc3RhdHVzIiwiZmlyc3QiLCJwdXJjaGFzZV9zdGF0dXMiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLFdBRGE7QUFFYkMsRUFBQUEsZUFGYTtBQUdiQyxFQUFBQSxXQUhhO0FBSWJDLEVBQUFBLFlBSmE7QUFLYkMsRUFBQUEsWUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLFdBQWYsQ0FBMkJNLE1BQTNCLEVBQW1DO0FBQy9CLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxhQUFhLENBQUNGLE1BQU0sQ0FBQ0csV0FBUixFQUFxQkgsTUFBTSxDQUFDSSxVQUE1QixDQUFqQyxDQUQrQixDQUcvQjs7QUFDQSxRQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FDbEJLLGFBRGEsQ0FDQyxPQURELEVBRWJDLE1BRmEsQ0FFTjtBQUFF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QUFJLENBQUN6QixLQUFMLEVBQVk7QUFDUjtBQUNBQSxJQUFBQSxLQUFLLEdBQUcsTUFBTVgsS0FBSyxDQUFDK0IsS0FBTixHQUFjZCxNQUFkLENBQXFCO0FBQy9CSixNQUFBQSxXQUFXLEVBQUVNLEVBRGtCO0FBRS9CTCxNQUFBQSxVQUYrQjtBQUcvQnFCLE1BQUFBLFlBQVksRUFBRSxLQUhpQjtBQUkvQkUsTUFBQUEsZUFBZSxFQUFFO0FBSmMsS0FBckIsQ0FBZDtBQU1IOztBQUVELFNBQU8xQixLQUFQO0FBQ0g7O0FBRUQsZUFBZVMsUUFBZixDQUF3QkQsRUFBeEIsRUFBNEI7QUFDeEIsUUFBTVIsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY08sUUFBZCxDQUF1Qm5CLEVBQXZCLENBQXBCO0FBQ0EsU0FBT1IsS0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT3JkZXIgPSByZXF1aXJlKFwiLi9vcmRlci5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlT3JkZXIsXG4gICAgdXBkYXRlT3JkZXJJdGVtLFxuICAgIHVwZGF0ZU9yZGVyLFxuICAgIGdldE9yZGVyQnlJZCxcbiAgICBnZXRPd25PcmRlcnMsXG4gICAgZ2V0Q29tcGFueU9yZGVycyxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0X29yX2NyZWF0ZShwYXJhbXMuY3VzdG9tZXJfaWQsIHBhcmFtcy5jb21wYW55X2lkKTtcblxuICAgIC8vIGluc2VydCB0aGUgaXRlbSB0byB0aGUgb3JkZXIgaXRlbSB0YWJsZVxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLmluc2VydCh7IGl0ZW06IHBhcmFtcy5pdGVtLmlkLCBvcmRlcjogb3JkZXIuaWQgfSk7XG5cbiAgICByZXR1cm4gb3JkZXJJdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckl0ZW0oaWQsIHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0T3JkZXIoaWQpO1xuXG4gICAgLy8gY2hlY2sgaXRlbSBxdWFudGl0eVxuICAgIGlmIChwYXJhbXMuaXRlbS5xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGNhcnRcbiAgICAgICAgYXdhaXQgb3JkZXJcbiAgICAgICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLndoZXJlKHsgaXRlbTogcGFyYW1zLml0ZW0uaWQgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVySXRlbSA9IGF3YWl0IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLnBhdGNoKHtcbiAgICAgICAgICAgIHF1YW50aXR5OiBwYXJhbXMuaXRlbS5xdWFudGl0eSxcbiAgICAgICAgfSlcbiAgICAgICAgLndoZXJlKHtcbiAgICAgICAgICAgIGl0ZW06IHBhcmFtcy5pdGVtLmlkLFxuICAgICAgICB9KVxuICAgICAgICAucmV0dXJuaW5nKFwiKlwiKTtcblxuICAgIHJldHVybiBvcmRlckl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkLCB1c2VyLCBwYXJhbXMpIHtcbiAgICBsZXQgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCkud2l0aEdyYXBoRmV0Y2hlZChcImNvbXBhbnlcIik7XG5cbiAgICBpZiAob3JkZXIuY29tcGFueS5pZCAhPT0gdXNlci5jb21wYW55LmlkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVW5hdGhvcml6ZWRcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBha2EgdXBkYXRlIG9yZGVyIHRhYmxlXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGdldE9yZGVyKGlkKS53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPd25PcmRlcnMoaWQpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IGN1c3RvbWVyX2lkOiBpZCB9KVxuICAgICAgICAub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFueU9yZGVycyhwYXJhbXMpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpLndoZXJlKHBhcmFtcykub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09aGVscGVycz09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRfb3JfY3JlYXRlKGlkLCBjb21wYW55X2lkKSB7XG4gICAgLy8gY2hlY2tzIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgY3VzdG9tZXIgb3JkZXJcbiAgICAvLyBpZiBpdCBleGlzdHMgYWRkIHRoZSBuZXcgaXRlbXMgb24gaXRcbiAgICAvLyBpZiBpdCBkb2VzIG5vdCBleGlzdCBpdCBjcmVhdGVzIG9uZVxuXG4gICAgbGV0IG9yZGVyID0gYXdhaXQgT3JkZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGlkLFxuICAgICAgICAgICAgb3JkZXJfc3RhdHVzOiBcIk5ld1wiLFxuICAgICAgICB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9uZVxuICAgICAgICBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuaW5zZXJ0KHtcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgICAgIGNvbXBhbnlfaWQsXG4gICAgICAgICAgICBvcmRlcl9zdGF0dXM6IFwiTmV3XCIsXG4gICAgICAgICAgICBwdXJjaGFzZV9zdGF0dXM6IFwidW5wYWlkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuZmluZEJ5SWQoaWQpO1xuICAgIHJldHVybiBvcmRlcjtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n    createOrder,\n    updateOrderItem,\n    updateOrder,\n    getOrderById,\n    getOwnOrders,\n    getCompanyOrders,\n};\n\nasync function createOrder(params) {\n    const order &#x3D; await get_or_create(params.customer_id, params.company_id);\n\n    &#x2F;&#x2F; insert the item to the order item table\n    const orderItem &#x3D; order\n        .$relatedQuery(\&quot;items\&quot;)\n        .insert({ item: params.item.id, order: order.id });\n\n    return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n    const order &#x3D; await getOrder(id);\n\n    &#x2F;&#x2F; check item quantity\n    if (params.item.quantity &lt;&#x3D; 0) {\n        &#x2F;&#x2F; remove from cart\n        await order\n            .$relatedQuery(\&quot;items\&quot;)\n            .delete()\n            .where({ item: params.item.id });\n\n        return;\n    }\n\n    const orderItem &#x3D; await order\n        .$relatedQuery(\&quot;items\&quot;)\n        .patch({\n            quantity: params.item.quantity,\n        })\n        .where({\n            item: params.item.id,\n        })\n        .returning(\&quot;*\&quot;);\n\n    return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n    let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n    if (order.company.id !&#x3D;&#x3D; user.company.id) {\n        const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n        throw error;\n    }\n    &#x2F;&#x2F; aka update order table\n    order &#x3D; await Order.query().patchAndFetchById(id, params);\n\n    return order;\n}\n\nasync function getOrderById(id) {\n    const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n    return order;\n}\n\nasync function getOwnOrders(id) {\n    const orders &#x3D; await Order.query()\n        .where({ customer_id: id })\n        .orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n\nasync function getCompanyOrders(params) {\n    const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function get_or_create(id, company_id) {\n    &#x2F;&#x2F; checks for the existence of a customer order\n    &#x2F;&#x2F; if it exists add the new items on it\n    &#x2F;&#x2F; if it does not exist it creates one\n\n    let order &#x3D; await Order.query()\n        .where({\n            customer_id: id,\n            order_status: \&quot;New\&quot;,\n        })\n        .first();\n\n    if (!order) {\n        &#x2F;&#x2F; create one\n        order &#x3D; await Order.query().insert({\n            customer_id: id,\n            company_id,\n            order_status: \&quot;New\&quot;,\n            purchase_status: \&quot;unpaid\&quot;,\n        });\n    }\n\n    return order;\n}\n\nasync function getOrder(id) {\n    const order &#x3D; await Order.query().findById(id);\n    return order;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2d&#x2F;orderservice_2dd8ed46d0ebb5dcc0edc8f1fb86b7ac.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2966&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10175,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10172,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 253,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 543,
                    &quot;endOffset&quot;: 993,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 995,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1324,
                    &quot;endOffset&quot;: 1437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1439,
                    &quot;endOffset&quot;: 1584,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1586,
                    &quot;endOffset&quot;: 1720,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get_or_create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1783,
                    &quot;endOffset&quot;: 2270,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2272,
                    &quot;endOffset&quot;: 2369,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n  static get tableName() {\n    return tableNames.order;\n  }\n\n  static get relationMappings() {\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n    return {\n      items: {\n        relation: Model.HasManyRelation,\n        modelClass: OrderItem,\n        join: {\n          from: &#x60;${tableNames.order}.id&#x60;,\n          to: &#x60;${tableNames.orderItem}.order_id&#x60;\n        }\n      },\n      customer: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.order}.customer_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Company,\n        join: {\n          from: &#x60;${tableNames.order}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Order;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJkYiIsIk9yZGVyIiwidGFibGVOYW1lIiwib3JkZXIiLCJyZWxhdGlvbk1hcHBpbmdzIiwiQ29tcGFueSIsIlVzZXIiLCJPcmRlckl0ZW0iLCJpdGVtcyIsInJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwibW9kZWxDbGFzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJvcmRlckl0ZW0iLCJjdXN0b21lciIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwidXNlciIsImNvbXBhbnkiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsS0FBTixTQUFvQkosS0FBcEIsQ0FBMEI7QUFDdEIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLEtBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBQ0EsVUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsNkJBQUQsQ0FBekI7O0FBRUEsV0FBTztBQUNIVSxNQUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNhLGVBRGI7QUFFSEMsUUFBQUEsVUFBVSxFQUFFSixTQUZUO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWQsVUFBVSxDQUFDSSxLQUFNLEtBRHhCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZixVQUFVLENBQUNnQixTQUFVO0FBRjFCO0FBSEgsT0FESjtBQVVIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEVjtBQUVOTixRQUFBQSxVQUFVLEVBQUVMLElBRk47QUFHTk0sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sY0FEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ21CLElBQUs7QUFGckI7QUFIQSxPQVZQO0FBa0JIQyxNQUFBQSxPQUFPLEVBQUU7QUFDTFYsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEWDtBQUVMTixRQUFBQSxVQUFVLEVBQUVOLE9BRlA7QUFHTE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sYUFEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ29CLE9BQVE7QUFGeEI7QUFIRDtBQWxCTixLQUFQO0FBMkJIOztBQXJDcUI7O0FBd0MxQnRCLEtBQUssQ0FBQ3VCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IHRhYmxlTmFtZXMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhYmxlTmFtZXNcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcblxuY2xhc3MgT3JkZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLm9yZGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgT3JkZXJJdGVtID0gcmVxdWlyZShcIi4vb3JkZXJJdGVtL29yZGVySXRlbS5tb2RlbFwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuSGFzTWFueVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IE9yZGVySXRlbSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMub3JkZXJJdGVtfS5vcmRlcl9pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IFVzZXIsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLm9yZGVyfS5jdXN0b21lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzczogQ29tcGFueSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcjtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n    static get tableName() {\n        return tableNames.order;\n    }\n\n    static get relationMappings() {\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n        const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n        return {\n            items: {\n                relation: Model.HasManyRelation,\n                modelClass: OrderItem,\n                join: {\n                    from: &#x60;${tableNames.order}.id&#x60;,\n                    to: &#x60;${tableNames.orderItem}.order_id&#x60;,\n                },\n            },\n\n            customer: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.order}.customer_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Company,\n                join: {\n                    from: &#x60;${tableNames.order}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Order;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;66&#x2F;ordermodel_662f5b9ea6475bcabfd0d4f0bf405dda.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2967&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5243,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5240,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Order&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 230,
                    &quot;endOffset&quot;: 230,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 267,
                    &quot;endOffset&quot;: 317,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 328,
                    &quot;endOffset&quot;: 1185,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n  orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVySXRlbS5yb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhdXRoIiwiQXV0aCIsInJvbGUiLCJvcmRlclNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInB1dCIsImN1c3RvbWVyIiwidXBkYXRlT3JkZXJJdGVtIiwicmVxIiwicmVzIiwibmV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJGLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxrQkFBRCxDQUE1Qjs7QUFFQSxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBUixDQUFlO0FBQzFCQyxFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUFmLENBQWY7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQk4sSUFBSSxDQUFDQyxJQUFJLENBQUNNLFFBQU4sQ0FBcEIsRUFBcUNDLGVBQXJDOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDckNULEVBQUFBLFlBQVksQ0FBQ00sZUFBYjtBQUNIOztBQUVESSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCByb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi4vb3JkZXIuc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wdXQoXCIvXCIsIEF1dGgocm9sZS5jdXN0b21lciksIHVwZGF0ZU9yZGVySXRlbSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVySXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZS51cGRhdGVPcmRlckl0ZW0oKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n    orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;orderItemroutes_440b1db2888128c60482407cf8bcef31.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2968&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2184,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2181,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 406,
                    &quot;endOffset&quot;: 484,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        }
      ]
    },
    {
      &quot;leaks&quot;: false,
      &quot;numFailingTests&quot;: 3,
      &quot;numPassingTests&quot;: 1,
      &quot;numPendingTests&quot;: 0,
      &quot;numTodoTests&quot;: 0,
      &quot;openHandles&quot;: [],
      &quot;perfStats&quot;: {
        &quot;end&quot;: 1610567041505,
        &quot;runtime&quot;: 1312,
        &quot;slow&quot;: false,
        &quot;start&quot;: 1610567040193
      },
      &quot;skipped&quot;: false,
      &quot;snapshot&quot;: {
        &quot;added&quot;: 0,
        &quot;fileDeleted&quot;: false,
        &quot;matched&quot;: 0,
        &quot;unchecked&quot;: 0,
        &quot;unmatched&quot;: 0,
        &quot;updated&quot;: 0,
        &quot;uncheckedKeys&quot;: []
      },
      &quot;testFilePath&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.test.js&quot;,
      &quot;testResults&quot;: [
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu&quot;
          ],
          &quot;duration&quot;: 171,
          &quot;failureDetails&quot;: [
            {
              &quot;actual&quot;: &quot;&quot;,
              &quot;error&quot;: {},
              &quot;expected&quot;: &quot;&quot;,
              &quot;matcherName&quot;: &quot;&quot;,
              &quot;message&quot;: &quot;Error: expected 500 \&quot;Internal Server Error\&quot;, got 401 \&quot;Unauthorized\&quot;&quot;,
              &quot;passed&quot;: false,
              &quot;stack&quot;: &quot;Error: expected 500 \&quot;Internal Server Error\&quot;, got 401 \&quot;Unauthorized\&quot;\n    at Test.Object.&lt;anonymous&gt;.Test._assertStatus (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:270:12)\n    at Test.Object.&lt;anonymous&gt;.Test._assertFunction (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:285:11)\n    at Test.Object.&lt;anonymous&gt;.Test.assert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:175:21)\n    at Server.localAssert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:133:12)\n    at Object.onceWrapper (events.js:291:20)\n    at Server.emit (events.js:203:13)\n    at emitCloseNT (net.js:1572:8)\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:77:11)&quot;
            }
          ],
          &quot;failureMessages&quot;: [
            &quot;Error: expected 500 \&quot;Internal Server Error\&quot;, got 401 \&quot;Unauthorized\&quot;\n    at Test.Object.&lt;anonymous&gt;.Test._assertStatus (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:270:12)\n    at Test.Object.&lt;anonymous&gt;.Test._assertFunction (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:285:11)\n    at Test.Object.&lt;anonymous&gt;.Test.assert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:175:21)\n    at Server.localAssert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:133:12)\n    at Object.onceWrapper (events.js:291:20)\n    at Server.emit (events.js:203:13)\n    at emitCloseNT (net.js:1572:8)\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:77:11)&quot;
          ],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu Should fail to create a menu with missing field&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;failed&quot;,
          &quot;title&quot;: &quot;Should fail to create a menu with missing field&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu&quot;
          ],
          &quot;duration&quot;: 145,
          &quot;failureDetails&quot;: [
            {
              &quot;actual&quot;: &quot;&quot;,
              &quot;error&quot;: {},
              &quot;expected&quot;: &quot;&quot;,
              &quot;matcherName&quot;: &quot;&quot;,
              &quot;message&quot;: &quot;Error: expected 200 \&quot;OK\&quot;, got 401 \&quot;Unauthorized\&quot;&quot;,
              &quot;passed&quot;: false,
              &quot;stack&quot;: &quot;Error: expected 200 \&quot;OK\&quot;, got 401 \&quot;Unauthorized\&quot;\n    at Test.Object.&lt;anonymous&gt;.Test._assertStatus (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:270:12)\n    at Test.Object.&lt;anonymous&gt;.Test._assertFunction (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:285:11)\n    at Test.Object.&lt;anonymous&gt;.Test.assert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:175:21)\n    at Server.localAssert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:133:12)\n    at Object.onceWrapper (events.js:291:20)\n    at Server.emit (events.js:203:13)\n    at emitCloseNT (net.js:1572:8)\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:77:11)&quot;
            }
          ],
          &quot;failureMessages&quot;: [
            &quot;Error: expected 200 \&quot;OK\&quot;, got 401 \&quot;Unauthorized\&quot;\n    at Test.Object.&lt;anonymous&gt;.Test._assertStatus (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:270:12)\n    at Test.Object.&lt;anonymous&gt;.Test._assertFunction (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:285:11)\n    at Test.Object.&lt;anonymous&gt;.Test.assert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:175:21)\n    at Server.localAssert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:133:12)\n    at Object.onceWrapper (events.js:291:20)\n    at Server.emit (events.js:203:13)\n    at emitCloseNT (net.js:1572:8)\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:77:11)&quot;
          ],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu Should create a menu&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;failed&quot;,
          &quot;title&quot;: &quot;Should create a menu&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu&quot;
          ],
          &quot;duration&quot;: 172,
          &quot;failureDetails&quot;: [
            {
              &quot;actual&quot;: &quot;&quot;,
              &quot;error&quot;: {},
              &quot;expected&quot;: &quot;&quot;,
              &quot;matcherName&quot;: &quot;&quot;,
              &quot;message&quot;: &quot;Error: expected 401 \&quot;Unauthorized\&quot;, got 200 \&quot;OK\&quot;&quot;,
              &quot;passed&quot;: false,
              &quot;stack&quot;: &quot;Error: expected 401 \&quot;Unauthorized\&quot;, got 200 \&quot;OK\&quot;\n    at Test.Object.&lt;anonymous&gt;.Test._assertStatus (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:270:12)\n    at Test.Object.&lt;anonymous&gt;.Test._assertFunction (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:285:11)\n    at Test.Object.&lt;anonymous&gt;.Test.assert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:175:21)\n    at Server.localAssert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:133:12)\n    at Object.onceWrapper (events.js:291:20)\n    at Server.emit (events.js:203:13)\n    at emitCloseNT (net.js:1572:8)\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:77:11)&quot;
            }
          ],
          &quot;failureMessages&quot;: [
            &quot;Error: expected 401 \&quot;Unauthorized\&quot;, got 200 \&quot;OK\&quot;\n    at Test.Object.&lt;anonymous&gt;.Test._assertStatus (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:270:12)\n    at Test.Object.&lt;anonymous&gt;.Test._assertFunction (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:285:11)\n    at Test.Object.&lt;anonymous&gt;.Test.assert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:175:21)\n    at Server.localAssert (&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;supertest&#x2F;lib&#x2F;test.js:133:12)\n    at Object.onceWrapper (events.js:291:20)\n    at Server.emit (events.js:203:13)\n    at emitCloseNT (net.js:1572:8)\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:77:11)&quot;
          ],
          &quot;fullName&quot;: &quot;POST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu Should fail to create a menu for another company&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;failed&quot;,
          &quot;title&quot;: &quot;Should fail to create a menu for another company&quot;
        },
        {
          &quot;ancestorTitles&quot;: [
            &quot;GET &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu&quot;
          ],
          &quot;duration&quot;: 20,
          &quot;failureDetails&quot;: [],
          &quot;failureMessages&quot;: [],
          &quot;fullName&quot;: &quot;GET &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu Should return company menu&quot;,
          &quot;location&quot;: null,
          &quot;numPassingAsserts&quot;: 0,
          &quot;status&quot;: &quot;passed&quot;,
          &quot;title&quot;: &quot;Should return company menu&quot;
        }
      ],
      &quot;failureMessage&quot;: &quot;\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mPOST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu ‚Ä∫ Should fail to create a menu with missing field\u001b[39m\u001b[22m\n\n    expected 500 \&quot;Internal Server Error\&quot;, got 401 \&quot;Unauthorized\&quot;\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test._assertStatus (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:270:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test._assertFunction (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:285:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test.assert (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:175:21)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:133:12)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mPOST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu ‚Ä∫ Should create a menu\u001b[39m\u001b[22m\n\n    expected 200 \&quot;OK\&quot;, got 401 \&quot;Unauthorized\&quot;\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test._assertStatus (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:270:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test._assertFunction (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:285:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test.assert (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:175:21)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:133:12)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mPOST &#x2F;api&#x2F;v1&#x2F;company&#x2F;:company_id&#x2F;menu ‚Ä∫ Should fail to create a menu for another company\u001b[39m\u001b[22m\n\n    expected 401 \&quot;Unauthorized\&quot;, got 200 \&quot;OK\&quot;\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test._assertStatus (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:270:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test._assertFunction (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:285:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.Object.&lt;anonymous&gt;.Test.assert (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:175:21)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2m\u001b[0m\u001b[36mnode_modules&#x2F;supertest&#x2F;lib&#x2F;test.js\u001b[39m\u001b[0m\u001b[2m:133:12)\u001b[22m\u001b[2m\u001b[22m\n&quot;,
      &quot;v8Coverage&quot;: [
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\n\nconst compression &#x3D; require(\&quot;compression\&quot;);\n\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\n\nconst cors &#x3D; require(\&quot;cors\&quot;); &#x2F;&#x2F; Swagger stuff\n\n\nrequire(\&quot;rootpath\&quot;)();\n\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\n\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\n\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;\n  });\n});\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\nmodule.exports &#x3D; app;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvbXByZXNzaW9uIiwiaGVsbWV0IiwiY29ycyIsInN3YWdnZXJVaSIsInN3YWdnZXJEb2MiLCJjb25maWciLCJtaWRkbGV3YXJlcyIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJtZXNzYWdlIiwic2VydmUiLCJzZXR1cCIsIm5vdEZvdW5kIiwiZXJyb3JIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxVQUFELENBQVA7O0FBQ0EsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBekI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JPLE1BQWxCOztBQUVBLE1BQU1DLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsTUFBTVMsR0FBRyxHQUFHVCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNVSxHQUFHLEdBQUdYLE9BQU8sRUFBbkI7QUFFQVcsR0FBRyxDQUFDQyxHQUFKLENBQVFWLE1BQU0sQ0FBQyxLQUFELENBQWQ7QUFDQVMsR0FBRyxDQUFDQyxHQUFKLENBQVFSLE1BQU0sRUFBZDtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUVAsSUFBSSxFQUFaO0FBQ0FNLEdBQUcsQ0FBQ0MsR0FBSixDQUFRVCxXQUFXLEVBQW5CO0FBQ0FRLEdBQUcsQ0FBQ0MsR0FBSixDQUFRWixPQUFPLENBQUNhLElBQVIsRUFBUjtBQUVBRixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0gsSUFBSixDQUFTO0FBQ0xJLElBQUFBLE9BQU8sRUFBRTtBQURKLEdBQVQ7QUFHSCxDQUpEO0FBTUFOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUJGLEdBQW5CO0FBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJOLFNBQVMsQ0FBQ1ksS0FBL0IsRUFBc0NaLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQlosVUFBaEIsQ0FBdEM7QUFFQUksR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1csUUFBcEI7QUFDQVQsR0FBRyxDQUFDQyxHQUFKLENBQVFILFdBQVcsQ0FBQ1ksWUFBcEI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbi8vIFN3YWdnZXIgc3R1ZmZcbnJlcXVpcmUoXCJyb290cGF0aFwiKSgpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcbmNvbnN0IHN3YWdnZXJEb2MgPSByZXF1aXJlKFwiLi4vZG9jcy9zd2FnZ2VyLmpzb25cIik7XG5cbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IG1pZGRsZXdhcmVzID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZXNcIik7XG5jb25zdCBhcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCLwn6aE8J+MiOKcqPCfkYvwn4yO8J+MjfCfjI&#x2F;inKjwn4yI8J+mhFwiLFxuICAgIH0pO1xufSk7XG5cbmFwcC51c2UoXCIvYXBpL3YxXCIsIGFwaSk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2MpKTtcblxuYXBwLnVzZShtaWRkbGV3YXJlcy5ub3RGb3VuZCk7XG5hcHAudXNlKG1pZGRsZXdhcmVzLmVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst morgan &#x3D; require(\&quot;morgan\&quot;);\nconst compression &#x3D; require(\&quot;compression\&quot;);\nconst helmet &#x3D; require(\&quot;helmet\&quot;);\nconst cors &#x3D; require(\&quot;cors\&quot;);\n\n&#x2F;&#x2F; Swagger stuff\nrequire(\&quot;rootpath\&quot;)();\nconst swaggerUi &#x3D; require(\&quot;swagger-ui-express\&quot;);\nconst swaggerDoc &#x3D; require(\&quot;..&#x2F;docs&#x2F;swagger.json\&quot;);\n\nrequire(\&quot;dotenv\&quot;).config();\n\nconst middlewares &#x3D; require(\&quot;.&#x2F;middlewares\&quot;);\nconst api &#x3D; require(\&quot;.&#x2F;api\&quot;);\n\nconst app &#x3D; express();\n\napp.use(morgan(\&quot;dev\&quot;));\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;ü¶Ñüåà‚ú®üëãüåéüåçüåè‚ú®üåàü¶Ñ\&quot;,\n    });\n});\n\napp.use(\&quot;&#x2F;api&#x2F;v1\&quot;, api);\napp.use(\&quot;&#x2F;api-docs\&quot;, swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\napp.use(middlewares.notFound);\napp.use(middlewares.errorHandler);\n\nmodule.exports &#x3D; app;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;68&#x2F;app_6855482f668a469a3eba3734dab1ce4c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2039&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4132,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4129,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 669,
                    &quot;endOffset&quot;: 739,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;function notFound(req, res, next) {\n  res.status(404);\n  const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n  next(error);\n}\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\n\n\nfunction errorHandler(err, req, res, next) {\n  &#x2F;* eslint-enable no-unused-vars *&#x2F;\n  const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n  res.status(statusCode);\n  if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n  res.json({\n    message: err.message,\n    stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack\n  });\n}\n\nmodule.exports &#x3D; {\n  notFound,\n  errorHandler\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sIm5hbWVzIjpbIm5vdEZvdW5kIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwiRXJyb3IiLCJvcmlnaW5hbFVybCIsImVycm9ySGFuZGxlciIsImVyciIsInN0YXR1c0NvZGUiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImpzb24iLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDOUJELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVg7QUFDQSxRQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFXLG9CQUFtQkwsR0FBRyxDQUFDTSxXQUFZLEVBQTlDLENBQWQ7QUFDQUosRUFBQUEsSUFBSSxDQUFDRSxLQUFELENBQUo7QUFDSDtBQUVEOzs7QUFDQSxTQUFTRyxZQUFULENBQXNCQyxHQUF0QixFQUEyQlIsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QztBQUNBLFFBQU1PLFVBQVUsR0FBR1IsR0FBRyxDQUFDUSxVQUFKLEtBQW1CLEdBQW5CLEdBQXlCUixHQUFHLENBQUNRLFVBQTdCLEdBQTBDLEdBQTdEO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXTSxVQUFYO0FBQ0EsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNPLE9BQWhCO0FBQzNDZCxFQUFBQSxHQUFHLENBQUNlLElBQUosQ0FBUztBQUNMRCxJQUFBQSxPQUFPLEVBQUVQLEdBQUcsQ0FBQ08sT0FEUjtBQUVMRSxJQUFBQSxLQUFLLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQXdDLElBQXhDLEdBQStDSixHQUFHLENBQUNTO0FBRnJELEdBQVQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwQixFQUFBQSxRQURhO0FBRWJRLEVBQUFBO0FBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3RGb3VuZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihg8J+UjSAtIE5vdCBGb3VuZCAtICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIG5leHQoZXJyb3IpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlICE9PSAyMDAgPyByZXMuc3RhdHVzQ29kZSA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gXCLwn6WeXCIgOiBlcnIuc3RhY2ssXG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5vdEZvdW5kLFxuICAgIGVycm9ySGFuZGxlcixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;function notFound(req, res, next) {\n    res.status(404);\n    const error &#x3D; new Error(&#x60;üîç - Not Found - ${req.originalUrl}&#x60;);\n    next(error);\n}\n\n&#x2F;* eslint-disable no-unused-vars *&#x2F;\nfunction errorHandler(err, req, res, next) {\n    &#x2F;* eslint-enable no-unused-vars *&#x2F;\n    const statusCode &#x3D; res.statusCode !&#x3D;&#x3D; 200 ? res.statusCode : 500;\n    res.status(statusCode);\n    if (process.env.NODE_ENV !&#x3D;&#x3D; \&quot;production\&quot;) console.log(err.message);\n    res.json({\n        message: err.message,\n        stack: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; \&quot;production\&quot; ? \&quot;ü•û\&quot; : err.stack,\n    });\n}\n\nmodule.exports &#x3D; {\n    notFound,\n    errorHandler,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0d&#x2F;middlewares_0d2bc57a77c05a727da8aec38de48282.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2172&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3010,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3007,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;notFound&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 89,
                    &quot;endOffset&quot;: 226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;errorHandler&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 265,
                    &quot;endOffset&quot;: 626,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n  res.json({\n    message: \&quot;API - üëãüåéüåçüåè\&quot;\n  });\n});\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVM7QUFDTEMsSUFBQUEsT0FBTyxFQUFFO0FBREosR0FBVDtBQUdILENBSkQ7QUFNQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QlIsT0FBTyxDQUFDLG9CQUFELENBQS9CO0FBQ0FDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJSLE9BQU8sQ0FBQywwQkFBRCxDQUE5QjtBQUVBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiQVBJIC0g8J+Ri&#x2F;CfjI7wn4yN8J+Mj1wiLFxuICAgIH0pO1xufSk7XG5cbnJvdXRlci51c2UoXCIvYWNjb3VudHNcIiwgcmVxdWlyZShcIi4vYXV0aC9hdXRoLnJvdXRlc1wiKSk7XG5yb3V0ZXIudXNlKFwiL2NvbXBhbnlcIiwgcmVxdWlyZShcIi4vY29tcGFueS9jb21wYW55LnJvdXRlc1wiKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nrouter.get(\&quot;&#x2F;\&quot;, (req, res) &#x3D;&gt; {\n    res.json({\n        message: \&quot;API - üëãüåéüåçüåè\&quot;,\n    });\n});\n\nrouter.use(\&quot;&#x2F;accounts\&quot;, require(\&quot;.&#x2F;auth&#x2F;auth.routes\&quot;));\nrouter.use(\&quot;&#x2F;company\&quot;, require(\&quot;.&#x2F;company&#x2F;company.routes\&quot;));\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;46&#x2F;index_46150bc44a91011b69db233a13fb0837.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2173&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1667,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1664,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 175,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst router &#x3D; express.Router();\n\nconst {\n  signinSchema,\n  signupSchema,\n  updateSchema,\n  verifyEmailSchema\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\n\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n  const {\n    email,\n    password\n  } &#x3D; req.body;\n  authService.login({\n    email,\n    password\n  }).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    res.json({\n      user,\n      token\n    });\n  }).catch(next);\n}\n\nfunction register(req, res, next) {\n  req.body.role &#x3D; Role.owner;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n  req.body.role &#x3D; Role.customer;\n  authService.register(req.body, req.get(\&quot;origin\&quot;)).then(({\n    user,\n    token\n  }) &#x3D;&gt; {\n    return res.json({\n      user,\n      token,\n      message: \&quot;Registration successfull, please check your email for verification instructions\&quot;\n    });\n  }).catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n  authService.verifyEmail(req.body).then(() &#x3D;&gt; res.json({\n    message: \&quot;Verification successfull\&quot;\n  })).catch(next);\n}\n\nfunction getAll(req, res, next) {\n  authService.getAll().then(accounts &#x3D;&gt; res.json(accounts)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  &#x2F;&#x2F; users can get their own account and admin can get any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.getById(req.params.id).then(account &#x3D;&gt; account ? res.json(account) : res.sendStatus(404)).catch(next);\n}\n\nfunction create(req, res, next) {\n  authService.create(req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; users can update their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.update(req.params.id, req.body).then(account &#x3D;&gt; res.json(account)).catch(next);\n}\n\nfunction _delete(req, res, next) {\n  &#x2F;&#x2F; users can delete their accounts and admin can update any account\n  if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    return res.status(401).json({\n      message: \&quot;Unathorized\&quot;\n    });\n  }\n\n  authService.delete(req.param.id).then(() &#x3D;&gt; res.json({\n    message: \&quot;Account deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwic2lnbmluU2NoZW1hIiwic2lnbnVwU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoU2VydmljZSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsInBvc3QiLCJsb2dpbiIsInJlZ2lzdGVyQ3VzdG9tZXIiLCJyZWdpc3RlciIsInZlcmlmeUVtYWlsIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGwiLCJnZXRCeUlkIiwib3duZXIiLCJjcmVhdGUiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInRoZW4iLCJ1c2VyIiwidG9rZW4iLCJqc29uIiwiY2F0Y2giLCJyb2xlIiwibWVzc2FnZSIsImN1c3RvbWVyIiwiYWNjb3VudHMiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImFjY291bnQiLCJzZW5kU3RhdHVzIiwicGFyYW0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLFlBREU7QUFFRkMsRUFBQUEsWUFGRTtBQUdGQyxFQUFBQSxZQUhFO0FBSUZDLEVBQUFBO0FBSkUsSUFLRk4sT0FBTyxDQUFDLG1CQUFELENBTFg7O0FBTUEsTUFBTU8sV0FBVyxHQUFHUCxPQUFPLENBQUMsZ0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTTtBQUFFUSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJULE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7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QTNCLEVBQWlDO0FBQzdCO0FBQ0EsTUFBSWEsTUFBTSxDQUFDZixHQUFHLENBQUNnQixNQUFKLENBQVdDLEVBQVosQ0FBTixLQUEwQmpCLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxFQUFuQyxJQUF5Q2pCLEdBQUcsQ0FBQ08sSUFBSixDQUFTSSxJQUFULEtBQWtCN0IsSUFBSSxDQUFDTyxLQUFwRSxFQUEyRTtBQUN2RSxXQUFPWSxHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUI7QUFBRUcsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNIOztBQUVEakMsRUFBQUEsV0FBVyxDQUNOaUIsTUFETCxDQUNZSSxHQUFHLENBQUNxQixLQUFKLENBQVVKLEVBRHRCLEVBRUtYLElBRkwsQ0FFVSxNQUNGTCxHQUFHLENBQUNRLElBQUosQ0FBUztBQUNMRyxJQUFBQSxPQUFPLEVBQUUsOEJBREo7QUFFTEssSUFBQUEsRUFBRSxFQUFFakIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQztBQUZWLEdBQVQsQ0FIUixFQVFLUCxLQVJMLENBUVdSLElBUlg7QUFTSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5jb25zdCB7XG4gICAgc2lnbmluU2NoZW1hLFxuICAgIHNpZ251cFNjaGVtYSxcbiAgICB1cGRhdGVTY2hlbWEsXG4gICAgdmVyaWZ5RW1haWxTY2hlbWEsXG59ID0gcmVxdWlyZShcIi4vYXV0aC52YWxpZGF0b3JzXCIpO1xuY29uc3QgYXV0aFNlcnZpY2UgPSByZXF1aXJlKFwiLi9hdXRoLnNlcnZpY2VcIik7XG5jb25zdCB7IGF1dGg6IEF1dGggfSA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcm9sZVwiKTtcblxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgc2lnbmluU2NoZW1hLCBsb2dpbik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci1jdXN0b21lclwiLCBzaWdudXBTY2hlbWEsIHJlZ2lzdGVyQ3VzdG9tZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItb3duZXJcIiwgc2lnbnVwU2NoZW1hLCByZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi92ZXJpZnktZW1haWxcIiwgdmVyaWZ5RW1haWxTY2hlbWEsIHZlcmlmeUVtYWlsKTtcbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoUm9sZS5hZG1pbiksIGdldEFsbCk7XG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBBdXRoKCksIGdldEJ5SWQpO1xucm91dGVyLnBvc3QoXCIvY3JlYXRlLXN0YWZmXCIsIEF1dGgoUm9sZS5vd25lciksIHNpZ251cFNjaGVtYSwgY3JlYXRlKTtcbnJvdXRlci5wdXQoXCIvOmlkXCIsIEF1dGgoKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aCgpLCBfZGVsZXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5sb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IHVzZXIsIHRva2VuIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUub3duZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckN1c3RvbWVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVxLmJvZHkucm9sZSA9IFJvbGUuY3VzdG9tZXI7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLnJlZ2lzdGVyKHJlcS5ib2R5LCByZXEuZ2V0KFwib3JpZ2luXCIpKVxuICAgICAgICAudGhlbigoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGwsIHBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciB2ZXJpZmljYXRpb24gaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlFbWFpbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC52ZXJpZnlFbWFpbChyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsbFwiIH0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChyZXEsIHJlcywgbmV4dCkge1xuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAudGhlbigoYWNjb3VudHMpID0+IHJlcy5qc29uKGFjY291bnRzKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gdXNlcnMgY2FuIGdldCB0aGVpciBvd24gYWNjb3VudCBhbmQgYWRtaW4gY2FuIGdldCBhbnkgYWNjb3VudFxuICAgIGlmIChOdW1iZXIocmVxLnBhcmFtcy5pZCkgIT09IHJlcS51c2VyLmlkICYmIHJlcS51c2VyLnJvbGUgIT09IFJvbGUuYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF0aG9yaXplZFwiIH0pO1xuICAgIH1cblxuICAgIGF1dGhTZXJ2aWNlXG4gICAgICAgIC5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChhY2NvdW50KSA9PiAoYWNjb3VudCA&#x2F;IHJlcy5qc29uKGFjY291bnQpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgYXV0aFNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGFjY291bnQpID0+IHJlcy5qc29uKGFjY291bnQpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiB1cGRhdGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbigoYWNjb3VudCkgPT4gcmVzLmpzb24oYWNjb3VudCkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gX2RlbGV0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgYWNjb3VudHMgYW5kIGFkbWluIGNhbiB1cGRhdGUgYW55IGFjY291bnRcbiAgICBpZiAoTnVtYmVyKHJlcS5wYXJhbXMuaWQpICE9PSByZXEudXNlci5pZCAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdGhvcml6ZWRcIiB9KTtcbiAgICB9XG5cbiAgICBhdXRoU2VydmljZVxuICAgICAgICAuZGVsZXRlKHJlcS5wYXJhbS5pZClcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkFjY291bnQgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst router &#x3D; express.Router();\nconst {\n    signinSchema,\n    signupSchema,\n    updateSchema,\n    verifyEmailSchema,\n} &#x3D; require(\&quot;.&#x2F;auth.validators\&quot;);\nconst authService &#x3D; require(\&quot;.&#x2F;auth.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nrouter.post(\&quot;&#x2F;login\&quot;, signinSchema, login);\nrouter.post(\&quot;&#x2F;register-customer\&quot;, signupSchema, registerCustomer);\nrouter.post(\&quot;&#x2F;register-owner\&quot;, signupSchema, register);\nrouter.post(\&quot;&#x2F;verify-email\&quot;, verifyEmailSchema, verifyEmail);\nrouter.get(\&quot;&#x2F;\&quot;, Auth(Role.admin), getAll);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.post(\&quot;&#x2F;create-staff\&quot;, Auth(Role.owner), signupSchema, create);\nrouter.put(\&quot;&#x2F;:id\&quot;, Auth(), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth(), _delete);\n\nmodule.exports &#x3D; router;\n\nfunction login(req, res, next) {\n    const { email, password } &#x3D; req.body;\n    authService\n        .login({ email, password })\n        .then(({ user, token }) &#x3D;&gt; {\n            res.json({ user, token });\n        })\n        .catch(next);\n}\n\nfunction register(req, res, next) {\n    req.body.role &#x3D; Role.owner;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction registerCustomer(req, res, next) {\n    req.body.role &#x3D; Role.customer;\n    authService\n        .register(req.body, req.get(\&quot;origin\&quot;))\n        .then(({ user, token }) &#x3D;&gt; {\n            return res.json({\n                user,\n                token,\n                message:\n                    \&quot;Registration successfull, please check your email for verification instructions\&quot;,\n            });\n        })\n        .catch(next);\n}\n\nfunction verifyEmail(req, res, next) {\n    authService\n        .verifyEmail(req.body)\n        .then(() &#x3D;&gt; res.json({ message: \&quot;Verification successfull\&quot; }))\n        .catch(next);\n}\n\nfunction getAll(req, res, next) {\n    authService\n        .getAll()\n        .then((accounts) &#x3D;&gt; res.json(accounts))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    &#x2F;&#x2F; users can get their own account and admin can get any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .getById(req.params.id)\n        .then((account) &#x3D;&gt; (account ? res.json(account) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction create(req, res, next) {\n    authService\n        .create(req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; users can update their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .update(req.params.id, req.body)\n        .then((account) &#x3D;&gt; res.json(account))\n        .catch(next);\n}\n\nfunction _delete(req, res, next) {\n    &#x2F;&#x2F; users can delete their accounts and admin can update any account\n    if (Number(req.params.id) !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        return res.status(401).json({ message: \&quot;Unathorized\&quot; });\n    }\n\n    authService\n        .delete(req.param.id)\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Account deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;75&#x2F;authroutes_75bf7888c8e4ac0a10e44194cc103f96.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2174&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 15260,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 15257,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 919,
                    &quot;endOffset&quot;: 1157,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1058,
                    &quot;endOffset&quot;: 1141,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1159,
                    &quot;endOffset&quot;: 1486,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;registerCustomer&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1488,
                    &quot;endOffset&quot;: 1826,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1828,
                    &quot;endOffset&quot;: 1985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1987,
                    &quot;endOffset&quot;: 2095,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2097,
                    &quot;endOffset&quot;: 2472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2474,
                    &quot;endOffset&quot;: 2588,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2590,
                    &quot;endOffset&quot;: 2944,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2946,
                    &quot;endOffset&quot;: 3350,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    firstName: Joi.string().required(),\n    lastName: Joi.string().required(),\n    phoneNumber: Joi.string().min(10).max(15).required(),\n    role: Joi.string().min(5).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required(),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    firstName: Joi.string().empty(\&quot;\&quot;),\n    lastName: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    role: Joi.string().min(5).empty(\&quot;\&quot;),\n    phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n    password: Joi.string().min(8).empty(\&quot;\&quot;),\n    confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;)\n  }; &#x2F;&#x2F;  TODO figure out how admin can update role\n\n  const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n  validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    token: Joi.string().required()\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsInNpZ251cFNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwicGhvbmVOdW1iZXIiLCJtaW4iLCJtYXgiLCJyb2xlIiwiZW1haWwiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInZhbGlkIiwicmVmIiwic2lnbmluU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSIsIndpdGgiLCJ2ZXJpZnlFbWFpbFNjaGVtYSIsInRva2VuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUVBRSxPQUFPLENBQUNDLFlBQVIsR0FBdUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTUMsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBVztBQUN0QkMsSUFBQUEsU0FBUyxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYUMsUUFBYixFQURXO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRlk7QUFHdEJFLElBQUFBLFdBQVcsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFJLEdBQWIsQ0FBaUIsRUFBakIsRUFBcUJDLEdBQXJCLENBQXlCLEVBQXpCLEVBQTZCSixRQUE3QixFQUhTO0FBSXRCSyxJQUFBQSxJQUFJLEVBQUVqQixHQUFHLENBQUNXLE1BQUosR0FBYUksR0FBYixDQUFpQixDQUFqQixFQUFvQkgsUUFBcEIsRUFKZ0I7QUFLdEJNLElBQUFBLEtBQUssRUFB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RUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FMRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5zaWdudXBTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5yZXF1aXJlZCgpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLnJlcXVpcmVkKCksXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS52YWxpZChKb2kucmVmKFwicGFzc3dvcmRcIikpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMuc2lnbmluU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5yZXF1aXJlZCgpLFxuICAgIH0pO1xuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYVJ1bGVzID0ge1xuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLmVtcHR5KFwiXCIpLFxuICAgICAgICByb2xlOiBKb2kuc3RyaW5nKCkubWluKDUpLmVtcHR5KFwiXCIpLFxuICAgICAgICBwaG9uZU51bWJlcjogSm9pLnN0cmluZygpLm1pbigxMCkubWF4KDE1KS5lbXB0eShcIlwiKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZDogSm9pLnN0cmluZygpLnZhbGlkKEpvaS5yZWYoXCJwYXNzd29yZFwiKSkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIC8vICBUT0RPIGZpZ3VyZSBvdXQgaG93IGFkbWluIGNhbiB1cGRhdGUgcm9sZVxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpLndpdGgoXCJwYXNzd29yZFwiLCBcImNvbmZpcm1QYXNzd29yZFwiKTtcblxuICAgIHZhbGlkYXRlUmVxdWVzdChyZXEsIG5leHQsIHNjaGVtYSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeUVtYWlsU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIHRva2VuOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.signupSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        firstName: Joi.string().required(),\n        lastName: Joi.string().required(),\n        phoneNumber: Joi.string().min(10).max(15).required(),\n        role: Joi.string().min(5).required(),\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.signinSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        email: Joi.string().email().required(),\n        password: Joi.string().min(8).required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        firstName: Joi.string().empty(\&quot;\&quot;),\n        lastName: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        role: Joi.string().min(5).empty(\&quot;\&quot;),\n        phoneNumber: Joi.string().min(10).max(15).empty(\&quot;\&quot;),\n        password: Joi.string().min(8).empty(\&quot;\&quot;),\n        confirmPassword: Joi.string().valid(Joi.ref(\&quot;password\&quot;)).empty(\&quot;\&quot;),\n    };\n\n    &#x2F;&#x2F;  TODO figure out how admin can update role\n    const schema &#x3D; Joi.object(schemaRules).with(\&quot;password\&quot;, \&quot;confirmPassword\&quot;);\n\n    validateRequest(req, next, schema);\n};\n\nexports.verifyEmailSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        token: Joi.string().required(),\n    });\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;93&#x2F;authvalidators_93d8fdb0df4bea4d1ddc0a198e2ff769.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2175&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7592,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7589,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 651,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 677,
                    &quot;endOffset&quot;: 863,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 889,
                    &quot;endOffset&quot;: 1438,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1469,
                    &quot;endOffset&quot;: 1601,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n  const options &#x3D; {\n    abortEarly: false,\n    &#x2F;&#x2F; include all errors\n    allowUnknown: true,\n    &#x2F;&#x2F; ignore unknown props\n    stripUnknown: true &#x2F;&#x2F; remove unknown props\n\n  };\n  const {\n    error,\n    value\n  } &#x3D; schema.validate(req.body, options);\n\n  if (error) {\n    next(&#x60;Validation error: ${error.details.map(x &#x3D;&gt; x.message).join(\&quot;, \&quot;)}&#x60;);\n  } else {\n    req.body &#x3D; value;\n    next();\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwibmV4dCIsInNjaGVtYSIsIm9wdGlvbnMiLCJhYm9ydEVhcmx5IiwiYWxsb3dVbmtub3duIiwic3RyaXBVbmtub3duIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYm9keSIsImRldGFpbHMiLCJtYXAiLCJ4IiwibWVzc2FnZSIsImpvaW4iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGVBQWpCOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQ0MsTUFBcEMsRUFBNEM7QUFDeEMsUUFBTUMsT0FBTyxHQUFHO0FBQ1pDLElBQUFBLFVBQVUsRUFBRSxLQURBO0FBQ087QUFDbkJDLElBQUFBLFlBQVksRUFBRSxJQUZGO0FBRVE7QUFDcEJDLElBQUFBLFlBQVksRUFBRSxJQUhGLENBR1E7O0FBSFIsR0FBaEI7QUFNQSxRQUFNO0FBQUVDLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFtQk4sTUFBTSxDQUFDTyxRQUFQLENBQWdCVCxHQUFHLENBQUNVLElBQXBCLEVBQTBCUCxPQUExQixDQUF6Qjs7QUFDQSxNQUFJSSxLQUFKLEVBQVc7QUFDUE4sSUFBQUEsSUFBSSxDQUNDLHFCQUFvQk0sS0FBSyxDQUFDSSxPQUFOLENBQ2hCQyxHQURnQixDQUNYQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsT0FERyxFQUVoQkMsSUFGZ0IsQ0FFWCxJQUZXLENBRUwsRUFIaEIsQ0FBSjtBQUtILEdBTkQsTUFNTztBQUNIZixJQUFBQSxHQUFHLENBQUNVLElBQUosR0FBV0YsS0FBWDtBQUNBUCxJQUFBQSxJQUFJO0FBQ1A7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVSZXF1ZXN0O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZSwgLy8gaW5jbHVkZSBhbGwgZXJyb3JzXG4gICAgICAgIGFsbG93VW5rbm93bjogdHJ1ZSwgLy8gaWdub3JlIHVua25vd24gcHJvcHNcbiAgICAgICAgc3RyaXBVbmtub3duOiB0cnVlLCAvLyByZW1vdmUgdW5rbm93biBwcm9wc1xuICAgIH07XG5cbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5LCBvcHRpb25zKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChcbiAgICAgICAgICAgIGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLmRldGFpbHNcbiAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLmJvZHkgPSB2YWx1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; validateRequest;\n\nfunction validateRequest(req, next, schema) {\n    const options &#x3D; {\n        abortEarly: false, &#x2F;&#x2F; include all errors\n        allowUnknown: true, &#x2F;&#x2F; ignore unknown props\n        stripUnknown: true, &#x2F;&#x2F; remove unknown props\n    };\n\n    const { error, value } &#x3D; schema.validate(req.body, options);\n    if (error) {\n        next(\n            &#x60;Validation error: ${error.details\n                .map((x) &#x3D;&gt; x.message)\n                .join(\&quot;, \&quot;)}&#x60;\n        );\n    } else {\n        req.body &#x3D; value;\n        next();\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;45&#x2F;validateRequest_45057a96b73bd940f5249869883efa4a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2228&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2528,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2525,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;validateRequest&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 124,
                    &quot;endOffset&quot;: 562,
                    &quot;count&quot;: 4
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 481,
                    &quot;endOffset&quot;: 495,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\n\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\n\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\n\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n  &#x2F;**\n   * refreshtoken\n   * revoketoken\n   * forgotPassword\n   * validateResetToken\n   * validateResetToken\n   * resetPassword\n   *&#x2F;\n  login,\n  register,\n  verifyEmail,\n  create,\n  update,\n  getAll,\n  getById,\n  delete: _delete\n};\n\nasync function login({\n  email,\n  password\n}) {\n  const account &#x3D; await getAccount({\n    email\n  });\n\n  if (!account || &#x2F;&#x2F; !account.isVerified ||\n  !(await bcrypt.compare(password, account.password))) {\n    const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n    throw error;\n  }\n\n  const token &#x3D; await jwt.sign(account.toJSON());\n  return {\n    user: basicDetails(account),\n    token\n  };\n}\n\nasync function register(params, origin) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n    &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n    const error &#x3D; new Error(&#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;);\n    throw error;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; send email;\n  &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n  const token &#x3D; await jwt.sign(account);\n  return {\n    user: account,\n    token\n  };\n}\n\nasync function verifyEmail({\n  token\n}) {\n  const account &#x3D; await getAccount({\n    verificationToken: token\n  });\n  if (!account) throw \&quot;Verification failed\&quot;;\n  await account.$query().patch({\n    verified: Date.now(),\n    isVerified: true,\n    verificationToken: null\n  });\n}\n\nasync function create(params) {\n  &#x2F;&#x2F; validate\n  if (await getAccount({\n    email: params.email\n  })) {\n    throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n  }\n\n  const account &#x3D; await insertUser(params); &#x2F;&#x2F; TODO? bind to company here.\n\n  return basicDetails(account);\n}\n\nasync function update(id, params) {\n  const account &#x3D; await getAccount({\n    id\n  }); &#x2F;&#x2F; validate if email was changed\n\n  if (params.email &amp;&amp; account.email !&#x3D;&#x3D; params.email &amp;&amp; (await getAccount({\n    email: params.email\n  }))) {\n    const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n    throw error;\n  } &#x2F;&#x2F; hash password if it was entered\n\n\n  if (params.password) {\n    params.password &#x3D; await hash(params.password);\n  }\n\n  const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params\n  });\n  return basicDetails(updatedUser);\n} &#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\n\n\nasync function getAll() {\n  const accounts &#x3D; await User.query();\n  return accounts.map(x &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n  const account &#x3D; await getAccount({\n    id\n  });\n  return basicDetails(account);\n} &#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\n\n\nasync function _delete(id) {\n  await User.query().deleteById(id);\n}\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\n\n\nasync function getAccount(param) {\n  const account &#x3D; await User.query().where({ ...param\n  }).first();\n  return account;\n}\n\nasync function insertUser(params) {\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    role,\n    phoneNumber\n  } &#x3D; params; &#x2F;&#x2F; hash password and verification token\n\n  const hashedPassword &#x3D; await hash(password, 10);\n  const verificationToken &#x3D; randomTokenString(); &#x2F;&#x2F; create account\n\n  const account &#x3D; await User.query().insert({\n    email,\n    firstName,\n    lastName,\n    password: hashedPassword,\n    phoneNumber,\n    role: role,\n    active: true,\n    isVerified: false,\n    verified: new Date().toISOString(),\n    verificationToken\n  });\n  return basicDetails(account);\n}\n\nasync function hash(password) {\n  return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n  return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n  const {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  } &#x3D; account;\n  return {\n    id,\n    firstName,\n    lastName,\n    email,\n    role,\n    created,\n    updated,\n    isVerified\n  };\n}\n\nasync function sendVerificationEmail(account, origin) {\n  let message;\n\n  if (origin) {\n    const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n    message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: account.email,\n    subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n    html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;\n  });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n  let message;\n\n  if (origin) {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n  } else {\n    message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n  }\n\n  await sendEmail({\n    to: email,\n    subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n    html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImJjcnlwdCIsImNyeXB0byIsInNlbmRFbWFpbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2dpbiIsInJlZ2lzdGVyIiwidmVyaWZ5RW1haWwiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsImNvbXBhcmUiLCJlcnJvciIsIkVycm9yIiwidG9rZW4iLCJzaWduIiwidG9KU09OIiwidXNlciIsImJhc2ljRGV0YWlscyIsInBhcmFtcyIsIm9yaWdpbiIsImluc2VydFVzZXIiLCJ2ZXJpZmljYXRpb25Ub2tlbiIsIiRxdWVyeSIsInBhdGNoIiwidmVyaWZpZWQiLCJEYXRlIiwibm93IiwiaXNWZXJpZmllZCIsImlkIiwiaGFzaCIsInVwZGF0ZWRVc2VyIiwicXVlcnkiLCJwYXRjaEFuZEZldGNoQnlJZCIsImFjY291bnRzIiwibWFwIiwieCIsImRlbGV0ZUJ5SWQiLCJwYXJhbSIsIndoZXJlIiwiZmlyc3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGUiLCJwaG9uZU51bWJlciIsImhhc2hlZFBhc3N3b3JkIiwicmFuZG9tVG9rZW5TdHJpbmciLCJpbnNlcnQiLCJhY3RpdmUiLCJ0b0lTT1N0cmluZyIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVkIiwidXBkYXRlZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIm1lc3NhZ2UiLCJ2ZXJpZnlVcmwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwic2VuZEFscmVhZHlSZWdpc3RlcmVkRW1haWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQW5C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a0IsRUFBakY7QUFDQWlDLElBQUFBLE9BQU8sR0FBSTtzQkFDR0MsU0FBVSxLQUFJQSxTQUFVO1NBRHRDO0FBR0gsR0FMRCxNQUtPO0FBQ0hELElBQUFBLE9BQU8sR0FBSTs4QkFDVzlDLE9BQU8sQ0FBQ2EsaUJBQWtCLGFBRGhEO0FBRUg7O0FBRUQsUUFBTTNCLFNBQVMsQ0FBQztBQUNaOEQsSUFBQUEsRUFBRSxFQUFFaEQsT0FBTyxDQUFDRixLQURBO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUseUNBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHOztVQUVMSixPQUFRO0FBTEUsR0FBRCxDQUFmO0FBT0g7O0FBRUQsZUFBZUssMEJBQWYsQ0FBMENyRCxLQUExQyxFQUFpRGEsTUFBakQsRUFBeUQ7QUFDckQsTUFBSW1DLE9BQUo7O0FBQ0EsTUFBSW5DLE1BQUosRUFBWTtBQUNSbUMsSUFBQUEsT0FBTyxHQUFJLGdFQUErRG5DLE1BQU8sc0RBQWpGO0FBQ0gsR0FGRCxNQUVPO0FBQ0htQyxJQUFBQSxPQUFPLEdBQUksK0dBQVg7QUFDSDs7QUFFRCxRQUFNNUQsU0FBUyxDQUFDO0FBQ1o4RCxJQUFBQSxFQUFFLEVBQUVsRCxLQURRO0FBRVptRCxJQUFBQSxPQUFPLEVBQUUscURBRkc7QUFHWkMsSUFBQUEsSUFBSSxFQUFHO3VDQUN3QnBELEtBQU07aUJBQzVCZ0QsT0FBUTtBQUxMLEdBQUQsQ0FBZjtBQU9IIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi91c2VyL3VzZXIubW9kZWxcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvand0XCIpO1xuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZW1haWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2h0b2tlblxuICAgICAqIHJldm9rZXRva2VuXG4gICAgICogZm9yZ290UGFzc3dvcmRcbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiB2YWxpZGF0ZVJlc2V0VG9rZW5cbiAgICAgKiByZXNldFBhc3N3b3JkXG4gICAgICovXG4gICAgbG9naW4sXG4gICAgcmVnaXN0ZXIsXG4gICAgdmVyaWZ5RW1haWwsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBnZXRBbGwsXG4gICAgZ2V0QnlJZCxcbiAgICBkZWxldGU6IF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBsb2dpbih7IGVtYWlsLCBwYXNzd29yZCB9KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBlbWFpbCB9KTtcblxuICAgIGlmIChcbiAgICAgICAgIWFjY291bnQgfHxcbiAgICAgICAgLy8gIWFjY291bnQuaXNWZXJpZmllZCB8fFxuICAgICAgICAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhY2NvdW50LnBhc3N3b3JkKSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJFbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudC50b0pTT04oKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBiYXNpY0RldGFpbHMoYWNjb3VudCksXG4gICAgICAgIHRva2VuLFxuICAgIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHBhcmFtcywgb3JpZ2luKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgLy8gc2VuZCBhbHJlYWR5IHJlZ2lzdGVyZWQgZXJyb3IgaW4gZW1haWwgdG8gcHJldmVudCBhY2NvdW50IGVudW1lcmF0aW9uXG4gICAgICAgIC8vIGF3YWl0IHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKHBhcmFtcy5lbWFpbCwgb3JpZ2luKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRW1haWwgXCInICsgcGFyYW1zLmVtYWlsICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCdcbiAgICAgICAgKTtcblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgaW5zZXJ0VXNlcihwYXJhbXMpO1xuXG4gICAgLy8gc2VuZCBlbWFpbDtcbiAgICAvLyBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKTtcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oYWNjb3VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiBhY2NvdW50LFxuICAgICAgICB0b2tlbixcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh7IHRva2VuIH0pIHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZ2V0QWNjb3VudCh7IHZlcmlmaWNhdGlvblRva2VuOiB0b2tlbiB9KTtcblxuICAgIGlmICghYWNjb3VudCkgdGhyb3cgXCJWZXJpZmljYXRpb24gZmFpbGVkXCI7XG5cbiAgICBhd2FpdCBhY2NvdW50LiRxdWVyeSgpLnBhdGNoKHtcbiAgICAgICAgdmVyaWZpZWQ6IERhdGUubm93KCksXG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2VuOiBudWxsLFxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGVcbiAgICBpZiAoYXdhaXQgZ2V0QWNjb3VudCh7IGVtYWlsOiBwYXJhbXMuZW1haWwgfSkpIHtcbiAgICAgICAgdGhyb3cgJ0VtYWlsIFwiJyArIHBhcmFtcy5lbWFpbCArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBpbnNlcnRVc2VyKHBhcmFtcyk7XG5cbiAgICAvLyBUT0RPPyBiaW5kIHRvIGNvbXBhbnkgaGVyZS5cblxuICAgIHJldHVybiBiYXNpY0RldGFpbHMoYWNjb3VudCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGdldEFjY291bnQoeyBpZCB9KTtcblxuICAgIC8vIHZhbGlkYXRlIGlmIGVtYWlsIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMuZW1haWwgJiZcbiAgICAgICAgYWNjb3VudC5lbWFpbCAhPT0gcGFyYW1zLmVtYWlsICYmXG4gICAgICAgIChhd2FpdCBnZXRBY2NvdW50KHsgZW1haWw6IHBhcmFtcy5lbWFpbCB9KSlcbiAgICApIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEVtYWlsICR7cGFyYW1zLmVtYWlsfSBpcyBhbHJlYWR5IHRha2VuYCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcbiAgICBpZiAocGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgICAgIHBhcmFtcy5wYXNzd29yZCA9IGF3YWl0IGhhc2gocGFyYW1zLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwgeyAuLi5wYXJhbXMgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKHVwZGF0ZWRVc2VyKTtcbn1cblxuLy8gVE9ETyBNQUtFIFNPIElUIENBTiBRVUVSWSBGT1IgRElGRkVSRU5UIFRZUEVTIE9GIFVTRVJTXG5hc3luYyBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBVc2VyLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoeCkgPT4gYmFzaWNEZXRhaWxzKHgpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhhY2NvdW50KTtcbn1cblxuLy8gVE9ETyBNQUtFIElUIEFDQ0VQVCBBTiBBUlJBWSBPRiBJRFxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xuICAgIGF3YWl0IFVzZXIucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT0gSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09ICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50KHBhcmFtKSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyAuLi5wYXJhbSB9KVxuICAgICAgICAuZmlyc3QoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0VXNlcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmVOdW1iZXIgfSA9IHBhcmFtcztcblxuICAgIC8vIGhhc2ggcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiB0b2tlblxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgMTApO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gcmFuZG9tVG9rZW5TdHJpbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IFVzZXIucXVlcnkoKS5pbnNlcnQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgdmVyaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmFzaWNEZXRhaWxzKGFjY291bnQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYXNoKHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVRva2VuU3RyaW5nKCkge1xuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDApLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoYWNjb3VudCkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBjcmVhdGVkLFxuICAgICAgICB1cGRhdGVkLFxuICAgICAgICBpc1ZlcmlmaWVkLFxuICAgIH0gPSBhY2NvdW50O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgdXBkYXRlZCxcbiAgICAgICAgaXNWZXJpZmllZCxcbiAgICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kVmVyaWZpY2F0aW9uRW1haWwoYWNjb3VudCwgb3JpZ2luKSB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKG9yaWdpbikge1xuICAgICAgICBjb25zdCB2ZXJpZnlVcmwgPSBgJHtvcmlnaW59L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7YWNjb3VudC52ZXJpZmljYXRpb25Ub2tlbn1gO1xuICAgICAgICBtZXNzYWdlID0gYDxwPiBQbGVhc2UgY2xpY2sgdGhlIGJlbG93IGxpbmsgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzczo8L3A+XG4gICAgICAgIDxwPjxhIGhyZWY9XCIke3ZlcmlmeVVybH1cIj4ke3ZlcmlmeVVybH08L2E+PC9wPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+UGxlYXNlIHVzZSB0aGUgYmVsb3cgdG9rZW4gdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcyB3aXRoIHRoZSA8Y29kZT4vYXV0aC92ZXJpZnktZW1haWw8L2NvZGU+IGFwaSByb3V0ZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+JHthY2NvdW50LnZlcmlmaWNhdGlvblRva2VufTwvY29kZT48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogYWNjb3VudC5lbWFpbCxcbiAgICAgICAgc3ViamVjdDogXCJTaWduLXVwIHZlcmlmaWNhdGlvbiBBUEkgLSBWZXJpZnkgRW1haWxcIixcbiAgICAgICAgaHRtbDogYDxoND5WZXJpZnkgRW1haWw8L2g0PlxuICAgICAgICA8cD5UaGFua3MgZm9yIHJlZ2lzdGVyaW5nITwvcD5cbiAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbHJlYWR5UmVnaXN0ZXJlZEVtYWlsKGVtYWlsLCBvcmlnaW4pIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgPHA+SWYgeW91IGRvbid0IGtub3cgeW91ciBwYXNzd29yZCBwbGVhc2UgdmlzaXQgdGhlIDxhIGhyZWY9XCIke29yaWdpbn0vYXV0aC9mb3Jnb3QtcGFzc3dvcmRcIj5mb3Jnb3QgcGFzc3dvcmQ8L2E+IHBhZ2UuPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGA8cD5JZiB5b3UgZG9uJ3Qga25vdyB5b3VyIHBhc3N3b3JkIHlvdSBjYW4gcmVzZXQgaXQgdmlhIHRoZSA8Y29kZT4vYXV0aC9mb3Jnb3QtcGFzc3dvcmQ8L2NvZGU+IGFwaSByb3V0ZS48L3A+YDtcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgICB0bzogZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IFwiU2lnbi11cCBWZXJpZmljYXRpb24gQVBJIC0gRW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkXCIsXG4gICAgICAgIGh0bWw6IGA8aDQ+RW1haWwgQWxyZWFkeSBSZWdpc3RlcmVkPC9oND5cbiAgICAgICAgICAgICAgIDxwPllvdXIgZW1haWwgPHN0cm9uZz4ke2VtYWlsfTwvc3Ryb25nPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9wPlxuICAgICAgICAgICAgICAgJHttZXNzYWdlfWAsXG4gICAgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\nconst jwt &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;jwt\&quot;);\nconst bcrypt &#x3D; require(\&quot;bcrypt\&quot;);\nconst crypto &#x3D; require(\&quot;crypto\&quot;);\nconst sendEmail &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;email\&quot;);\n\nmodule.exports &#x3D; {\n    &#x2F;**\n     * refreshtoken\n     * revoketoken\n     * forgotPassword\n     * validateResetToken\n     * validateResetToken\n     * resetPassword\n     *&#x2F;\n    login,\n    register,\n    verifyEmail,\n    create,\n    update,\n    getAll,\n    getById,\n    delete: _delete,\n};\n\nasync function login({ email, password }) {\n    const account &#x3D; await getAccount({ email });\n\n    if (\n        !account ||\n        &#x2F;&#x2F; !account.isVerified ||\n        !(await bcrypt.compare(password, account.password))\n    ) {\n        const error &#x3D; new Error(\&quot;Email or password is incorrect\&quot;);\n        throw error;\n    }\n\n    const token &#x3D; await jwt.sign(account.toJSON());\n\n    return {\n        user: basicDetails(account),\n        token,\n    };\n}\n\nasync function register(params, origin) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        &#x2F;&#x2F; send already registered error in email to prevent account enumeration\n        &#x2F;&#x2F; await sendAlreadyRegisteredEmail(params.email, origin);\n        const error &#x3D; new Error(\n            &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;\n        );\n\n        throw error;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; send email;\n    &#x2F;&#x2F; await sendVerificationEmail(account, origin);\n\n    const token &#x3D; await jwt.sign(account);\n\n    return {\n        user: account,\n        token,\n    };\n}\n\nasync function verifyEmail({ token }) {\n    const account &#x3D; await getAccount({ verificationToken: token });\n\n    if (!account) throw \&quot;Verification failed\&quot;;\n\n    await account.$query().patch({\n        verified: Date.now(),\n        isVerified: true,\n        verificationToken: null,\n    });\n}\n\nasync function create(params) {\n    &#x2F;&#x2F; validate\n    if (await getAccount({ email: params.email })) {\n        throw &#39;Email \&quot;&#39; + params.email + &#39;\&quot; is already registered&#39;;\n    }\n\n    const account &#x3D; await insertUser(params);\n\n    &#x2F;&#x2F; TODO? bind to company here.\n\n    return basicDetails(account);\n}\n\nasync function update(id, params) {\n    const account &#x3D; await getAccount({ id });\n\n    &#x2F;&#x2F; validate if email was changed\n    if (\n        params.email &amp;&amp;\n        account.email !&#x3D;&#x3D; params.email &amp;&amp;\n        (await getAccount({ email: params.email }))\n    ) {\n        const error &#x3D; new Error(&#x60;Email ${params.email} is already taken&#x60;);\n        throw error;\n    }\n\n    &#x2F;&#x2F; hash password if it was entered\n    if (params.password) {\n        params.password &#x3D; await hash(params.password);\n    }\n\n    const updatedUser &#x3D; await User.query().patchAndFetchById(id, { ...params });\n\n    return basicDetails(updatedUser);\n}\n\n&#x2F;&#x2F; TODO MAKE SO IT CAN QUERY FOR DIFFERENT TYPES OF USERS\nasync function getAll() {\n    const accounts &#x3D; await User.query();\n    return accounts.map((x) &#x3D;&gt; basicDetails(x));\n}\n\nasync function getById(id) {\n    const account &#x3D; await getAccount({ id });\n    return basicDetails(account);\n}\n\n&#x2F;&#x2F; TODO MAKE IT ACCEPT AN ARRAY OF ID\nasync function _delete(id) {\n    await User.query().deleteById(id);\n}\n\n&#x2F;**&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;\nasync function getAccount(param) {\n    const account &#x3D; await User.query()\n        .where({ ...param })\n        .first();\n    return account;\n}\n\nasync function insertUser(params) {\n    const { firstName, lastName, email, password, role, phoneNumber } &#x3D; params;\n\n    &#x2F;&#x2F; hash password and verification token\n    const hashedPassword &#x3D; await hash(password, 10);\n    const verificationToken &#x3D; randomTokenString();\n\n    &#x2F;&#x2F; create account\n    const account &#x3D; await User.query().insert({\n        email,\n        firstName,\n        lastName,\n        password: hashedPassword,\n        phoneNumber,\n        role: role,\n        active: true,\n        isVerified: false,\n        verified: new Date().toISOString(),\n        verificationToken,\n    });\n\n    return basicDetails(account);\n}\n\nasync function hash(password) {\n    return await bcrypt.hash(password, 10);\n}\n\nfunction randomTokenString() {\n    return crypto.randomBytes(40).toString(\&quot;hex\&quot;);\n}\n\nfunction basicDetails(account) {\n    const {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    } &#x3D; account;\n    return {\n        id,\n        firstName,\n        lastName,\n        email,\n        role,\n        created,\n        updated,\n        isVerified,\n    };\n}\n\nasync function sendVerificationEmail(account, origin) {\n    let message;\n    if (origin) {\n        const verifyUrl &#x3D; &#x60;${origin}&#x2F;auth&#x2F;verify-email?token&#x3D;${account.verificationToken}&#x60;;\n        message &#x3D; &#x60;&lt;p&gt; Please click the below link to verify your email address:&lt;&#x2F;p&gt;\n        &lt;p&gt;&lt;a href&#x3D;\&quot;${verifyUrl}\&quot;&gt;${verifyUrl}&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;\n        &#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;Please use the below token to verify your email address with the &lt;code&gt;&#x2F;auth&#x2F;verify-email&lt;&#x2F;code&gt; api route:&lt;&#x2F;p&gt;\n                   &lt;p&gt;&lt;code&gt;${account.verificationToken}&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: account.email,\n        subject: \&quot;Sign-up verification API - Verify Email\&quot;,\n        html: &#x60;&lt;h4&gt;Verify Email&lt;&#x2F;h4&gt;\n        &lt;p&gt;Thanks for registering!&lt;&#x2F;p&gt;\n        ${message}&#x60;,\n    });\n}\n\nasync function sendAlreadyRegisteredEmail(email, origin) {\n    let message;\n    if (origin) {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password please visit the &lt;a href&#x3D;\&quot;${origin}&#x2F;auth&#x2F;forgot-password\&quot;&gt;forgot password&lt;&#x2F;a&gt; page.&lt;&#x2F;p&gt;&#x60;;\n    } else {\n        message &#x3D; &#x60;&lt;p&gt;If you don&#39;t know your password you can reset it via the &lt;code&gt;&#x2F;auth&#x2F;forgot-password&lt;&#x2F;code&gt; api route.&lt;&#x2F;p&gt;&#x60;;\n    }\n\n    await sendEmail({\n        to: email,\n        subject: \&quot;Sign-up Verification API - Email Already Registered\&quot;,\n        html: &#x60;&lt;h4&gt;Email Already Registered&lt;&#x2F;h4&gt;\n               &lt;p&gt;Your email &lt;strong&gt;${email}&lt;&#x2F;strong&gt; is already registered.&lt;&#x2F;p&gt;\n               ${message}&#x60;,\n    });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;15&#x2F;authservice_15139629ee8738726404e916e3a02258.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2229&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 22003,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 22000,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;login&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 546,
                    &quot;endOffset&quot;: 944,
                    &quot;count&quot;: 12
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;register&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 946,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;verifyEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1779,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1781,
                    &quot;endOffset&quot;: 2062,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2064,
                    &quot;endOffset&quot;: 2621,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAll&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2682,
                    &quot;endOffset&quot;: 2793,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2795,
                    &quot;endOffset&quot;: 2907,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2948,
                    &quot;endOffset&quot;: 3015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccount&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3076,
                    &quot;endOffset&quot;: 3198,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;insertUser&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3200,
                    &quot;endOffset&quot;: 3791,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;hash&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3793,
                    &quot;endOffset&quot;: 3868,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;randomTokenString&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3870,
                    &quot;endOffset&quot;: 3951,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 3953,
                    &quot;endOffset&quot;: 4226,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendVerificationEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4228,
                    &quot;endOffset&quot;: 4965,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 4967,
                    &quot;endOffset&quot;: 5605,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n  static get tableName() {\n    return tableNames.user;\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; User;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiVXNlciIsInRhYmxlTmFtZSIsInVzZXIiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLDRCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsSUFBTixTQUFtQkosS0FBbkIsQ0FBeUI7QUFDckIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLElBQWxCO0FBQ0g7O0FBSG9COztBQU16Qk4sS0FBSyxDQUFDTyxJQUFOLENBQVdKLEVBQVg7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vZGJcIik7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLnVzZXI7XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;db\&quot;);\n\nclass User extends Model {\n    static get tableName() {\n        return tableNames.user;\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; User;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;65&#x2F;usermodel_65a16864dea2cc43f1cea59fb9ce1a95.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2230&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1454,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1451,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;User&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 224,
                    &quot;endOffset&quot;: 224,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 260,
                    &quot;endOffset&quot;: 309,
                    &quot;count&quot;: 18
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  user: \&quot;user\&quot;,\n  address: \&quot;address\&quot;,\n  company: \&quot;company\&quot;,\n  accounts: \&quot;accounts\&quot;,\n  category: \&quot;category\&quot;,\n  menu: \&quot;menu\&quot;,\n  item: \&quot;item\&quot;,\n  order: \&quot;order\&quot;,\n  orderItem: \&quot;orderItem\&quot;,\n  payments: \&quot;payments\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlTmFtZXMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInVzZXIiLCJhZGRyZXNzIiwiY29tcGFueSIsImFjY291bnRzIiwiY2F0ZWdvcnkiLCJtZW51IiwiaXRlbSIsIm9yZGVyIiwib3JkZXJJdGVtIiwicGF5bWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFLE1BRE87QUFFYkMsRUFBQUEsT0FBTyxFQUFFLFNBRkk7QUFHYkMsRUFBQUEsT0FBTyxFQUFFLFNBSEk7QUFJYkMsRUFBQUEsUUFBUSxFQUFFLFVBSkc7QUFLYkMsRUFBQUEsUUFBUSxFQUFFLFVBTEc7QUFNYkMsRUFBQUEsSUFBSSxFQUFFLE1BTk87QUFPYkMsRUFBQUEsSUFBSSxFQUFFLE1BUE87QUFRYkMsRUFBQUEsS0FBSyxFQUFFLE9BUk07QUFTYkMsRUFBQUEsU0FBUyxFQUFFLFdBVEU7QUFVYkMsRUFBQUEsUUFBUSxFQUFFO0FBVkcsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB1c2VyOiBcInVzZXJcIixcbiAgICBhZGRyZXNzOiBcImFkZHJlc3NcIixcbiAgICBjb21wYW55OiBcImNvbXBhbnlcIixcbiAgICBhY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgbWVudTogXCJtZW51XCIsXG4gICAgaXRlbTogXCJpdGVtXCIsXG4gICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICBvcmRlckl0ZW06IFwib3JkZXJJdGVtXCIsXG4gICAgcGF5bWVudHM6IFwicGF5bWVudHNcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    user: \&quot;user\&quot;,\n    address: \&quot;address\&quot;,\n    company: \&quot;company\&quot;,\n    accounts: \&quot;accounts\&quot;,\n    category: \&quot;category\&quot;,\n    menu: \&quot;menu\&quot;,\n    item: \&quot;item\&quot;,\n    order: \&quot;order\&quot;,\n    orderItem: \&quot;orderItem\&quot;,\n    payments: \&quot;payments\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;d1&#x2F;tableNames_d158fb35bde4ba2feb47fa73fcd1c0db.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2443&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1435,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1432,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\n\nconst {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\n\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\nconst db &#x3D; Knex(connectionConfig);\nModel.knex(db);\nmodule.exports &#x3D; db;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIktuZXgiLCJyZXF1aXJlIiwiTW9kZWwiLCJrbmV4RmlsZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29ubmVjdGlvbkNvbmZpZyIsImRiIiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQVlELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUVBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsV0FBVyxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixJQUF3QixhQUE1QztBQUNBLE1BQU1DLGdCQUFnQixHQUFHTCxRQUFRLENBQUNDLFdBQUQsQ0FBakM7QUFFQSxNQUFNSyxFQUFFLEdBQUdULElBQUksQ0FBQ1EsZ0JBQUQsQ0FBZjtBQUVBTixLQUFLLENBQUNRLElBQU4sQ0FBV0QsRUFBWDtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJILEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgS25leCA9IHJlcXVpcmUoXCJrbmV4XCIpO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcblxuY29uc3Qga25leEZpbGUgPSByZXF1aXJlKFwiLi4va25leGZpbGVcIik7XG5jb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcbmNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSBrbmV4RmlsZVtlbnZpcm9ubWVudF07XG5cbmNvbnN0IGRiID0gS25leChjb25uZWN0aW9uQ29uZmlnKTtcblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Knex &#x3D; require(\&quot;knex\&quot;);\nconst { Model } &#x3D; require(\&quot;objection\&quot;);\n\nconst knexFile &#x3D; require(\&quot;..&#x2F;knexfile\&quot;);\nconst environment &#x3D; process.env.NODE_ENV || \&quot;development\&quot;;\nconst connectionConfig &#x3D; knexFile[environment];\n\nconst db &#x3D; Knex(connectionConfig);\n\nModel.knex(db);\n\nmodule.exports &#x3D; db;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;06&#x2F;db_061f2ffe7a9d03a98dba0f960ecba1d1.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2444&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1629,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1626,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n  test: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB_TEST,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  development: {\n    client: \&quot;pg\&quot;,\n    connection: {\n      &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n      database: process.env.POSTGRES_DB,\n      user: process.env.POSTGRES_USER,\n      password: process.env.POSTGRES_PASSWORD\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  },\n  production: {\n    client: \&quot;pg\&quot;,\n    connection: process.env.DATABASE_URL,\n    pool: {\n      min: 2,\n      max: 10\n    },\n    migrations: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;\n    },\n    seeds: {\n      directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;\n    }\n  }\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJkYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19EQl9URVNUIiwidXNlciIsIlBPU1RHUkVTX1VTRVIiLCJwYXNzd29yZCIsIlBPU1RHUkVTX1BBU1NXT1JEIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsIl9fZGlybmFtZSIsInNlZWRzIiwiZGV2ZWxvcG1lbnQiLCJQT1NUR1JFU19EQiIsInByb2R1Y3Rpb24iLCJEQVRBQkFTRV9VUkwiLCJwb29sIiwibWluIiwibWF4Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxNQUFNLEVBQUUsSUFETjtBQUVGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxnQkFGZDtBQUdSQyxNQUFBQSxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxhQUhWO0FBSVJDLE1BQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmQsS0FGVjtBQVFGQyxJQUFBQSxVQUFVLEVBQUU7QUFDUkMsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEZixLQVJWO0FBWUZDLElBQUFBLEtBQUssRUFBRTtBQUNIRixNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURwQjtBQVpMLEdBRE87QUFrQmJFLEVBQUFBLFdBQVcsRUFBRTtBQUNUZCxJQUFBQSxNQUFNLEVBQUUsSUFEQztBQUVUQyxJQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxNQUFBQSxRQUFRLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxXQUZkO0FBR1JULE1BQUFBLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLGFBSFY7QUFJUkMsTUFBQUEsUUFBUSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFKZCxLQUZIO0FBUVRDLElBQUFBLFVBQVUsRUFBRTtBQUNSQyxNQUFBQSxTQUFTLEVBQUVDLFNBQVMsR0FBRztBQURmLEtBUkg7QUFZVEMsSUFBQUEsS0FBSyxFQUFFO0FBQ0hGLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRHBCO0FBWkUsR0FsQkE7QUFtQ2JJLEVBQUFBLFVBQVUsRUFBRTtBQUNSaEIsSUFBQUEsTUFBTSxFQUFFLElBREE7QUFFUkMsSUFBQUEsVUFBVSxFQUFFRSxPQUFPLENBQUNDLEdBQVIsQ0FBWWEsWUFGaEI7QUFHUkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEdBQUcsRUFBRSxDQURIO0FBRUZDLE1BQUFBLEdBQUcsRUFBRTtBQUZILEtBSEU7QUFPUlYsSUFBQUEsVUFBVSxFQUFFO0FBQ1JDLE1BQUFBLFNBQVMsRUFBRUMsU0FBUyxHQUFHO0FBRGYsS0FQSjtBQVdSQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEYsTUFBQUEsU0FBUyxFQUFFQyxTQUFTLEdBQUc7QUFEcEI7QUFYQztBQW5DQyxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVwZGF0ZSB3aXRoIHlvdXIgY29uZmlnIHNldHRpbmdzLlxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVzdDoge1xuICAgICAgICBjbGllbnQ6IFwicGdcIixcbiAgICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICAgICAgLy8gaG9zdDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQl9URVNULFxuICAgICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVNFUixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QT1NUR1JFU19QQVNTV09SRCxcbiAgICAgICAgfSxcbiAgICAgICAgbWlncmF0aW9uczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9taWdyYXRpb25zXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VlZHM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvc2VlZHNcIixcbiAgICAgICAgfSxcbiAgICB9LFxuXG4gICAgZGV2ZWxvcG1lbnQ6IHtcbiAgICAgICAgY2xpZW50OiBcInBnXCIsXG4gICAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGhvc3Q6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfREIsXG4gICAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VU0VSLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuICAgICAgICB9LFxuICAgICAgICBtaWdyYXRpb25zOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL21pZ3JhdGlvbnNcIixcbiAgICAgICAgfSxcblxuICAgICAgICBzZWVkczoge1xuICAgICAgICAgICAgZGlyZWN0b3J5OiBfX2Rpcm5hbWUgKyBcIi9kYi9zZWVkc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIGNsaWVudDogXCJwZ1wiLFxuICAgICAgICBjb25uZWN0aW9uOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICAgIG1pbjogMixcbiAgICAgICAgICAgIG1heDogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIG1pZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeTogX19kaXJuYW1lICsgXCIvZGIvbWlncmF0aW9uc1wiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHNlZWRzOiB7XG4gICAgICAgICAgICBkaXJlY3Rvcnk6IF9fZGlybmFtZSArIFwiL2RiL3NlZWRzXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;&#x2F;&#x2F; Update with your config settings.\nrequire(\&quot;dotenv\&quot;).config();\n\nmodule.exports &#x3D; {\n    test: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB_TEST,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    development: {\n        client: \&quot;pg\&quot;,\n        connection: {\n            &#x2F;&#x2F; host: \&quot;127.0.0.1\&quot;,\n            database: process.env.POSTGRES_DB,\n            user: process.env.POSTGRES_USER,\n            password: process.env.POSTGRES_PASSWORD,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n\n    production: {\n        client: \&quot;pg\&quot;,\n        connection: process.env.DATABASE_URL,\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;migrations\&quot;,\n        },\n\n        seeds: {\n            directory: __dirname + \&quot;&#x2F;db&#x2F;seeds\&quot;,\n        },\n    },\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e2&#x2F;knexfile_e268b34e213dcf9ff4bbc9c1fff3199f.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2676&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4994,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4991,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n  return new Promise((resolve, reject) &#x3D;&gt; {\n    jwt.sign(payload, process.env.JWT_SECRET, {\n      expiresIn: \&quot;3h\&quot;\n    }, (error, token) &#x3D;&gt; {\n      if (error) return reject(error);\n      return resolve(token);\n    });\n  });\n}\n\nmodule.exports &#x3D; {\n  sign\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2lnbiIsInBheWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJ0b2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBRUEsU0FBU0MsSUFBVCxDQUFjQyxPQUFkLEVBQXVCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwQ04sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQ0lDLE9BREosRUFFSUksT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmhCLEVBR0k7QUFDSUMsTUFBQUEsU0FBUyxFQUFFO0FBRGYsS0FISixFQU1JLENBQUNDLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUNkLFVBQUlELEtBQUosRUFBVyxPQUFPTCxNQUFNLENBQUNLLEtBQUQsQ0FBYjtBQUNYLGFBQU9OLE9BQU8sQ0FBQ08sS0FBRCxDQUFkO0FBQ0gsS0FUTDtBQVdILEdBWk0sQ0FBUDtBQWFIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlosRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGp3dC5zaWduKFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjNoXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWduLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nfunction sign(payload) {\n    return new Promise((resolve, reject) &#x3D;&gt; {\n        jwt.sign(\n            payload,\n            process.env.JWT_SECRET,\n            {\n                expiresIn: \&quot;3h\&quot;,\n            },\n            (error, token) &#x3D;&gt; {\n                if (error) return reject(error);\n                return resolve(token);\n            }\n        );\n    });\n}\n\nmodule.exports &#x3D; {\n    sign,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;a2&#x2F;jwt_a2ecd03f3666d6bdf618e5bb010e6f13.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2728&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1961,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sign&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 127,
                    &quot;endOffset&quot;: 376,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 173,
                    &quot;endOffset&quot;: 372,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 273,
                    &quot;endOffset&quot;: 366,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\n\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({\n  to,\n  subject,\n  html,\n  from &#x3D; config[\&quot;emailFrom\&quot;]\n}) {\n  const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n  await transporter.sendMail({\n    from,\n    to,\n    subject,\n    html\n  });\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJmcm9tIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxTQUFqQjs7QUFFQSxlQUFlQSxTQUFmLENBQXlCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsT0FBTjtBQUFlQyxFQUFBQSxJQUFmO0FBQXFCQyxFQUFBQSxJQUFJLEdBQUdQLE1BQU0sQ0FBQyxXQUFEO0FBQWxDLENBQXpCLEVBQTRFO0FBQ3hFLFFBQU1RLFdBQVcsR0FBR1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCVCxNQUFNLENBQUMsYUFBRCxDQUFqQyxDQUFwQjtBQUNBLFFBQU1RLFdBQVcsQ0FBQ0UsUUFBWixDQUFxQjtBQUFFSCxJQUFBQSxJQUFGO0FBQVFILElBQUFBLEVBQVI7QUFBWUMsSUFBQUEsT0FBWjtBQUFxQkMsSUFBQUE7QUFBckIsR0FBckIsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRFbWFpbDtcblxuYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwsIGZyb20gPSBjb25maWdbXCJlbWFpbEZyb21cIl0gfSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoY29uZmlnW1wic210cE9wdGlvbnNcIl0pO1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHsgZnJvbSwgdG8sIHN1YmplY3QsIGh0bWwgfSk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const nodemailer &#x3D; require(\&quot;nodemailer\&quot;);\nconst config &#x3D; require(\&quot;..&#x2F;config.json\&quot;);\n\nmodule.exports &#x3D; sendEmail;\n\nasync function sendEmail({ to, subject, html, from &#x3D; config[\&quot;emailFrom\&quot;] }) {\n    const transporter &#x3D; nodemailer.createTransport(config[\&quot;smtpOptions\&quot;]);\n    await transporter.sendMail({ from, to, subject, html });\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;email_4444491566e111edc26f59e95bae5b33.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2819&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1859,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1856,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;sendEmail&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 204,
                    &quot;endOffset&quot;: 441,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\n\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n  auth,\n  isOwner\n};\n\nfunction auth(roles &#x3D; []) {\n  if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n    roles &#x3D; [roles];\n  }\n\n  return async (req, res, next) &#x3D;&gt; {\n    let token;\n\n    if (req.headers.authorization &amp;&amp; req.headers.authorization.startsWith(\&quot;Bearer \&quot;)) {\n      token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n    } else {\n      return res.status(403).json({\n        message: \&quot;Token not found, access denied\&quot;\n      });\n    } &#x2F;&#x2F; verify token and account\n\n\n    try {\n      const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n      const user &#x3D; await User.query().where({\n        id: decodedToken.id\n      }).first();\n\n      if (!user || roles.length &amp;&amp; !roles.includes(decodedToken.role)) {\n        &#x2F;&#x2F; account does not exist or role not authorized\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      } &#x2F;&#x2F; authentication and authorization successful\n\n\n      req.user &#x3D; decodedToken;\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nfunction isOwner() {\n  return async (req, res, next) &#x3D;&gt; {\n    try {\n      const bool &#x3D; await Company.query().where({\n        owner_id: req.user.id,\n        id: req.params.company_id\n      }).first();\n\n      if (!bool) {\n        console.log(bool);\n        return res.status(401).json({\n          message: \&quot;Unauthorized\&quot;\n        });\n      }\n\n      next();\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIlVzZXIiLCJDb21wYW55IiwibW9kdWxlIiwiZXhwb3J0cyIsImF1dGgiLCJpc093bmVyIiwicm9sZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZFRva2VuIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwicXVlcnkiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInJvbGUiLCJlcnJvciIsImJvb2wiLCJvd25lcl9pZCIsInBhcmFtcyIsImNvbXBhbnlfaWQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLHdCQUFELENBQXBCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLDhCQUFELENBQXZCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsSUFEYTtBQUViQyxFQUFBQTtBQUZhLENBQWpCOztBQUtBLFNBQVNELElBQVQsQ0FBY0UsS0FBSyxHQUFHLEVBQXRCLEVBQTBCO0FBQ3RCLE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkEsSUFBQUEsS0FBSyxHQUFHLENBQUNBLEtBQUQsQ0FBUjtBQUNIOztBQUVELFNBQU8sT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJQyxLQUFKOztBQUNBLFFBQ0lILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLElBQ0FMLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFaLENBQTBCQyxVQUExQixDQUFxQyxTQUFyQyxDQUZKLEVBR0U7QUFDRUgsTUFBQUEsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBWixDQUEwQkUsS0FBMUIsQ0FBZ0MsU0FBaEMsRUFBMkMsQ0FBM0MsQ0FBUjtBQUNILEtBTEQsTUFLTztBQUNILGFBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCQyxRQUFBQSxPQUFPLEVBQUU7QUFEZSxPQUFyQixDQUFQO0FBR0gsS0FYNEIsQ0FhN0I7OztBQUNBLFFBQUk7QUFDQSxZQUFNQyxZQUFZLEdBQUdwQixHQUFHLENBQUNxQixNQUFKLENBQVdULEtBQVgsRUFBa0JVLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFyQjtBQUVBLFlBQU1DLElBQUksR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsS0FBTCxHQUNkQyxLQURjLENBQ1I7QUFBRUMsUUFBQUEsRUFBRSxFQUFFUixZQUFZLENBQUNRO0FBQW5CLE9BRFEsRUFFZEMsS0FGYyxFQUFuQjs7QUFJQSxVQUFJLENBQUNKLElBQUQsSUFBVWpCLEtBQUssQ0FBQ3NCLE1BQU4sSUFBZ0IsQ0FBQ3RCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZVgsWUFBWSxDQUFDWSxJQUE1QixDQUEvQixFQUFtRTtBQUMvRDtBQUNBLGVBQU90QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0gsT0FWRCxDQVlBOzs7QUFDQVYsTUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixHQUFXTCxZQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDUCxLQWZELENBZUUsT0FBT3NCLEtBQVAsRUFBYztBQUNadEIsTUFBQUEsSUFBSSxDQUFDc0IsS0FBRCxDQUFKO0FBQ0g7QUFDSixHQWhDRDtBQWlDSDs7QUFFRCxTQUFTMUIsT0FBVCxHQUFtQjtBQUNmLFNBQU8sT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM3QixRQUFJO0FBQ0EsWUFBTXVCLElBQUksR0FBRyxNQUFNL0IsT0FBTyxDQUFDdUIsS0FBUixHQUNkQyxLQURjLENBQ1I7QUFDSFEsUUFBQUEsUUFBUSxFQUFFMUIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTRyxFQURoQjtBQUVIQSxRQUFBQSxFQUFFLEVBQUVuQixHQUFHLENBQUMyQixNQUFKLENBQVdDO0FBRlosT0FEUSxFQUtkUixLQUxjLEVBQW5COztBQU9BLFVBQUksQ0FBQ0ssSUFBTCxFQUFXO0FBQ1BJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxJQUFaO0FBQ0EsZUFBT3hCLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLE9BQU8sRUFBRTtBQUFYLFNBQXJCLENBQVA7QUFDSDs7QUFDRFIsTUFBQUEsSUFBSTtBQUNQLEtBYkQsQ0FhRSxPQUFPc0IsS0FBUCxFQUFjO0FBQ1p0QixNQUFBQSxJQUFJLENBQUNzQixLQUFELENBQUo7QUFDSDtBQUNKLEdBakJEO0FBa0JIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vYXBpL3VzZXIvdXNlci5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vYXBpL2NvbXBhbnkvY29tcGFueS5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXV0aCxcbiAgICBpc093bmVyLFxufTtcblxuZnVuY3Rpb24gYXV0aChyb2xlcyA9IFtdKSB7XG4gICAgaWYgKHR5cGVvZiByb2xlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByb2xlcyA9IFtyb2xlc107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3RhcnRzV2l0aChcIkJlYXJlciBcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCJCZWFyZXIgXCIpWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIG5vdCBmb3VuZCwgYWNjZXNzIGRlbmllZFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgdG9rZW4gYW5kIGFjY291bnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5xdWVyeSgpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgKHJvbGVzLmxlbmd0aCAmJiAhcm9sZXMuaW5jbHVkZXMoZGVjb2RlZFRva2VuLnJvbGUpKSkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb3Igcm9sZSBub3QgYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZFRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc093bmVyKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogcmVxLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiByZXEucGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9vbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const jwt &#x3D; require(\&quot;jsonwebtoken\&quot;);\nconst User &#x3D; require(\&quot;..&#x2F;api&#x2F;user&#x2F;user.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;api&#x2F;company&#x2F;company.model\&quot;);\n\nmodule.exports &#x3D; {\n    auth,\n    isOwner,\n};\n\nfunction auth(roles &#x3D; []) {\n    if (typeof roles &#x3D;&#x3D;&#x3D; \&quot;string\&quot;) {\n        roles &#x3D; [roles];\n    }\n\n    return async (req, res, next) &#x3D;&gt; {\n        let token;\n        if (\n            req.headers.authorization &amp;&amp;\n            req.headers.authorization.startsWith(\&quot;Bearer \&quot;)\n        ) {\n            token &#x3D; req.headers.authorization.split(\&quot;Bearer \&quot;)[1];\n        } else {\n            return res.status(403).json({\n                message: \&quot;Token not found, access denied\&quot;,\n            });\n        }\n\n        &#x2F;&#x2F; verify token and account\n        try {\n            const decodedToken &#x3D; jwt.verify(token, process.env.JWT_SECRET);\n\n            const user &#x3D; await User.query()\n                .where({ id: decodedToken.id })\n                .first();\n\n            if (!user || (roles.length &amp;&amp; !roles.includes(decodedToken.role))) {\n                &#x2F;&#x2F; account does not exist or role not authorized\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            &#x2F;&#x2F; authentication and authorization successful\n            req.user &#x3D; decodedToken;\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n\nfunction isOwner() {\n    return async (req, res, next) &#x3D;&gt; {\n        try {\n            const bool &#x3D; await Company.query()\n                .where({\n                    owner_id: req.user.id,\n                    id: req.params.company_id,\n                })\n                .first();\n\n            if (!bool) {\n                console.log(bool);\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            next();\n        } catch (error) {\n            next(error);\n        }\n    };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;be&#x2F;auth_bef81972d508eee6f0010ea0d7e5ae1e.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2853&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7428,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7425,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;auth&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 275,
                    &quot;endOffset&quot;: 1253,
                    &quot;count&quot;: 28
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 1250,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1255,
                    &quot;endOffset&quot;: 1662,
                    &quot;count&quot;: 5
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1285,
                    &quot;endOffset&quot;: 1659,
                    &quot;count&quot;: 6
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n  static get tableName() {\n    return tableNames.company;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n\n    const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n    return {\n      owner: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.company}.owner_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      accounts: {\n        relation: Model.HasManyRelation,\n        modelClass: Account,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.accounts}.company_id&#x60;\n        }\n      },\n      menus: {\n        relation: Model.HasManyRelation,\n        modelClass: Menu,\n        join: {\n          from: &#x60;${tableNames.company}.id&#x60;,\n          to: &#x60;${tableNames.menu}.company_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports &#x3D; Company;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsInNjaGVtYSIsIkNvbXBhbnkiLCJ0YWJsZU5hbWUiLCJjb21wYW55IiwianNvblNjaGVtYSIsInJlbGF0aW9uTWFwcGluZ3MiLCJVc2VyIiwiQWNjb3VudCIsIk1lbnUiLCJvd25lciIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsInVzZXIiLCJhY2NvdW50cyIsIkhhc01hbnlSZWxhdGlvbiIsIm1lbnVzIiwibWVudSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyw0QkFBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxPQUFOLFNBQXNCSixLQUF0QixDQUE0QjtBQUN4QixhQUFXSyxTQUFYLEdBQXVCO0FBQ25CLFdBQU9ILFVBQVUsQ0FBQ0ksT0FBbEI7QUFDSDs7QUFFRCxhQUFXQyxVQUFYLEdBQXdCO0FBQ3BCLFdBQU9KLE1BQVA7QUFDSDs7QUFFRCxhQUFXSyxnQkFBWCxHQUE4QjtBQUMxQjtBQUNBLFVBQU1DLElBQUksR0FBR1IsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUNBLFVBQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLDJCQUFELENBQXZCOztBQUNBLFVBQU1VLElBQUksR0FBR1YsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUVBLFdBQU87QUFDSFcsTUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFFBQUFBLFFBQVEsRUFBRWIsS0FBSyxDQUFDYyxvQkFEYjtBQUVIQyxRQUFBQSxVQUFVLEVBQUVOLElBRlQ7QUFHSE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZixVQUFVLENBQUNJLE9BQVEsV0FEMUI7QUFFRlksVUFBQUEsRUFBRSxFQUFHLEdBQUVoQixVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEgsT0FESjtBQVNIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURWO0FBRU5OLFFBQUFBLFVBQVUsRUFBRUwsT0FGTjtBQUdOTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ2tCLFFBQVM7QUFGekI7QUFIQSxPQVRQO0FBaUJIRSxNQUFBQSxLQUFLLEVBQUU7QUFDSFQsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNxQixlQURiO0FBRUhOLFFBQUFBLFVBQVUsRUFBRUosSUFGVDtBQUdISyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ0ksT0FBUSxLQUQxQjtBQUVGWSxVQUFBQSxFQUFFLEVBQUcsR0FBRWhCLFVBQVUsQ0FBQ3FCLElBQUs7QUFGckI7QUFISDtBQWpCSixLQUFQO0FBMEJIOztBQXpDdUI7O0FBNEM1QkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkuc2NoZW1hLmpzb25cIik7XG5cbmNsYXNzIENvbXBhbnkgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLmNvbXBhbnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IHJlcXVpcmUoXCIuL2FjY291bnRzL2FjY291bnRzLm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvd25lcjoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBVc2VyLFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5vd25lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjY291bnRzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBBY2NvdW50LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmFjY291bnRzfS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkhhc01hbnlSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBNZW51LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLm1lbnV9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21wYW55O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;company.schema.json\&quot;);\n\nclass Company extends Model {\n    static get tableName() {\n        return tableNames.company;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const User &#x3D; require(\&quot;..&#x2F;user&#x2F;user.model\&quot;);\n        const Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.model\&quot;);\n        const Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.model\&quot;);\n\n        return {\n            owner: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.company}.owner_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            accounts: {\n                relation: Model.HasManyRelation,\n                modelClass: Account,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.accounts}.company_id&#x60;,\n                },\n            },\n            menus: {\n                relation: Model.HasManyRelation,\n                modelClass: Menu,\n                join: {\n                    from: &#x60;${tableNames.company}.id&#x60;,\n                    to: &#x60;${tableNames.menu}.company_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nmodule.exports &#x3D; Company;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8b&#x2F;companymodel_8b713279ce3af8b604431fcbf24964b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2854&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5514,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5511,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Company&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 241,
                    &quot;endOffset&quot;: 241,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 280,
                    &quot;endOffset&quot;: 332,
                    &quot;count&quot;: 9
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 343,
                    &quot;endOffset&quot;: 384,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 395,
                    &quot;endOffset&quot;: 1298,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; {\n  admin: \&quot;admin\&quot;,\n  owner: \&quot;owner\&quot;,\n  customer: \&quot;customer\&quot;,\n  staff: \&quot;staff\&quot;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFkbWluIiwib3duZXIiLCJjdXN0b21lciIsInN0YWZmIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLEtBQUssRUFBRSxPQURNO0FBRWJDLEVBQUFBLEtBQUssRUFBRSxPQUZNO0FBR2JDLEVBQUFBLFFBQVEsRUFBRSxVQUhHO0FBSWJDLEVBQUFBLEtBQUssRUFBRTtBQUpNLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRtaW46IFwiYWRtaW5cIixcbiAgICBvd25lcjogXCJvd25lclwiLFxuICAgIGN1c3RvbWVyOiBcImN1c3RvbWVyXCIsXG4gICAgc3RhZmY6IFwic3RhZmZcIixcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; {\n    admin: \&quot;admin\&quot;,\n    owner: \&quot;owner\&quot;,\n    customer: \&quot;customer\&quot;,\n    staff: \&quot;staff\&quot;,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;c3&#x2F;role_c386996d0c7428ed82a7fa0a3ec37236.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2855&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 789,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 786,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\n\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  scopedItems\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\n\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\n\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\n\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.owner_id &#x3D; req.user.id;\n  companyService.create(req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n  companyService.getAllCompanies().then(companies &#x3D;&gt; {\n    res.json(scopedItems(req.user, companies));\n  }).catch(next);\n}\n\nfunction getMyCompanies(req, res, next) {\n  companyService.getMyCompanies(req.user.id).then(companies &#x3D;&gt; companies ? res.json(companies) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyById(req, res, next) {\n  &#x2F;&#x2F; owner can get his company and the admin can get any company\n  companyService.getCompanyById(req.params.id).then(company &#x3D;&gt; {\n    if (company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    res.json(company);\n  }).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company\n  companyService.updateCompany({\n    id: req.params.id,\n    owner_id: req.user.id\n  }, req.body).then(company &#x3D;&gt; res.json(company)).catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company\n  companyService._delete({\n    id: parseInt(req.params.id),\n    owner_id: req.user.id\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: parseInt(req.params.id)\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiY29tcGFueVNlcnZpY2UiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJzY29wZWRJdGVtcyIsIkFjY291bnQiLCJNZW51IiwiT3JkZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsInBhdGNoIiwidXBkYXRlIiwiZ2V0IiwiYWRtaW4iLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRNeUNvbXBhbmllcyIsImdldENvbXBhbnlCeUlkIiwiZGVsZXRlIiwiX2RlbGV0ZUNvbXBhbnkiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJvd25lcl9pZCIsInVzZXIiLCJpZCIsInRoZW4iLCJjb21wYW55IiwianNvbiIsImNhdGNoIiwiY29tcGFuaWVzIiwic2VuZFN0YXR1cyIsInBhcmFtcyIsInJvbGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQ29tcGFueSIsIl9kZWxldGUiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsc0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyx5QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVPLEVBQUFBO0FBQUYsSUFBa0JQLE9BQU8sQ0FBQyx5QkFBRCxDQUEvQjs7QUFF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QURMLENBQ2E7QUFBRVosSUFBQUEsRUFBRSxFQUFFYSxRQUFRLENBQUNuQixHQUFHLENBQUNhLE1BQUosQ0FBV1AsRUFBWixDQUFkO0FBQStCRixJQUFBQSxRQUFRLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQztBQUFsRCxHQURiLEVBRUtDLElBRkwsQ0FFVSxNQUFNO0FBQ1JOLElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixDQUFTO0FBQUVILE1BQUFBLEVBQUUsRUFBRWEsUUFBUSxDQUFDbkIsR0FBRyxDQUFDYSxNQUFKLENBQVdQLEVBQVo7QUFBZCxLQUFUO0FBQ0gsR0FKTCxFQUtLSSxLQUxMLENBS1dSLElBTFg7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2NvbXBhbnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY29tcGFueS5zZXJ2aWNlXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCB7IHNjb3BlZEl0ZW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvcGVybWlzc2lvbnNcIik7XG5cbmNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy9hY2NvdW50cy5yb3V0ZXNcIik7XG5jb25zdCBNZW51ID0gcmVxdWlyZShcIi4vbWVudS9tZW51LnJvdXRlc1wiKTtcbmNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4vb3JkZXIvb3JkZXIucm91dGVzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnkvMS9hY2NvdW50c1xucm91dGVyLnVzZShcIi86Y29tcGFueV9pZC9hY2NvdW50c1wiLCBBY2NvdW50KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvbWVudVwiLCBNZW51KTtcbnJvdXRlci51c2UoXCIvOmNvbXBhbnlfaWQvb3JkZXJcIiwgT3JkZXIpO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmdldChcIi9cIiwgQXV0aChbUm9sZS5hZG1pbl0pLCBnZXRBbGxDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi9taW5lXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgZ2V0TXlDb21wYW5pZXMpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aChbUm9sZS5hZG1pbiwgUm9sZS5vd25lcl0pLCBnZXRDb21wYW55QnlJZCk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLmFkbWluLCBSb2xlLm93bmVyXSksIF9kZWxldGVDb21wYW55KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5Lm93bmVyX2lkID0gcmVxLnVzZXIuaWQ7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmNyZWF0ZShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbmllcyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC5nZXRBbGxDb21wYW5pZXMoKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbihzY29wZWRJdGVtcyhyZXEudXNlciwgY29tcGFuaWVzKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbmZ1bmN0aW9uIGdldE15Q29tcGFuaWVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldE15Q29tcGFuaWVzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigoY29tcGFuaWVzKSA9PlxuICAgICAgICAgICAgY29tcGFuaWVzID8gcmVzLmpzb24oY29tcGFuaWVzKSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb21wYW55QnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG93bmVyIGNhbiBnZXQgaGlzIGNvbXBhbnkgYW5kIHRoZSBhZG1pbiBjYW4gZ2V0IGFueSBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlCeUlkKHJlcS5wYXJhbXMuaWQpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY29tcGFueS5vd25lcl9pZCAhPT0gcmVxLnVzZXIuaWQgJiZcbiAgICAgICAgICAgICAgICByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMuanNvbihjb21wYW55KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueVxuICAgIGNvbXBhbnlTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVDb21wYW55KHsgaWQ6IHJlcS5wYXJhbXMuaWQsIG93bmVyX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHJlcy5qc29uKGNvbXBhbnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDb21wYW55KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55XG4gICAgY29tcGFueVNlcnZpY2VcbiAgICAgICAgLl9kZWxldGUoeyBpZDogcGFyc2VJbnQocmVxLnBhcmFtcy5pZCksIG93bmVyX2lkOiByZXEudXNlci5pZCB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXMuanNvbih7IGlkOiBwYXJzZUludChyZXEucGFyYW1zLmlkKSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;company.validators\&quot;);\nconst companyService &#x3D; require(\&quot;.&#x2F;company.service\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { scopedItems } &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;permissions\&quot;);\n\nconst Account &#x3D; require(\&quot;.&#x2F;accounts&#x2F;accounts.routes\&quot;);\nconst Menu &#x3D; require(\&quot;.&#x2F;menu&#x2F;menu.routes\&quot;);\nconst Order &#x3D; require(\&quot;.&#x2F;order&#x2F;order.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;1&#x2F;accounts\nrouter.use(\&quot;&#x2F;:company_id&#x2F;accounts\&quot;, Account);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;menu\&quot;, Menu);\nrouter.use(\&quot;&#x2F;:company_id&#x2F;order\&quot;, Order);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin]), getAllCompanies);\nrouter.get(\&quot;&#x2F;mine\&quot;, Auth([Role.owner]), getMyCompanies);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), getCompanyById);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.admin, Role.owner]), _deleteCompany);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.owner_id &#x3D; req.user.id;\n    companyService\n        .create(req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction getAllCompanies(req, res, next) {\n    companyService\n        .getAllCompanies()\n        .then((companies) &#x3D;&gt; {\n            res.json(scopedItems(req.user, companies));\n        })\n        .catch(next);\n}\nfunction getMyCompanies(req, res, next) {\n    companyService\n        .getMyCompanies(req.user.id)\n        .then((companies) &#x3D;&gt;\n            companies ? res.json(companies) : res.sendStatus(404)\n        )\n        .catch(next);\n}\nfunction getCompanyById(req, res, next) {\n    &#x2F;&#x2F; owner can get his company and the admin can get any company\n    companyService\n        .getCompanyById(req.params.id)\n        .then((company) &#x3D;&gt; {\n            if (\n                company.owner_id !&#x3D;&#x3D; req.user.id &amp;&amp;\n                req.user.role !&#x3D;&#x3D; Role.admin\n            ) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n\n            res.json(company);\n        })\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company\n    companyService\n        .updateCompany({ id: req.params.id, owner_id: req.user.id }, req.body)\n        .then((company) &#x3D;&gt; res.json(company))\n        .catch(next);\n}\n\nfunction _deleteCompany(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company\n    companyService\n        ._delete({ id: parseInt(req.params.id), owner_id: req.user.id })\n        .then(() &#x3D;&gt; {\n            res.json({ id: parseInt(req.params.id) });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2a&#x2F;companyroutes_2accae81b914ebc49b8ad824faf130cd.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2856&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 11663,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 11660,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1186,
                    &quot;endOffset&quot;: 1338,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1340,
                    &quot;endOffset&quot;: 1505,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1507,
                    &quot;endOffset&quot;: 1681,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1683,
                    &quot;endOffset&quot;: 2058,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2060,
                    &quot;endOffset&quot;: 2281,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2283,
                    &quot;endOffset&quot;: 2553,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    logo_url: Joi.string(),\n    website_url: Joi.string(),\n    email: Joi.string().email().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    email: Joi.string().email().empty(\&quot;\&quot;),\n    owner: Joi.number().empty(\&quot;\&quot;),\n    logo_url: Joi.string().empty(\&quot;\&quot;),\n    website_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkudmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsImxvZ29fdXJsIiwid2Vic2l0ZV91cmwiLCJlbWFpbCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiLCJvd25lciIsIm51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsUUFBUSxFQUFFZCxHQUFHLENBQUNXLE1BQUosRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosRUFKUztBQUt0QkssSUFBQUEsS0FBSyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFLLEtBQWIsR0FBcUJKLFFBQXJCO0FBTGUsR0FBWCxDQUFmO0FBT0FWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQ7O0FBV0FMLE9BQU8sQ0FBQ2MsWUFBUixHQUF1QixDQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNVyxXQUFXLEdBQUc7QUFDaEJSLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQk4sSUFBQUEsV0FBVyxFQUFFYixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQixDQUZHO0FBR2hCSCxJQUFBQSxLQUFLLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYUssS0FBYixHQUFxQkcsS0FBckIsQ0FBMkIsRUFBM0IsQ0FIUztBQUloQkMsSUFBQUEsS0FBSyxFQUFFcEIsR0FBRyxDQUFDcUIsTUFBSixHQUFhRixLQUFiLENBQW1CLEVBQW5CLENBSlM7QUFLaEJMLElBQUFBLFFBQVEsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFRLEtBQWIsQ0FBbUIsRUFBbkIsQ0FMTTtBQU1oQkosSUFBQUEsV0FBVyxFQUFFZixHQUFHLENBQUNXLE1BQUosR0FBYVEsS0FBYixDQUFtQixFQUFuQjtBQU5HLEdBQXBCO0FBU0EsUUFBTVgsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV1MsV0FBWCxDQUFmO0FBRUFoQixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQWJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBsb2dvX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICB3ZWJzaXRlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIG93bmVyOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIGxvZ29fdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgICAgIHdlYnNpdGVfdXJsOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        logo_url: Joi.string(),\n        website_url: Joi.string(),\n        email: Joi.string().email().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        email: Joi.string().email().empty(\&quot;\&quot;),\n        owner: Joi.number().empty(\&quot;\&quot;),\n        logo_url: Joi.string().empty(\&quot;\&quot;),\n        website_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;3c&#x2F;companyvalidators_3ce01f397e22205413767a4933ebdfd8.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2857&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4153,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4150,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 213,
                    &quot;endOffset&quot;: 489,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 515,
                    &quot;endOffset&quot;: 878,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n  create,\n  updateCompany,\n  getAllCompanies,\n  getMyCompanies,\n  getCompanyById,\n  _delete\n};\n\nasync function create(params) {\n  &#x2F;&#x2F; validate if company name exists\n  if (await getCompany({\n    name: params.name\n  })) {\n    error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n  }\n\n  const company &#x3D; await Company.query().insert(params);\n  return company;\n}\n\nasync function updateCompany(queryParams, params) {\n  const company &#x3D; await getCompany({ ...queryParams\n  });\n\n  if (!company) {\n    error(\&quot;Unauthorized\&quot;);\n  } &#x2F;&#x2F; validate if name was changed\n\n\n  if (params.name &amp;&amp; company.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCompany({\n    name: params.name\n  }))) {\n    error(&#x60;Name ${params.name} is already taken&#x60;);\n  }\n\n  const updatedCompany &#x3D; await Company.query().patchAndFetchById(queryParams.id, { ...params\n  });\n  return updatedCompany;\n}\n\nasync function getAllCompanies() {\n  const companies &#x3D; await Company.query();\n  return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n  const companies &#x3D; await Company.query().where({\n    owner_id: ownerId\n  });\n  return companies;\n}\n\nasync function getCompanyById(id) {\n  const company &#x3D; await getCompany({\n    id\n  });\n  return company;\n}\n\nasync function _delete(queryParams) {\n  const tobeDeleted &#x3D; await getCompany(queryParams);\n\n  if (tobeDeleted) {\n    return await Company.query().delete().where({ ...queryParams\n    });\n  }\n\n  return error(\&quot;Forbidden\&quot;);\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCompany(param) {\n  const company &#x3D; await Company.query().where({ ...param\n  }).first();\n  return company;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbnkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDb21wYW55IiwicmVxdWlyZSIsImVycm9yIiwiY3JlYXRlRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlIiwidXBkYXRlQ29tcGFueSIsImdldEFsbENvbXBhbmllcyIsImdldE15Q29tcGFuaWVzIiwiZ2V0Q29tcGFueUJ5SWQiLCJfZGVsZXRlIiwicGFyYW1zIiwiZ2V0Q29tcGFueSIsIm5hbWUiLCJjb21wYW55IiwicXVlcnkiLCJpbnNlcnQiLCJxdWVyeVBhcmFtcyIsInVwZGF0ZWRDb21wYW55IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJpZCIsImNvbXBhbmllcyIsIm93bmVySWQiLCJ3aGVyZSIsIm93bmVyX2lkIiwidG9iZURlbGV0ZWQiLCJkZWxldGUiLCJwYXJhbSIsImZpcnN0Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUFyQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxhQUZhO0FBR2JDLEVBQUFBLGVBSGE7QUFJYkMsRUFBQUEsY0FKYTtBQUtiQyxFQUFBQSxjQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsTUFBZixDQUFzQk0sTUFBdEIsRUFBOEI7QUFDMUI7QUFDQSxNQUFJLE1BQU1DLFVBQVUsQ0FBQztBQUFFQyxJQUFBQSxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0U7QUFBZixHQUFELENBQXBCLEVBQTZDO0FBQ3pDWixJQUFBQSxLQUFLLENBQUMsV0FBV1UsTUFBTSxDQUFDRSxJQUFsQixHQUF5Qix5QkFBMUIsQ0FBTDtBQUNIOztBQUVELFFBQU1DLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQWdCQyxNQUFoQixDQUF1QkwsTUFBdkIsQ0FBdEI7QUFDQSxTQUFPRyxPQUFQO0FBQ0g7O0FBRUQsZUFBZVIsYUFBZixDQUE2QlcsV0FBN0IsRUFBMENOLE1BQTFDLEVBQWtEO0FBQzlDLFFBQU1HLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUMsRUFBRSxHQUFHSztBQUFMLEdBQUQsQ0FBaEM7O0FBRUEsTUFBSSxDQUFDSCxPQUFMLEVBQWM7QUFDVmIsSUFBQUEsS0FBSyxDQUFDLGNBQUQsQ0FBTDtBQUNILEdBTDZDLENBTzlDOzs7QUFDQSxNQUNJVSxNQUFNLENBQUNFLElBQVAsSUFDQUMsT0FBTyxDQUFDRCxJQUFSLEtBQWlCRixNQUFNLENBQUNFLElBRHhCLEtBRUMsTUFBTUQsVUFBVSxDQUFDO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBTSxDQUFDRTtBQUFmLEdBQUQsQ0FGakIsQ0FESixFQUlFO0FBQ0VaLElBQUFBLEtBQUssQ0FBRSxRQUFPVSxNQUFNLENBQUNFLElBQUssbUJBQXJCLENBQUw7QUFDSDs7QUFFRCxRQUFNSyxjQUFjLEdBQUcsTUFBTW5CLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JJLGlCQUFoQixDQUN6QkYsV0FBVyxDQUFDRyxFQURhLEVBRXpCLEVBQ0ksR0FBR1Q7QUFEUCxHQUZ5QixDQUE3QjtBQU9BLFNBQU9PLGNBQVA7QUFDSDs7QUFFRCxlQUFlWCxlQUFmLEdBQWlDO0FBQzdCLFFBQU1jLFNBQVMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDZ0IsS0FBUixFQUF4QjtBQUNBLFNBQU9NLFNBQVA7QUFDSDs7QUFFRCxlQUFlYixjQUFmLENBQThCYyxPQUE5QixFQUF1QztBQUNuQyxRQUFNRCxTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FBZ0JRLEtBQWhCLENBQXNCO0FBQzFDQyxJQUFBQSxRQUFRLEVBQUVGO0FBRGdDLEdBQXRCLENBQXhCO0FBR0EsU0FBT0QsU0FBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsQ0FBOEJXLEVBQTlCLEVBQWtDO0FBQzlCLFFBQU1OLE9BQU8sR0FBRyxNQUFNRixVQUFVLENBQUM7QUFBRVEsSUFBQUE7QUFBRixHQUFELENBQWhDO0FBQ0EsU0FBT04sT0FBUDtBQUNIOztBQUVELGVBQWVKLE9BQWYsQ0FBdUJPLFdBQXZCLEVBQW9DO0FBQ2hDLFFBQU1RLFdBQVcsR0FBRyxNQUFNYixVQUFVLENBQUNLLFdBQUQsQ0FBcEM7O0FBRUEsTUFBSVEsV0FBSixFQUFpQjtBQUNiLFdBQU8sTUFBTTFCLE9BQU8sQ0FBQ2dCLEtBQVIsR0FDUlcsTUFEUSxHQUVSSCxLQUZRLENBRUYsRUFBRSxHQUFHTjtBQUFMLEtBRkUsQ0FBYjtBQUdIOztBQUVELFNBQU9oQixLQUFLLENBQUMsV0FBRCxDQUFaO0FBQ0gsQyxDQUVEO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUVBLGVBQWVXLFVBQWYsQ0FBMEJlLEtBQTFCLEVBQWlDO0FBQzdCLFFBQU1iLE9BQU8sR0FBRyxNQUFNZixPQUFPLENBQUNnQixLQUFSLEdBQ2pCUSxLQURpQixDQUNYLEVBQUUsR0FBR0k7QUFBTCxHQURXLEVBRWpCQyxLQUZpQixFQUF0QjtBQUdBLFNBQU9kLE9BQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5jb25zdCBjcmVhdGVFcnJvciA9IHJlcXVpcmUoXCJodHRwLWVycm9yc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUNvbXBhbnksXG4gICAgZ2V0QWxsQ29tcGFuaWVzLFxuICAgIGdldE15Q29tcGFuaWVzLFxuICAgIGdldENvbXBhbnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gICAgLy8gdmFsaWRhdGUgaWYgY29tcGFueSBuYW1lIGV4aXN0c1xuICAgIGlmIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpIHtcbiAgICAgICAgZXJyb3IoJ05hbWUgXCInICsgcGFyYW1zLm5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcGFueShxdWVyeVBhcmFtcywgcGFyYW1zKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyAuLi5xdWVyeVBhcmFtcyB9KTtcblxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgICBlcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBpZiBuYW1lIHdhcyBjaGFuZ2VkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjb21wYW55Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRDb21wYW55KHsgbmFtZTogcGFyYW1zLm5hbWUgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBOYW1lICR7cGFyYW1zLm5hbWV9IGlzIGFscmVhZHkgdGFrZW5gKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkQ29tcGFueSA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChcbiAgICAgICAgcXVlcnlQYXJhbXMuaWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gdXBkYXRlZENvbXBhbnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHtcbiAgICBjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBDb21wYW55LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNvbXBhbmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TXlDb21wYW5pZXMob3duZXJJZCkge1xuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IENvbXBhbnkucXVlcnkoKS53aGVyZSh7XG4gICAgICAgIG93bmVyX2lkOiBvd25lcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBjb21wYW5pZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGF3YWl0IGdldENvbXBhbnkoeyBpZCB9KTtcbiAgICByZXR1cm4gY29tcGFueTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGNvbnN0IHRvYmVEZWxldGVkID0gYXdhaXQgZ2V0Q29tcGFueShxdWVyeVBhcmFtcyk7XG5cbiAgICBpZiAodG9iZURlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENvbXBhbnkucXVlcnkoKVxuICAgICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgICAud2hlcmUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3IoXCJGb3JiaWRkZW5cIik7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIF9zb2Z0RGVsZXRlKGlkKSB7XG4vL21hcmsgYXMgaW5hY3RpdmVcbi8vICBhd2FpdCBDb21wYW55LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnkocGFyYW0pIHtcbiAgICBjb25zdCBjb21wYW55ID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBjb21wYW55O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Company &#x3D; require(\&quot;..&#x2F;company&#x2F;company.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\nconst createError &#x3D; require(\&quot;http-errors\&quot;);\n\nmodule.exports &#x3D; {\n    create,\n    updateCompany,\n    getAllCompanies,\n    getMyCompanies,\n    getCompanyById,\n    _delete,\n};\n\nasync function create(params) {\n    &#x2F;&#x2F; validate if company name exists\n    if (await getCompany({ name: params.name })) {\n        error(&#39;Name \&quot;&#39; + params.name + &#39;\&quot; is already registered&#39;);\n    }\n\n    const company &#x3D; await Company.query().insert(params);\n    return company;\n}\n\nasync function updateCompany(queryParams, params) {\n    const company &#x3D; await getCompany({ ...queryParams });\n\n    if (!company) {\n        error(\&quot;Unauthorized\&quot;);\n    }\n\n    &#x2F;&#x2F; validate if name was changed\n    if (\n        params.name &amp;&amp;\n        company.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCompany({ name: params.name }))\n    ) {\n        error(&#x60;Name ${params.name} is already taken&#x60;);\n    }\n\n    const updatedCompany &#x3D; await Company.query().patchAndFetchById(\n        queryParams.id,\n        {\n            ...params,\n        }\n    );\n\n    return updatedCompany;\n}\n\nasync function getAllCompanies() {\n    const companies &#x3D; await Company.query();\n    return companies;\n}\n\nasync function getMyCompanies(ownerId) {\n    const companies &#x3D; await Company.query().where({\n        owner_id: ownerId,\n    });\n    return companies;\n}\n\nasync function getCompanyById(id) {\n    const company &#x3D; await getCompany({ id });\n    return company;\n}\n\nasync function _delete(queryParams) {\n    const tobeDeleted &#x3D; await getCompany(queryParams);\n\n    if (tobeDeleted) {\n        return await Company.query()\n            .delete()\n            .where({ ...queryParams });\n    }\n\n    return error(\&quot;Forbidden\&quot;);\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await Company.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCompany(param) {\n    const company &#x3D; await Company.query()\n        .where({ ...param })\n        .first();\n    return company;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;10&#x2F;companyservice_103976749abb46712c9f5147304425bb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2858&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7967,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7964,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 615,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 617,
                    &quot;endOffset&quot;: 1096,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1098,
                    &quot;endOffset&quot;: 1197,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMyCompanies&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1199,
                    &quot;endOffset&quot;: 1339,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1341,
                    &quot;endOffset&quot;: 1446,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1448,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompany&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1808,
                    &quot;endOffset&quot;: 1933,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;module.exports &#x3D; message &#x3D;&gt; {\n  const error &#x3D; new Error(message);\n  throw error;\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsT0FBRCxJQUFhO0FBQzFCLFFBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLE9BQVYsQ0FBZDtBQUNBLFFBQU1DLEtBQU47QUFDSCxDQUhEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;module.exports &#x3D; (message) &#x3D;&gt; {\n    const error &#x3D; new Error(message);\n    throw error;\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;fa&#x2F;error_fa67f28dedb39797d87045fcac49c533.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2859&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 690,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 687,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 106,
                    &quot;endOffset&quot;: 171,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n  if (user.role &#x3D;&#x3D; role.admin) return items;\n  return items.filter(item &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n  scopedItems\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb25zLmpzIl0sIm5hbWVzIjpbInJvbGUiLCJyZXF1aXJlIiwic2NvcGVkSXRlbXMiLCJ1c2VyIiwiaXRlbXMiLCJhZG1pbiIsImZpbHRlciIsIml0ZW0iLCJvd25lcl9pZCIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsS0FBM0IsRUFBa0M7QUFDOUIsTUFBSUQsSUFBSSxDQUFDSCxJQUFMLElBQWFBLElBQUksQ0FBQ0ssS0FBdEIsRUFBNkIsT0FBT0QsS0FBUDtBQUM3QixTQUFPQSxLQUFLLENBQUNFLE1BQU4sQ0FBY0MsSUFBRCxJQUFVQSxJQUFJLENBQUNDLFFBQUwsSUFBaUJMLElBQUksQ0FBQ00sRUFBN0MsQ0FBUDtBQUNIOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYlQsRUFBQUE7QUFEYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvbGUgPSByZXF1aXJlKFwiLi9yb2xlXCIpO1xuXG5mdW5jdGlvbiBzY29wZWRJdGVtcyh1c2VyLCBpdGVtcykge1xuICAgIGlmICh1c2VyLnJvbGUgPT0gcm9sZS5hZG1pbikgcmV0dXJuIGl0ZW1zO1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ub3duZXJfaWQgPT0gdXNlci5pZCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNjb3BlZEl0ZW1zLFxufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const role &#x3D; require(\&quot;.&#x2F;role\&quot;);\n\nfunction scopedItems(user, items) {\n    if (user.role &#x3D;&#x3D; role.admin) return items;\n    return items.filter((item) &#x3D;&gt; item.owner_id &#x3D;&#x3D; user.id);\n}\n\nmodule.exports &#x3D; {\n    scopedItems,\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;08&#x2F;permissions_089e905c4105820f9841c9d528f11f86.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2862&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1344,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1341,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;scopedItems&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 122,
                    &quot;endOffset&quot;: 261,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n  mergeParams: true\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n  try {\n    &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n    &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n    &#x2F;&#x2F; }\n    const accounts &#x3D; await Account.query().where({\n      company_id: req.params.company_id\n    });\n\n    if (!accounts) {\n      return res.status(404);\n    }\n\n    res.json(accounts);\n  } catch (error) {\n    next(error);\n  }\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJBY2NvdW50IiwicmVxdWlyZSIsIkNvbXBhbnkiLCJSb2xlIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJnZXQiLCJhZG1pbiIsIm93bmVyIiwiZ2V0QWNjb3VudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImFjY291bnRzIiwicXVlcnkiLCJ3aGVyZSIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGtCQUFELENBQXZCOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU07QUFBRUcsRUFBQUEsSUFBSSxFQUFFQyxJQUFSO0FBQWNDLEVBQUFBO0FBQWQsSUFBMEJMLE9BQU8sQ0FBQyw0QkFBRCxDQUF2Qzs7QUFFQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJPLE1BQW5CLENBQTBCO0FBQ3JDQyxFQUFBQSxXQUFXLEVBQUU7QUFEd0IsQ0FBMUIsQ0FBZjs7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkwsSUFBSSxDQUFDLENBQUNGLElBQUksQ0FBQ1EsS0FBTixFQUFhUixJQUFJLENBQUNTLEtBQWxCLENBQUQsQ0FBcEIsRUFBZ0ROLE9BQU8sRUFBdkQsRUFBMkRPLFdBQTNEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakI7O0FBRUEsZUFBZU0sV0FBZixDQUEyQkcsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN2QyxNQUFJO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTUMsUUFBUSxHQUFHLE1BQU1uQixPQUFPLENBQUNvQixLQUFSLEdBQWdCQyxLQUFoQixDQUFzQjtBQUN6Q0MsTUFBQUEsVUFBVSxFQUFFTixHQUFHLENBQUNPLE1BQUosQ0FBV0Q7QUFEa0IsS0FBdEIsQ0FBdkI7O0FBSUEsUUFBSSxDQUFDSCxRQUFMLEVBQWU7QUFDWCxhQUFPRixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLENBQVA7QUFDSDs7QUFFRFAsSUFBQUEsR0FBRyxDQUFDUSxJQUFKLENBQVNOLFFBQVQ7QUFDSCxHQWRELENBY0UsT0FBT08sS0FBUCxFQUFjO0FBQ1pSLElBQUFBLElBQUksQ0FBQ1EsS0FBRCxDQUFKO0FBQ0g7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnQgPSByZXF1aXJlKFwiLi9hY2NvdW50cy5tb2RlbFwiKTtcbmNvbnN0IENvbXBhbnkgPSByZXF1aXJlKFwiLi4vY29tcGFueS5tb2RlbFwiKTtcbmNvbnN0IFJvbGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcm9sZVwiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCwgaXNPd25lciB9ID0gcmVxdWlyZShcIi4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIEF1dGgoW1JvbGUuYWRtaW4sIFJvbGUub3duZXJdKSwgaXNPd25lcigpLCBnZXRBY2NvdW50cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50cyhyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGlmICghY29tcGFueSAmJiByZXEudXNlci5yb2xlICE9PSBSb2xlLmFkbWluKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50LnF1ZXJ5KCkud2hlcmUoe1xuICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjY291bnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oYWNjb3VudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Account &#x3D; require(\&quot;.&#x2F;accounts.model\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst router &#x3D; require(\&quot;express\&quot;).Router({\n    mergeParams: true,\n});\n\nrouter.get(\&quot;&#x2F;\&quot;, Auth([Role.admin, Role.owner]), isOwner(), getAccounts);\n\nmodule.exports &#x3D; router;\n\nasync function getAccounts(req, res, next) {\n    try {\n        &#x2F;&#x2F; if (!company &amp;&amp; req.user.role !&#x3D;&#x3D; Role.admin) {\n        &#x2F;&#x2F;     return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n        &#x2F;&#x2F; }\n\n        const accounts &#x3D; await Account.query().where({\n            company_id: req.params.company_id,\n        });\n\n        if (!accounts) {\n            return res.status(404);\n        }\n\n        res.json(accounts);\n    } catch (error) {\n        next(error);\n    }\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f5&#x2F;accountsroutes_f54e96c4db6e4acb21a322f351ad9a58.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2863&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3778,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3775,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAccounts&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 470,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n  static get tableName() {\n    return tableNames.accounts;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n}\n\nmodule.exports &#x3D; Account;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRzLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJzY2hlbWEiLCJBY2NvdW50IiwidGFibGVOYW1lIiwiYWNjb3VudHMiLCJqc29uU2NoZW1hIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUVBLE1BQU1HLE9BQU4sU0FBc0JKLEtBQXRCLENBQTRCO0FBQ3hCLGFBQVdLLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0gsVUFBVSxDQUFDSSxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0osTUFBUDtBQUNIOztBQVB1Qjs7QUFVNUJLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkwsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwib2JqZWN0aW9uXCIpO1xuY29uc3QgdGFibGVOYW1lcyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25zdGFudHMvdGFibGVOYW1lc1wiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL2FjY291bnRzLnNjaGVtYS5qc29uXCIpO1xuXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5hY2NvdW50cztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGpzb25TY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFjY291bnQ7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;accounts.schema.json\&quot;);\n\nclass Account extends Model {\n    static get tableName() {\n        return tableNames.accounts;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n}\n\nmodule.exports &#x3D; Account;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;01&#x2F;accountsmodel_01a1ad309c7db6ca01e6d4ebe4774684.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2864&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 1669,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Account&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 245,
                    &quot;endOffset&quot;: 245,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 284,
                    &quot;endOffset&quot;: 337,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 348,
                    &quot;endOffset&quot;: 389,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\n\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  req.body.company_id &#x3D; parseInt(req.params.company_id);\n  menuService.createMenu(req.body).then(menu &#x3D;&gt; res.json(menu)).catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  menuService.getAllCompanyMenus({\n    id: company_id\n  }).then(menus &#x3D;&gt; menus ? res.json(menus) : res.sendStatus(404)).catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n  menuService.getMenuById(req.params.id).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService.updateMenu(req.params.id, req.body);\n  }).then(menu &#x3D;&gt; menu ? res.json(menu) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company menu\n  Company.query().where({\n    owner: req.user.id\n  }).first().then(company &#x3D;&gt; {\n    if (!company) {\n      res.status(401);\n      error(\&quot;Unathorized\&quot;);\n    }\n\n    return menuService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiQ29tcGFueSIsImF1dGgiLCJBdXRoIiwiaXNPd25lciIsIlJvbGUiLCJDYXRlZ29yeSIsIm1lbnVTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlTWVudSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYm9keSIsImNvbXBhbnlfaWQiLCJwYXJzZUludCIsInBhcmFtcyIsImNyZWF0ZU1lbnUiLCJ0aGVuIiwibWVudSIsImpzb24iLCJjYXRjaCIsImlkIiwibWVudXMiLCJzZW5kU3RhdHVzIiwicXVlcnkiLCJ3aGVyZSIsInVzZXIiLCJmaXJzdCIsImNvbXBhbnkiLCJzdGF0dXMiLCJ1cGRhdGVNZW51IiwiX2RlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsa0JBQUQsQ0FBOUM7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQk4sT0FBTyxDQUFDLDRCQUFELENBQXZDOztBQUNBLE1BQU1PLElBQUksR0FBR1AsT0FBTyxDQUFDLHFCQUFELENBQXBCOztBQUNBLE1BQU1RLFFBQVEsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1T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aEJMLEVBaUJLRCxLQWpCTCxDQWlCV1QsSUFqQlg7QUFrQkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHsgY3JlYXRlU2NoZW1hLCB1cGRhdGVTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL21lbnUudmFsaWRhdG9yXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5LnJvdXRlc1wiKTtcblxuY29uc3QgbWVudVNlcnZpY2UgPSByZXF1aXJlKFwiLi9tZW51LnNlcnZpY2VcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbi8vIGFwaS92MS9jb21wYW55L2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeVxucm91dGVyLnVzZShcIi86bWVudV9pZC9jYXRlZ29yeVwiLCBDYXRlZ29yeSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi9cIiwgZ2V0QWxsQ29tcGFueU1lbnVzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldE1lbnVCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCB1cGRhdGVTY2hlbWEsIHVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIF9kZWxldGVNZW51KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG5cbmZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcS5ib2R5LmNvbXBhbnlfaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmNvbXBhbnlfaWQpO1xuICAgIG1lbnVTZXJ2aWNlXG4gICAgICAgIC5jcmVhdGVNZW51KHJlcS5ib2R5KVxuICAgICAgICAudGhlbigobWVudSkgPT4gcmVzLmpzb24obWVudSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29tcGFueU1lbnVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjb21wYW55X2lkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgbWVudVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlNZW51cyh7IGlkOiBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChtZW51cykgPT4gKG1lbnVzID8gcmVzLmpzb24obWVudXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVudUJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBtZW51U2VydmljZVxuICAgICAgICAuZ2V0TWVudUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKG1lbnUpID0+IChtZW51ID8gcmVzLmpzb24obWVudSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBtZW51XG5cbiAgICBDb21wYW55LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgb3duZXI6IHJlcS51c2VyLmlkIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC50aGVuKChjb21wYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJVbmF0aG9yaXplZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTZXJ2aWNlLnVwZGF0ZU1lbnUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigobWVudSkgPT4gKG1lbnUgPyByZXMuanNvbihtZW51KSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVNZW51KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gb25seSBvd25lciBkZWxldGUgY2FuIGRlbGV0ZSB0aGVpciBjb21wYW55IG1lbnVcblxuICAgIENvbXBhbnkucXVlcnkoKVxuICAgICAgICAud2hlcmUoeyBvd25lcjogcmVxLnVzZXIuaWQgfSlcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKGNvbXBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICghY29tcGFueSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICAgICAgICAgICAgICBlcnJvcihcIlVuYXRob3JpemVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;menu.validator\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.routes\&quot;);\n\nconst menuService &#x3D; require(\&quot;.&#x2F;menu.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company&#x2F;company_id&#x2F;menu_id&#x2F;category\nrouter.use(\&quot;&#x2F;:menu_id&#x2F;category\&quot;, Category);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyMenus);\nrouter.get(\&quot;&#x2F;:id\&quot;, getMenuById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteMenu);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    req.body.company_id &#x3D; parseInt(req.params.company_id);\n    menuService\n        .createMenu(req.body)\n        .then((menu) &#x3D;&gt; res.json(menu))\n        .catch(next);\n}\n\nfunction getAllCompanyMenus(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    menuService\n        .getAllCompanyMenus({ id: company_id })\n        .then((menus) &#x3D;&gt; (menus ? res.json(menus) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getMenuById(req, res, next) {\n    menuService\n        .getMenuById(req.params.id)\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService.updateMenu(req.params.id, req.body);\n        })\n        .then((menu) &#x3D;&gt; (menu ? res.json(menu) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction _deleteMenu(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company menu\n\n    Company.query()\n        .where({ owner: req.user.id })\n        .first()\n        .then((company) &#x3D;&gt; {\n            if (!company) {\n                res.status(401);\n                error(\&quot;Unathorized\&quot;);\n            }\n\n            return menuService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;99&#x2F;menuroutes_997150f167642e0bf13a4d7cf8d13bc4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2952&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 954,
                    &quot;endOffset&quot;: 1123,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1085,
                    &quot;endOffset&quot;: 1107,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1125,
                    &quot;endOffset&quot;: 1348,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1278,
                    &quot;endOffset&quot;: 1332,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1311,
                    &quot;endOffset&quot;: 1332,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1350,
                    &quot;endOffset&quot;: 1502,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1504,
                    &quot;endOffset&quot;: 1879,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1881,
                    &quot;endOffset&quot;: 2321,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    description: Joi.string().required(),\n    cover_url: Joi.string()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    cover_url: Joi.string().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUudmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIkpvaSIsInJlcXVpcmUiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJleHBvcnRzIiwiY3JlYXRlU2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInNjaGVtYSIsIm9iamVjdCIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiY292ZXJfdXJsIiwidXBkYXRlU2NoZW1hIiwic2NoZW1hUnVsZXMiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxZQUFSLEdBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJDLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFEZ0I7QUFFdEJDLElBQUFBLFdBQVcsRUFBRWIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFGUztBQUd0QkUsSUFBQUEsU0FBUyxFQUFFZCxHQUFHLENBQUNXLE1BQUo7QUFIVyxHQUFYLENBQWY7QUFLQVQsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FQRDs7QUFTQUwsT0FBTyxDQUFDWSxZQUFSLEdBQXVCLENBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3ZDLFFBQU1TLFdBQVcsR0FBRztBQUNoQk4sSUFBQUEsSUFBSSxFQUFFVixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixDQUFtQixFQUFuQixDQURVO0FBRWhCSixJQUFBQSxXQUFXLEVBQUViLEdBQUcsQ0FBQ1csTUFBSixHQUFhTSxLQUFiLENBQW1CLEVBQW5CLENBRkc7QUFHaEJILElBQUFBLFNBQVMsRUFBRWQsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFwQjtBQU1BLFFBQU1ULE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdPLFdBQVgsQ0FBZjtBQUVBZCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZShcImpvaVwiKTtcbmNvbnN0IHZhbGlkYXRlUmVxdWVzdCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9fbWlkZGxld2FyZXMvdmFsaWRhdGVSZXF1ZXN0XCIpO1xuXG5leHBvcnRzLmNyZWF0ZVNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBjb3Zlcl91cmw6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdChzY2hlbWFSdWxlcyk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        description: Joi.string().required(),\n        cover_url: Joi.string(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        cover_url: Joi.string().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0b&#x2F;menuvalidator_0bff2254f7ebb231be87a9bba47a9cd7.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2953&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3165,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 216,
                    &quot;endOffset&quot;: 418,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 444,
                    &quot;endOffset&quot;: 689,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n}); &#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\n\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  &#x2F;&#x2F; check if owner of company\n  const payload &#x3D; req.body;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.createcategory(payload);\n  }).then(category &#x3D;&gt; res.json(category)).catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n  const {\n    company_id\n  } &#x3D; req.params;\n  categoryService.getAllCompanyCategorys({\n    company_id\n  }).then(categories &#x3D;&gt; categories ? res.json(categories) : res.sendStatus(404)).catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n  categoryService.getCategoryById(req.params.id).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction update(req, res, next) {\n  &#x2F;&#x2F; only owner can update their company category\n  const payload &#x3D; req.body;\n  payload.menu_id &#x3D; req.params.menu_id;\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService.updateCategory(req.params.id, payload);\n  }).then(category &#x3D;&gt; category ? res.json(category) : res.sendStatus(404)).catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n  &#x2F;&#x2F; only owner delete can delete their company category\n  isOwner(req.user.id, req.params.company_id).then(owner &#x3D;&gt; {\n    if (!owner) {\n      return res.status(401).json({\n        message: \&quot;Unauthorized\&quot;\n      });\n    }\n\n    return categoryService._delete({\n      id: req.params.id,\n      company_id: req.params.company_id\n    });\n  }).then(() &#x3D;&gt; {\n    res.json({\n      id: req.params.id\n    });\n  }).catch(next);\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function isOwner(owner_id, company_id) {\n  const bool &#x3D; await Company.query().where({\n    owner_id,\n    id: company_id\n  }).first();\n  return bool;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZVNjaGVtYSIsInVwZGF0ZVNjaGVtYSIsImF1dGgiLCJBdXRoIiwiUm9sZSIsIkNvbXBhbnkiLCJJdGVtIiwiY2F0ZWdvcnlTZXJ2aWNlIiwiZXJyb3IiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJvd25lciIsImNyZWF0ZSIsImdldCIsImdldEFsbENvbXBhbnlDYXRlZ29yeXMiLCJnZXRDYXRlZ29yeUJ5SWQiLCJwYXRjaCIsInVwZGF0ZSIsImRlbGV0ZSIsIl9kZWxldGVDYXRlZ29yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGF5bG9hZCIsImJvZHkiLCJpc093bmVyIiwidXNlciIsImlkIiwicGFyYW1zIiwiY29tcGFueV9pZCIsInRoZW4iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNyZWF0ZWNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjYXRjaCIsImNhdGVnb3JpZXMiLCJzZW5kU3RhdHVzIiwibWVudV9pZCIsInVwZGF0ZUNhdGVnb3J5IiwiX2RlbGV0ZSIsIm93bmVyX2lkIiwiYm9vbCIsInF1ZXJ5Iiwid2hlcmUiLCJmaXJzdCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsdUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJKLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNSyxJQUFJLEdBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFFQSxNQUFNTyxJ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T0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNIOztBQUNELFdBQU8vQixlQUFlLENBQUN1QyxPQUFoQixDQUF3QjtBQUMzQmQsTUFBQUEsRUFBRSxFQUFFUCxHQUFHLENBQUNRLE1BQUosQ0FBV0QsRUFEWTtBQUUzQkUsTUFBQUEsVUFBVSxFQUFFVCxHQUFHLENBQUNRLE1BQUosQ0FBV0M7QUFGSSxLQUF4QixDQUFQO0FBSUgsR0FUTCxFQVVLQyxJQVZMLENBVVUsTUFBTTtBQUNSVCxJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBUztBQUFFTCxNQUFBQSxFQUFFLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRDtBQUFqQixLQUFUO0FBQ0gsR0FaTCxFQWFLUyxLQWJMLENBYVdkLElBYlg7QUFjSCxDLENBRUQ7OztBQUNBLGVBQWVHLE9BQWYsQ0FBdUJpQixRQUF2QixFQUFpQ2IsVUFBakMsRUFBNkM7QUFDekMsUUFBTWMsSUFBSSxHQUFHLE1BQU0zQyxPQUFPLENBQUM0QyxLQUFSLEdBQ2RDLEtBRGMsQ0FDUjtBQUFFSCxJQUFBQSxRQUFGO0FBQVlmLElBQUFBLEVBQUUsRUFBRUU7QUFBaEIsR0FEUSxFQUVkaUIsS0FGYyxFQUFuQjtBQUlBLFNBQU9ILElBQVA7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkudmFsaWRhdG9yc1wiKTtcbmNvbnN0IHsgYXV0aDogQXV0aCB9ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3QgUm9sZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi91dGlscy9yb2xlXCIpO1xuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYW55Lm1vZGVsXCIpO1xuXG5jb25zdCBJdGVtID0gcmVxdWlyZShcIi4vaXRlbS9pdGVtLnJvdXRlc1wiKTtcblxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2VydmljZVwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcih7XG4gICAgbWVyZ2VQYXJhbXM6IHRydWUsXG59KTtcblxuLy8gYXBpL3YxL2NvbXBhbnlfaWQvbWVudV9pZC9jYXRlZ29yeS9jYXRlZ29yeV9pZC9pdGVtXG5yb3V0ZXIudXNlKFwiLzpjYXRlZ29yeV9pZC9pdGVtXCIsIEl0ZW0pO1xuXG5yb3V0ZXIucG9zdChcIi9cIiwgQXV0aChbUm9sZS5vd25lcl0pLCBjcmVhdGVTY2hlbWEsIGNyZWF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL1wiLCBnZXRBbGxDb21wYW55Q2F0ZWdvcnlzKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGdldENhdGVnb3J5QnlJZCk7XG5yb3V0ZXIucGF0Y2goXCIvOmlkXCIsIEF1dGgoW1JvbGUub3duZXJdKSwgdXBkYXRlU2NoZW1hLCB1cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBfZGVsZXRlQ2F0ZWdvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gY2hlY2sgaWYgb3duZXIgb2YgY29tcGFueVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcblxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlY2F0ZWdvcnkocGF5bG9hZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yeSkgPT4gcmVzLmpzb24oY2F0ZWdvcnkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbENvbXBhbnlDYXRlZ29yeXMocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IGNvbXBhbnlfaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgLmdldEFsbENvbXBhbnlDYXRlZ29yeXMoeyBjb21wYW55X2lkIH0pXG4gICAgICAgIC50aGVuKChjYXRlZ29yaWVzKSA9PlxuICAgICAgICAgICAgY2F0ZWdvcmllcyA&#x2F;IHJlcy5qc29uKGNhdGVnb3JpZXMpIDogcmVzLnNlbmRTdGF0dXMoNDA0KVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlCeUlkKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgICAgIC5nZXRDYXRlZ29yeUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGNhdGVnb3J5KSA9PlxuICAgICAgICAgICAgY2F0ZWdvcnkgPyByZXMuanNvbihjYXRlZ29yeSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICAvLyBvbmx5IG93bmVyIGNhbiB1cGRhdGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGNvbnN0IHBheWxvYWQgPSByZXEuYm9keTtcbiAgICBwYXlsb2FkLm1lbnVfaWQgPSByZXEucGFyYW1zLm1lbnVfaWQ7XG5cbiAgICBpc093bmVyKHJlcS51c2VyLmlkLCByZXEucGFyYW1zLmNvbXBhbnlfaWQpXG4gICAgICAgIC50aGVuKChvd25lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5KHJlcS5wYXJhbXMuaWQsIHBheWxvYWQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoY2F0ZWdvcnkpID0+XG4gICAgICAgICAgICBjYXRlZ29yeSA&#x2F;IHJlcy5qc29uKGNhdGVnb3J5KSA6IHJlcy5zZW5kU3RhdHVzKDQwNClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIF9kZWxldGVDYXRlZ29yeShyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIG9ubHkgb3duZXIgZGVsZXRlIGNhbiBkZWxldGUgdGhlaXIgY29tcGFueSBjYXRlZ29yeVxuICAgIGlzT3duZXIocmVxLnVzZXIuaWQsIHJlcS5wYXJhbXMuY29tcGFueV9pZClcbiAgICAgICAgLnRoZW4oKG93bmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW93bmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlcnZpY2UuX2RlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGlzT3duZXIob3duZXJfaWQsIGNvbXBhbnlfaWQpIHtcbiAgICBjb25zdCBib29sID0gYXdhaXQgQ29tcGFueS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IG93bmVyX2lkLCBpZDogY29tcGFueV9pZCB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIHJldHVybiBib29sO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;category.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst Company &#x3D; require(\&quot;..&#x2F;..&#x2F;company.model\&quot;);\n\nconst Item &#x3D; require(\&quot;.&#x2F;item&#x2F;item.routes\&quot;);\n\nconst categoryService &#x3D; require(\&quot;.&#x2F;category.service\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\n&#x2F;&#x2F; api&#x2F;v1&#x2F;company_id&#x2F;menu_id&#x2F;category&#x2F;category_id&#x2F;item\nrouter.use(\&quot;&#x2F;:category_id&#x2F;item\&quot;, Item);\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), createSchema, create);\nrouter.get(\&quot;&#x2F;\&quot;, getAllCompanyCategorys);\nrouter.get(\&quot;&#x2F;:id\&quot;, getCategoryById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), updateSchema, update);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), _deleteCategory);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    &#x2F;&#x2F; check if owner of company\n    const payload &#x3D; req.body;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.createcategory(payload);\n        })\n        .then((category) &#x3D;&gt; res.json(category))\n        .catch(next);\n}\n\nfunction getAllCompanyCategorys(req, res, next) {\n    const { company_id } &#x3D; req.params;\n\n    categoryService\n        .getAllCompanyCategorys({ company_id })\n        .then((categories) &#x3D;&gt;\n            categories ? res.json(categories) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction getCategoryById(req, res, next) {\n    categoryService\n        .getCategoryById(req.params.id)\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction update(req, res, next) {\n    &#x2F;&#x2F; only owner can update their company category\n    const payload &#x3D; req.body;\n    payload.menu_id &#x3D; req.params.menu_id;\n\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService.updateCategory(req.params.id, payload);\n        })\n        .then((category) &#x3D;&gt;\n            category ? res.json(category) : res.sendStatus(404)\n        )\n        .catch(next);\n}\n\nfunction _deleteCategory(req, res, next) {\n    &#x2F;&#x2F; only owner delete can delete their company category\n    isOwner(req.user.id, req.params.company_id)\n        .then((owner) &#x3D;&gt; {\n            if (!owner) {\n                return res.status(401).json({ message: \&quot;Unauthorized\&quot; });\n            }\n            return categoryService._delete({\n                id: req.params.id,\n                company_id: req.params.company_id,\n            });\n        })\n        .then(() &#x3D;&gt; {\n            res.json({ id: req.params.id });\n        })\n        .catch(next);\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function isOwner(owner_id, company_id) {\n    const bool &#x3D; await Company.query()\n        .where({ owner_id, id: company_id })\n        .first();\n\n    return bool;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f9&#x2F;categoryroutes_f95c539ef7b2381e749f49618b0199b4.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2954&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 12907,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 12904,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 962,
                    &quot;endOffset&quot;: 1328,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1330,
                    &quot;endOffset&quot;: 1576,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1578,
                    &quot;endOffset&quot;: 1754,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;update&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1756,
                    &quot;endOffset&quot;: 2229,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_deleteCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2231,
                    &quot;endOffset&quot;: 2690,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;isOwner&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2738,
                    &quot;endOffset&quot;: 2893,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    menu_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    menu_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVTY2hlbWEiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibWVudV9pZCIsIm51bWJlciIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsMENBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxPQUFPLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBRmEsR0FBWCxDQUFmO0FBSUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBTkQ7O0FBUUFMLE9BQU8sQ0FBQ1ksWUFBUixHQUF1QixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNUyxXQUFXLEdBQUc7QUFDaEJOLElBQUFBLElBQUksRUFBRVYsR0FBRyxDQUFDVyxNQUFKLEdBQWFNLEtBQWIsQ0FBbUIsRUFBbkIsQ0FEVTtBQUVoQkosSUFBQUEsT0FBTyxFQUFFYixHQUFHLENBQUNjLE1BQUosR0FBYUcsS0FBYixDQUFtQixFQUFuQjtBQUZPLEdBQXBCO0FBS0EsUUFBTVQsTUFBTSxHQUFHUixHQUFHLENBQUNTLE1BQUosQ0FBV08sV0FBWCxDQUFmO0FBRUFkLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL19taWRkbGV3YXJlcy92YWxpZGF0ZVJlcXVlc3RcIik7XG5cbmV4cG9ydHMuY3JlYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWFSdWxlcyA9IHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLmVtcHR5KFwiXCIpLFxuICAgICAgICBtZW51X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        menu_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        menu_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;1b&#x2F;categoryvalidators_1b6fa12bad6d90716c229117a118363b.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2955&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2827,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2824,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 219,
                    &quot;endOffset&quot;: 388,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 414,
                    &quot;endOffset&quot;: 616,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createSchema,\n  updateSchema\n} &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\n\nconst {\n  auth: Auth,\n  isOwner\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n  itemService.createItem(req.body).then(item &#x3D;&gt; res.status(201).json(item)).catch(next);\n}\n\nfunction getById(req, res, next) {\n  itemService.getItemById(req.params.id).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction updateItem(req, res, next) {\n  itemService.updateItem(req.params.id, req.body).then(item &#x3D;&gt; item ? res.json(item) : res.sendStatus(404)).catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n  itemService.deleteItem({\n    id: req.params.id\n  }).then(() &#x3D;&gt; res.json({\n    message: \&quot;Item deleted successfully\&quot;,\n    id: req.params.id\n  })).catch(next);\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ucm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY3JlYXRlU2NoZW1hIiwidXBkYXRlU2NoZW1hIiwiYXV0aCIsIkF1dGgiLCJpc093bmVyIiwiUm9sZSIsIml0ZW1TZXJ2aWNlIiwicm91dGVyIiwiUm91dGVyIiwibWVyZ2VQYXJhbXMiLCJwb3N0Iiwib3duZXIiLCJjcmVhdGUiLCJnZXQiLCJnZXRCeUlkIiwicGF0Y2giLCJ1cGRhdGVJdGVtIiwiZGVsZXRlIiwiZGVsZXRlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3JlYXRlSXRlbSIsImJvZHkiLCJ0aGVuIiwiaXRlbSIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImdldEl0ZW1CeUlkIiwicGFyYW1zIiwiaWQiLCJzZW5kU3RhdHVzIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLFlBQUY7QUFBZ0JDLEVBQUFBO0FBQWhCLElBQWlDRixPQUFPLENBQUMsbUJBQUQsQ0FBOUM7O0FBQ0EsTUFBTTtBQUFFRyxFQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsRUFBQUE7QUFBZCxJQUEwQkwsT0FBTyxDQUFDLGtDQUFELENBQXZDOztBQUNBLE1BQU1NLElBQUksR0FBR04sT0FBTyxDQUFDLDJCQUFELENBQXBCOztBQUNBLE1BQU1PLFdBQVcsR0FBR1AsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUVBLE1BQU1RLE1BQU0sR0FBR1QsT0FBTyxDQUFDVSxNQUFSLENBQWU7QUFDMUJDLEVBQUFBLFdBQVcsRUFBRTtBQURhLENBQWYsQ0FBZjtBQUlBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCUCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBckIsRUFBcUNQLE9BQU8sRUFBNUMsRUFBZ0RKLFlBQWhELEVBQThEWSxNQUE5RDtBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxNQUFYLEVBQW1CVixJQUFJLEVBQXZCLEVBQTJCVyxPQUEzQjtBQUNBUCxNQUFNLENBQUNRLEtBQVAsQ0FBYSxNQUFiLEVBQXFCWixJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBekIsRUFBeUNQLE9BQU8sRUFBaEQsRUFBb0RILFlBQXBELEVBQWtFZSxVQUFsRTtBQUNBVCxNQUFNLENBQUNVLE1BQVAsQ0FBYyxNQUFkLEVBQXNCZCxJQUFJLENBQUMsQ0FBQ0UsSUFBSSxDQUFDTSxLQUFOLENBQUQsQ0FBMUIsRUFBMENQLE9BQU8sRUFBakQsRUFBcURjLFVBQXJEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakI7O0FBRUEsU0FBU0ssTUFBVCxDQUFnQlMsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCQyxJQUExQixFQUFnQztBQUM1QmpCLEVBQUFBLFdBQVcsQ0FDTmtCLFVBREwsQ0FDZ0JILEdBQUcsQ0FBQ0ksSUFEcEIsRUFFS0MsSUFGTCxDQUVXQyxJQUFELElBQVVMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixJQUFyQixDQUZwQixFQUdLRyxLQUhMLENBR1dQLElBSFg7QUFJSDs7QUFFRCxTQUFTVCxPQUFULENBQWlCTyxHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCLEVBQWlDO0FBQzdCakIsRUFBQUEsV0FBVyxDQUNOeUIsV0FETCxDQUNpQlYsR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDVCLEVBRUtQLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU1AsVUFBVCxDQUFvQkssR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlUsVUFETCxDQUNnQkssR0FBRyxDQUFDVyxNQUFKLENBQVdDLEVBRDNCLEVBQytCWixHQUFHLENBQUNJLElBRG5DLEVBRUtDLElBRkwsQ0FFV0MsSUFBRCxJQUFXQSxJQUFJLEdBQUdMLEdBQUcsQ0FBQ08sSUFBSixDQUFTRixJQUFULENBQUgsR0FBb0JMLEdBQUcsQ0FBQ1ksVUFBSixDQUFlLEdBQWYsQ0FGN0MsRUFHS0osS0FITCxDQUdXUCxJQUhYO0FBSUg7O0FBRUQsU0FBU0wsVUFBVCxDQUFvQkcsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQ2pCLEVBQUFBLFdBQVcsQ0FDTlksVUFETCxDQUNnQjtBQUFFZSxJQUFBQSxFQUFFLEVBQUVaLEdBQUcsQ0FBQ1csTUFBSixDQUFXQztBQUFqQixHQURoQixFQUVLUCxJQUZMLENBRVUsTUFDRkosR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDTE0sSUFBQUEsT0FBTyxFQUFFLDJCQURKO0FBRUxGLElBQUFBLEVBQUUsRUFBRVosR0FBRyxDQUFDVyxNQUFKLENBQVdDO0FBRlYsR0FBVCxDQUhSLEVBUUtILEtBUkwsQ0FRV1AsSUFSWDtBQVNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBjcmVhdGVTY2hlbWEsIHVwZGF0ZVNjaGVtYSB9ID0gcmVxdWlyZShcIi4vaXRlbS52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoLCBpc093bmVyIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBpdGVtU2VydmljZSA9IHJlcXVpcmUoXCIuL2l0ZW0uc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wb3N0KFwiL1wiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgY3JlYXRlU2NoZW1hLCBjcmVhdGUpO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRCeUlkKTtcbnJvdXRlci5wYXRjaChcIi86aWRcIiwgQXV0aChbUm9sZS5vd25lcl0pLCBpc093bmVyKCksIHVwZGF0ZVNjaGVtYSwgdXBkYXRlSXRlbSk7XG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBBdXRoKFtSb2xlLm93bmVyXSksIGlzT3duZXIoKSwgZGVsZXRlSXRlbSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5mdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuY3JlYXRlSXRlbShyZXEuYm9keSlcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHJlcy5zdGF0dXMoMjAxKS5qc29uKGl0ZW0pKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldEJ5SWQocmVxLCByZXMsIG5leHQpIHtcbiAgICBpdGVtU2VydmljZVxuICAgICAgICAuZ2V0SXRlbUJ5SWQocmVxLnBhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKGl0ZW0pID0+IChpdGVtID8gcmVzLmpzb24oaXRlbSkgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJdGVtKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaXRlbVNlcnZpY2VcbiAgICAgICAgLnVwZGF0ZUl0ZW0ocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiAoaXRlbSA&#x2F;IHJlcy5qc29uKGl0ZW0pIDogcmVzLnNlbmRTdGF0dXMoNDA0KSkpXG4gICAgICAgIC5jYXRjaChuZXh0KTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIGl0ZW1TZXJ2aWNlXG4gICAgICAgIC5kZWxldGVJdGVtKHsgaWQ6IHJlcS5wYXJhbXMuaWQgfSlcbiAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { createSchema, updateSchema } &#x3D; require(\&quot;.&#x2F;item.validators\&quot;);\nconst { auth: Auth, isOwner } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst itemService &#x3D; require(\&quot;.&#x2F;item.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.post(\&quot;&#x2F;\&quot;, Auth([Role.owner]), isOwner(), createSchema, create);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getById);\nrouter.patch(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), updateSchema, updateItem);\nrouter.delete(\&quot;&#x2F;:id\&quot;, Auth([Role.owner]), isOwner(), deleteItem);\n\nmodule.exports &#x3D; router;\n\nfunction create(req, res, next) {\n    itemService\n        .createItem(req.body)\n        .then((item) &#x3D;&gt; res.status(201).json(item))\n        .catch(next);\n}\n\nfunction getById(req, res, next) {\n    itemService\n        .getItemById(req.params.id)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction updateItem(req, res, next) {\n    itemService\n        .updateItem(req.params.id, req.body)\n        .then((item) &#x3D;&gt; (item ? res.json(item) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction deleteItem(req, res, next) {\n    itemService\n        .deleteItem({ id: req.params.id })\n        .then(() &#x3D;&gt;\n            res.json({\n                message: \&quot;Item deleted successfully\&quot;,\n                id: req.params.id,\n            })\n        )\n        .catch(next);\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;de&#x2F;itemroutes_de9b46cc999b0a12213b699c8d15bd22.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2956&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6599,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6596,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 717,
                    &quot;endOffset&quot;: 841,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 843,
                    &quot;endOffset&quot;: 991,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 993,
                    &quot;endOffset&quot;: 1153,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1155,
                    &quot;endOffset&quot;: 1353,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    name: Joi.string().required(),\n    price: Joi.number().required(),\n    quantity: Joi.number().required(),\n    description: Joi.string().required(),\n    image_url: Joi.string(),\n    category_id: Joi.number().required()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schemaRules &#x3D; {\n    name: Joi.string().empty(\&quot;\&quot;),\n    price: Joi.number().empty(\&quot;\&quot;),\n    quantity: Joi.number().empty(\&quot;\&quot;),\n    description: Joi.string().empty(\&quot;\&quot;),\n    image_url: Joi.string(),\n    category_id: Joi.number().empty(\&quot;\&quot;)\n  };\n  const schema &#x3D; Joi.object(schemaRules);\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0udmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwidmFsaWRhdGVSZXF1ZXN0IiwiZXhwb3J0cyIsImNyZWF0ZVNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwicmVxdWlyZWQiLCJwcmljZSIsIm51bWJlciIsInF1YW50aXR5IiwiZGVzY3JpcHRpb24iLCJpbWFnZV91cmwiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZVNjaGVtYSIsInNjaGVtYVJ1bGVzIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsNkNBQUQsQ0FBL0I7O0FBRUFFLE9BQU8sQ0FBQ0MsWUFBUixHQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN2QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxLQUFLLEVBQUViLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiLEVBRmU7QUFHdEJHLElBQUFBLFFBQVEsRUFBRWYsR0FBRyxDQUFDYyxNQUFKLEdBQWFGLFFBQWIsRUFIWTtBQUl0QkksSUFBQUEsV0FBVyxFQUFFaEIsR0FBRyxDQUFDVyxNQUFKLEdBQWFDLFFBQWIsRUFKUztBQUt0QkssSUFBQUEsU0FBUyxFQUFFakIsR0FBRyxDQUFDVyxNQUFKLEVBTFc7QUFNdEJPLElBQUFBLFdBQVcsRUFBRWxCLEdBQUcsQ0FBQ2MsTUFBSixHQUFhRixRQUFiO0FBTlMsR0FBWCxDQUFmO0FBUUFWLEVBQUFBLGVBQWUsQ0FBQ0csR0FBRCxFQUFNRSxJQUFOLEVBQVlDLE1BQVosQ0FBZjtBQUNILENBVkQ7O0FBWUFMLE9BQU8sQ0FBQ2dCLFlBQVIsR0FBdUIsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDdkMsUUFBTWEsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhVSxLQUFiLENBQW1CLEVBQW5CLENBRFU7QUFFaEJSLElBQUFBLEtBQUssRUFBRWIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkIsQ0FGUztBQUdoQk4sSUFBQUEsUUFBUSxFQUFFZixHQUFHLENBQUNjLE1BQUosR0FBYU8sS0FBYixDQUFtQixFQUFuQixDQUhNO0FBSWhCTCxJQUFBQSxXQUFXLEVBQUVoQixHQUFHLENBQUNXLE1BQUosR0FBYVUsS0FBYixDQUFtQixFQUFuQixDQUpHO0FBS2hCSixJQUFBQSxTQUFTLEVBQUVqQixHQUFHLENBQUNXLE1BQUosRUFMSztBQU1oQk8sSUFBQUEsV0FBVyxFQUFFbEIsR0FBRyxDQUFDYyxNQUFKLEdBQWFPLEtBQWIsQ0FBbUIsRUFBbkI7QUFORyxHQUFwQjtBQVNBLFFBQU1iLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVdXLFdBQVgsQ0FBZjtBQUVBbEIsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHByaWNlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGltYWdlX3VybDogSm9pLnN0cmluZygpLFxuICAgICAgICBjYXRlZ29yeV9pZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSk7XG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG5cbmV4cG9ydHMudXBkYXRlU2NoZW1hID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hUnVsZXMgPSB7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHJpY2U6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgaW1hZ2VfdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgICAgIGNhdGVnb3J5X2lkOiBKb2kubnVtYmVyKCkuZW1wdHkoXCJcIiksXG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoc2NoZW1hUnVsZXMpO1xuXG4gICAgdmFsaWRhdGVSZXF1ZXN0KHJlcSwgbmV4dCwgc2NoZW1hKTtcbn07XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        name: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        description: Joi.string().required(),\n        image_url: Joi.string(),\n        category_id: Joi.number().required(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schemaRules &#x3D; {\n        name: Joi.string().empty(\&quot;\&quot;),\n        price: Joi.number().empty(\&quot;\&quot;),\n        quantity: Joi.number().empty(\&quot;\&quot;),\n        description: Joi.string().empty(\&quot;\&quot;),\n        image_url: Joi.string(),\n        category_id: Joi.number().empty(\&quot;\&quot;),\n    };\n\n    const schema &#x3D; Joi.object(schemaRules);\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;b3&#x2F;itemvalidators_b3b5560b6fc02d936e24d53b4a41cdcb.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2957&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4275,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4272,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 222,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 567,
                    &quot;endOffset&quot;: 916,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createItem,\n  getItemById,\n  updateItem,\n  deleteItem\n};\n\nasync function createItem(params) {\n  const item &#x3D; await Item.query().insert(params);\n  return basicDetails(item);\n}\n\nasync function getItemById(id) {\n  const item &#x3D; await getItem({\n    id\n  });\n  return item;\n}\n\nasync function updateItem(id, params) {\n  const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n  return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n  await Item.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getItem(params) {\n  const item &#x3D; await Item.query().where({ ...params\n  }).first();\n  return item;\n}\n\nfunction basicDetails(item) {\n  const {\n    id,\n    name,\n    description\n  } &#x3D; item;\n  return {\n    id,\n    name,\n    description\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0uc2VydmljZS5qcyJdLCJuYW1lcyI6WyJJdGVtIiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZUl0ZW0iLCJnZXRJdGVtQnlJZCIsInVwZGF0ZUl0ZW0iLCJkZWxldGVJdGVtIiwicGFyYW1zIiwiaXRlbSIsInF1ZXJ5IiwiaW5zZXJ0IiwiYmFzaWNEZXRhaWxzIiwiaWQiLCJnZXRJdGVtIiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsIndoZXJlIiwiZmlyc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsNEJBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFdBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQTtBQUphLENBQWpCOztBQU9BLGVBQWVILFVBQWYsQ0FBMEJJLE1BQTFCLEVBQWtDO0FBQzlCLFFBQU1DLElBQUksR0FBRyxNQUFNVixJQUFJLENBQUNXLEtBQUwsR0FBYUMsTUFBYixDQUFvQkgsTUFBcEIsQ0FBbkI7QUFDQSxTQUFPSSxZQUFZLENBQUNILElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlSixXQUFmLENBQTJCUSxFQUEzQixFQUErQjtBQUMzQixRQUFNSixJQUFJLEdBQUcsTUFBTUssT0FBTyxDQUFDO0FBQUVELElBQUFBO0FBQUYsR0FBRCxDQUExQjtBQUNBLFNBQU9KLElBQVA7QUFDSDs7QUFFRCxlQUFlSCxVQUFmLENBQTBCTyxFQUExQixFQUE4QkwsTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUYsVUFBVSxHQUFHLE1BQU1QLElBQUksQ0FBQ1csS0FBTCxHQUFhSyxpQkFBYixDQUErQkYsRUFBL0IsRUFBbUNMLE1BQW5DLENBQXpCO0FBRUEsU0FBT0YsVUFBUDtBQUNIOztBQUVELGVBQWVDLFVBQWYsQ0FBMEJTLFdBQTFCLEVBQXVDO0FBQ25DLFFBQU1qQixJQUFJLENBQUNXLEtBQUwsR0FBYU8sTUFBYixDQUFvQixFQUFFLEdBQUdEO0FBQUwsR0FBcEIsQ0FBTjtBQUNILEMsQ0FFRDs7O0FBQ0EsZUFBZUYsT0FBZixDQUF1Qk4sTUFBdkIsRUFBK0I7QUFDM0IsUUFBTUMsSUFBSSxHQUFHLE1BQU1WLElBQUksQ0FBQ1csS0FBTCxHQUNkUSxLQURjLENBQ1IsRUFBRSxHQUFHVjtBQUFMLEdBRFEsRUFFZFcsS0FGYyxFQUFuQjtBQUdBLFNBQU9WLElBQVA7QUFDSDs7QUFFRCxTQUFTRyxZQUFULENBQXNCSCxJQUF0QixFQUE0QjtBQUN4QixRQUFNO0FBQUVJLElBQUFBLEVBQUY7QUFBTU8sSUFBQUEsSUFBTjtBQUFZQyxJQUFBQTtBQUFaLE1BQTRCWixJQUFsQztBQUNBLFNBQU87QUFBRUksSUFBQUEsRUFBRjtBQUFNTyxJQUFBQSxJQUFOO0FBQVlDLElBQUFBO0FBQVosR0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSXRlbSA9IHJlcXVpcmUoXCIuL2l0ZW0ubW9kZWxcIik7XG5jb25zdCBlcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi91dGlscy9lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlSXRlbSxcbiAgICBnZXRJdGVtQnlJZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGRlbGV0ZUl0ZW0sXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhpdGVtKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUJ5SWQoaWQpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgZ2V0SXRlbSh7IGlkIH0pO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gYXdhaXQgSXRlbS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIHVwZGF0ZUl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0ocXVlcnlQYXJhbXMpIHtcbiAgICBhd2FpdCBJdGVtLnF1ZXJ5KCkuZGVsZXRlKHsgLi4ucXVlcnlQYXJhbXMgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT0gaGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRJdGVtKHBhcmFtcykge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBJdGVtLnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW1zIH0pXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBpdGVtO1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMoaXRlbSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBpdGVtO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Item &#x3D; require(\&quot;.&#x2F;item.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createItem,\n    getItemById,\n    updateItem,\n    deleteItem,\n};\n\nasync function createItem(params) {\n    const item &#x3D; await Item.query().insert(params);\n    return basicDetails(item);\n}\n\nasync function getItemById(id) {\n    const item &#x3D; await getItem({ id });\n    return item;\n}\n\nasync function updateItem(id, params) {\n    const updateItem &#x3D; await Item.query().patchAndFetchById(id, params);\n\n    return updateItem;\n}\n\nasync function deleteItem(queryParams) {\n    await Item.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function getItem(params) {\n    const item &#x3D; await Item.query()\n        .where({ ...params })\n        .first();\n    return item;\n}\n\nfunction basicDetails(item) {\n    const { id, name, description } &#x3D; item;\n    return { id, name, description };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;37&#x2F;itemservice_37723bc6ce9a1333746fd65833e30b1c.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2958&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4281,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4278,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 261,
                    &quot;endOffset&quot;: 377,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItemById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 472,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 474,
                    &quot;endOffset&quot;: 607,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;deleteItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 609,
                    &quot;endOffset&quot;: 702,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 765,
                    &quot;endOffset&quot;: 880,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 882,
                    &quot;endOffset&quot;: 1019,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n  static get tableName() {\n    return tableNames.item;\n  }\n\n  static get relationMappings() {\n    const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      category: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Category,\n        join: {\n          from: &#x60;${tableNames.item}.category_id&#x60;,\n          to: &#x60;${tableNames.category}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Item;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0ubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwidGFibGVOYW1lcyIsImRiIiwiQ2F0ZWdvcnkiLCJJdGVtIiwidGFibGVOYW1lIiwiaXRlbSIsInJlbGF0aW9uTWFwcGluZ3MiLCJjYXRlZ29yeSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzIiwiam9pbiIsImZyb20iLCJ0byIsImtuZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsbUJBQUQsQ0FBbEI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHSCxPQUFPLENBQUMsbUJBQUQsQ0FBeEI7O0FBRUEsTUFBTUksSUFBTixTQUFtQkwsS0FBbkIsQ0FBeUI7QUFDckIsYUFBV00sU0FBWCxHQUF1QjtBQUNuQixXQUFPSixVQUFVLENBQUNLLElBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUosUUFBUSxHQUFHSCxPQUFPLENBQUMsK0JBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIUSxNQUFBQSxRQUFRLEVBQUU7QUFDTkMsUUFBQUEsUUFBUSxFQUFFVixLQUFLLENBQUNXLG9CQURWO0FBRU5DLFFBQUFBLFVBQVUsRUFBRVIsUUFGTjtBQUdOUyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUVaLFVBQVUsQ0FBQ0ssSUFBSyxjQUR2QjtBQUVGUSxVQUFBQSxFQUFFLEVBQUcsR0FBRWIsVUFBVSxDQUFDTyxRQUFTO0FBRnpCO0FBSEE7QUFEUCxLQUFQO0FBVUg7O0FBbEJvQjs7QUFxQnpCVCxLQUFLLENBQUNnQixJQUFOLENBQVdiLEVBQVg7QUFFQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vZGJcIik7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuLi9jYXRlZ29yeS5tb2RlbFwiKTtcblxuY2xhc3MgSXRlbSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuaXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZShcIi4uLy4uL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXRlZ29yeToge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5CZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgICAgICAgICAgICAgICBtb2RlbENsYXNzOiBDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMuaXRlbX0uY2F0ZWdvcnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jYXRlZ29yeX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuTW9kZWwua25leChkYik7XG5cbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst Category &#x3D; require(\&quot;..&#x2F;category.model\&quot;);\n\nclass Item extends Model {\n    static get tableName() {\n        return tableNames.item;\n    }\n\n    static get relationMappings() {\n        const Category &#x3D; require(\&quot;..&#x2F;..&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            category: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Category,\n                join: {\n                    from: &#x60;${tableNames.item}.category_id&#x60;,\n                    to: &#x60;${tableNames.category}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Item;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;bd&#x2F;itemmodel_bde36e534327c1a1231475da3047e2a2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2959&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3171,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3168,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Item&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 290,
                    &quot;endOffset&quot;: 290,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 326,
                    &quot;endOffset&quot;: 375,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 386,
                    &quot;endOffset&quot;: 718,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n  static get tableName() {\n    return tableNames.category;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n\n    const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n    return {\n      menu: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Menu,\n        join: {\n          from: &#x60;${tableName.category}.menu_id&#x60;,\n          to: &#x60;${tableNames.menu}.id&#x60;\n        }\n      },\n      items: {\n        relation: Model.HasManyRelation,\n        modelClasss: Item,\n        join: {\n          from: &#x60;${tableNames.category}.id&#x60;,\n          to: &#x60;${tableNames.item}.category_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Category;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsImRiIiwic2NoZW1hIiwidGFibGVOYW1lcyIsIkNhdGVnb3J5IiwidGFibGVOYW1lIiwiY2F0ZWdvcnkiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIk1lbnUiLCJJdGVtIiwibWVudSIsInJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJtb2RlbENsYXNzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJpdGVtcyIsIkhhc01hbnlSZWxhdGlvbiIsIml0ZW0iLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHdCQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBLE1BQU1JLFFBQU4sU0FBdUJMLEtBQXZCLENBQTZCO0FBQ3pCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxRQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUMsZUFBRCxDQUFwQjs7QUFDQSxVQUFNVSxJQUFJLEdBQUdWLE9BQU8sQ0FBQyx5QkFBRCxDQUFwQjs7QUFFQSxXQUFPO0FBQ0hXLE1BQUFBLElBQUksRUFBRTtBQUNGQyxRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ2Msb0JBRGQ7QUFFRkMsUUFBQUEsV0FBVyxFQUFFTCxJQUZYO0FBR0ZNLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRVgsU0FBUyxDQUFDQyxRQUFTLFVBRDFCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNRLElBQUs7QUFGckI7QUFISixPQURIO0FBU0hPLE1BQUFBLEtBQUssRUFBRTtBQUNITixRQUFBQSxRQUFRLEVBQUViLEtBQUssQ0FBQ29CLGVBRGI7QUFFSEwsUUFBQUEsV0FBVyxFQUFFSixJQUZWO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWIsVUFBVSxDQUFDRyxRQUFTLEtBRDNCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZCxVQUFVLENBQUNpQixJQUFLO0FBRnJCO0FBSEg7QUFUSixLQUFQO0FBa0JIOztBQWhDd0I7O0FBbUM3QnJCLEtBQUssQ0FBQ3NCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5CLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RiXCIpO1xuY29uc3Qgc2NoZW1hID0gcmVxdWlyZShcIi4vY2F0ZWdvcnkuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBDYXRlZ29yeSBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgZ2V0IHRhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZXMuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBqc29uU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgLy8gSW1wb3J0aW5nIG1vZGVscyBoZXJlIGlzIGEgb25lIHdheSB0byBhdm9pZCByZXF1aXJlIGxvb3BzLlxuICAgICAgICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUubW9kZWxcIik7XG4gICAgICAgIGNvbnN0IEl0ZW0gPSByZXF1aXJlKFwiLi4vbWVudS9pdGVtL2l0ZW0ubW9kZWxcIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IE1lbnUsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWUuY2F0ZWdvcnl9Lm1lbnVfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IEl0ZW0sXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLml0ZW19LmNhdGVnb3J5X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhdGVnb3J5O1xuIl19&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;category.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Category extends Model {\n    static get tableName() {\n        return tableNames.category;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Menu &#x3D; require(\&quot;..&#x2F;menu.model\&quot;);\n        const Item &#x3D; require(\&quot;..&#x2F;menu&#x2F;item&#x2F;item.model\&quot;);\n\n        return {\n            menu: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Menu,\n                join: {\n                    from: &#x60;${tableName.category}.menu_id&#x60;,\n                    to: &#x60;${tableNames.menu}.id&#x60;,\n                },\n            },\n            items: {\n                relation: Model.HasManyRelation,\n                modelClasss: Item,\n                join: {\n                    from: &#x60;${tableNames.category}.id&#x60;,\n                    to: &#x60;${tableNames.item}.category_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Category;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;0e&#x2F;categorymodel_0ef83f3e2352e4f7122c2a335cba1fb2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2960&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4654,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4651,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Category&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 287,
                    &quot;endOffset&quot;: 287,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 327,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 391,
                    &quot;endOffset&quot;: 432,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 443,
                    &quot;endOffset&quot;: 1073,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createCategory,\n  updateCategory,\n  getAllCategory,\n  getAllCompanyCategorys,\n  getCategoryById,\n  _delete\n};\n\nasync function createCategory(params) {\n  const category &#x3D; await Category.query().insert(params);\n  return category;\n}\n\nasync function updateCategory(id, params) {\n  const category &#x3D; await getCategory({\n    id\n  }); &#x2F;&#x2F;check if category name is duplicated\n\n  if (params.name &amp;&amp; category.name !&#x3D;&#x3D; params.name &amp;&amp; (await getCategory({\n    name: params.name,\n    menu_id: params.menu_id\n  }))) {\n    error(&#x60;Category ${params.name} already exists&#x60;);\n  }\n\n  const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, { ...params\n  });\n  return updatedcategory;\n}\n\nasync function getAllCategory() {\n  const categorys &#x3D; await Category.query();\n  return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n  const categorys &#x3D; await Category.query({ ...params\n  });\n  return categorys;\n}\n\nasync function getCategoryById(id) {\n  const category &#x3D; await getCategory({\n    id\n  });\n  return category;\n}\n\nasync function _delete(queryParams) {\n  await Category.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getCategory(param) {\n  const category &#x3D; await Category.query().where({ ...param\n  }).withGraphFetched(\&quot;items\&quot;).first();\n  return category;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LnNlcnZpY2UuanMiXSwibmFtZXMiOlsiQ2F0ZWdvcnkiLCJyZXF1aXJlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlQ2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImdldEFsbENhdGVnb3J5IiwiZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyIsImdldENhdGVnb3J5QnlJZCIsIl9kZWxldGUiLCJwYXJhbXMiLCJjYXRlZ29yeSIsInF1ZXJ5IiwiaW5zZXJ0IiwiaWQiLCJnZXRDYXRlZ29yeSIsIm5hbWUiLCJtZW51X2lkIiwidXBkYXRlZGNhdGVnb3J5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJjYXRlZ29yeXMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2hlcmUiLCJ3aXRoR3JhcGhGZXRjaGVkIiwiZmlyc3QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQXhCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLHlCQUFELENBQXJCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYkMsRUFBQUEsY0FEYTtBQUViQyxFQUFBQSxjQUZhO0FBR2JDLEVBQUFBLGNBSGE7QUFJYkMsRUFBQUEsc0JBSmE7QUFLYkMsRUFBQUEsZUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLGNBQWYsQ0FBOEJNLE1BQTlCLEVBQXNDO0FBQ2xDLFFBQU1DLFFBQVEsR0FBRyxNQUFNWixRQUFRLENBQUNhLEtBQVQsR0FBaUJDLE1BQWpCLENBQXdCSCxNQUF4QixDQUF2QjtBQUNBLFNBQU9DLFFBQVA7QUFDSDs7QUFFRCxlQUFlTixjQUFmLENBQThCUyxFQUE5QixFQUFrQ0osTUFBbEMsRUFBMEM7QUFDdEMsUUFBTUMsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEMsQ0FEc0MsQ0FFdEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLFFBQVEsQ0FBQ0ssSUFBVCxLQUFrQk4sTUFBTSxDQUFDTSxJQUR6QixLQUVDLE1BQU1ELFdBQVcsQ0FBQztBQUNmQyxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ00sSUFERTtBQUVmQyxJQUFBQSxPQUFPLEVBQUVQLE1BQU0sQ0FBQ087QUFGRCxHQUFELENBRmxCLENBREosRUFPRTtBQUNFaEIsSUFBQUEsS0FBSyxDQUFFLFlBQVdTLE1BQU0sQ0FBQ00sSUFBSyxpQkFBekIsQ0FBTDtBQUNIOztBQUNELFFBQU1FLGVBQWUsR0FBRyxNQUFNbkIsUUFBUSxDQUFDYSxLQUFULEdBQWlCTyxpQkFBakIsQ0FBbUNMLEVBQW5DLEVBQXVDLEVBQ2pFLEdBQUdKO0FBRDhELEdBQXZDLENBQTlCO0FBSUEsU0FBT1EsZUFBUDtBQUNIOztBQUVELGVBQWVaLGNBQWYsR0FBZ0M7QUFDNUIsUUFBTWMsU0FBUyxHQUFHLE1BQU1yQixRQUFRLENBQUNhLEtBQVQsRUFBeEI7QUFDQSxTQUFPUSxTQUFQO0FBQ0g7O0FBRUQsZUFBZWIsc0JBQWYsQ0FBc0NHLE1BQXRDLEVBQThDO0FBQzFDLFFBQU1VLFNBQVMsR0FBRyxNQUFNckIsUUFBUSxDQUFDYSxLQUFULENBQWUsRUFBRSxHQUFHRjtBQUFMLEdBQWYsQ0FBeEI7QUFDQSxTQUFPVSxTQUFQO0FBQ0g7O0FBRUQsZUFBZVosZUFBZixDQUErQk0sRUFBL0IsRUFBbUM7QUFDL0IsUUFBTUgsUUFBUSxHQUFHLE1BQU1JLFdBQVcsQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBbEM7QUFDQSxTQUFPSCxRQUFQO0FBQ0g7O0FBRUQsZUFBZUYsT0FBZixDQUF1QlksV0FBdkIsRUFBb0M7QUFDaEMsUUFBTXRCLFFBQVEsQ0FBQ2EsS0FBVCxHQUFpQlUsTUFBakIsQ0FBd0IsRUFBRSxHQUFHRDtBQUFMLEdBQXhCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZU4sV0FBZixDQUEyQlEsS0FBM0IsRUFBa0M7QUFDOUIsUUFBTVosUUFBUSxHQUFHLE1BQU1aLFFBQVEsQ0FBQ2EsS0FBVCxHQUNsQlksS0FEa0IsQ0FDWixFQUFFLEdBQUdEO0FBQUwsR0FEWSxFQUVsQkUsZ0JBRmtCLENBRUQsT0FGQyxFQUdsQkMsS0FIa0IsRUFBdkI7QUFLQSxTQUFPZixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5Lm1vZGVsXCIpO1xuY29uc3QgZXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vdXRpbHMvZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNhdGVnb3J5LFxuICAgIHVwZGF0ZUNhdGVnb3J5LFxuICAgIGdldEFsbENhdGVnb3J5LFxuICAgIGdldEFsbENvbXBhbnlDYXRlZ29yeXMsXG4gICAgZ2V0Q2F0ZWdvcnlCeUlkLFxuICAgIF9kZWxldGUsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDYXRlZ29yeShwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCkuaW5zZXJ0KHBhcmFtcyk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBnZXRDYXRlZ29yeSh7IGlkIH0pO1xuICAgIC8vY2hlY2sgaWYgY2F0ZWdvcnkgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBjYXRlZ29yeS5uYW1lICE9PSBwYXJhbXMubmFtZSAmJlxuICAgICAgICAoYXdhaXQgZ2V0Q2F0ZWdvcnkoe1xuICAgICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgICBtZW51X2lkOiBwYXJhbXMubWVudV9pZCxcbiAgICAgICAgfSkpXG4gICAgKSB7XG4gICAgICAgIGVycm9yKGBDYXRlZ29yeSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkY2F0ZWdvcnk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5KCkge1xuICAgIGNvbnN0IGNhdGVnb3J5cyA9IGF3YWl0IENhdGVnb3J5LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIGNhdGVnb3J5cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGFueUNhdGVnb3J5cyhwYXJhbXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeXMgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSh7IC4uLnBhcmFtcyB9KTtcbiAgICByZXR1cm4gY2F0ZWdvcnlzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXRlZ29yeUJ5SWQoaWQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGdldENhdGVnb3J5KHsgaWQgfSk7XG4gICAgcmV0dXJuIGNhdGVnb3J5O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKHF1ZXJ5UGFyYW1zKSB7XG4gICAgYXdhaXQgQ2F0ZWdvcnkucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IGNhdGVnb3J5LnF1ZXJ5KCkuZGVsZXRlQnlJZChpZCk7XG5cbi8vIH1cblxuLy8gPT09PT09PT09PT0gaGVscGVycz09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhdGVnb3J5KHBhcmFtKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IC4uLnBhcmFtIH0pXG4gICAgICAgIC53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIilcbiAgICAgICAgLmZpcnN0KCk7XG5cbiAgICByZXR1cm4gY2F0ZWdvcnk7XG59XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Category &#x3D; require(\&quot;.&#x2F;category.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createCategory,\n    updateCategory,\n    getAllCategory,\n    getAllCompanyCategorys,\n    getCategoryById,\n    _delete,\n};\n\nasync function createCategory(params) {\n    const category &#x3D; await Category.query().insert(params);\n    return category;\n}\n\nasync function updateCategory(id, params) {\n    const category &#x3D; await getCategory({ id });\n    &#x2F;&#x2F;check if category name is duplicated\n    if (\n        params.name &amp;&amp;\n        category.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getCategory({\n            name: params.name,\n            menu_id: params.menu_id,\n        }))\n    ) {\n        error(&#x60;Category ${params.name} already exists&#x60;);\n    }\n    const updatedcategory &#x3D; await Category.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedcategory;\n}\n\nasync function getAllCategory() {\n    const categorys &#x3D; await Category.query();\n    return categorys;\n}\n\nasync function getAllCompanyCategorys(params) {\n    const categorys &#x3D; await Category.query({ ...params });\n    return categorys;\n}\n\nasync function getCategoryById(id) {\n    const category &#x3D; await getCategory({ id });\n    return category;\n}\n\nasync function _delete(queryParams) {\n    await Category.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await category.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getCategory(param) {\n    const category &#x3D; await Category.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;items\&quot;)\n        .first();\n\n    return category;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;af&#x2F;categoryservice_af4a088c54a063175cdbab3d375f5ef2.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2961&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 6647,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 6644,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 319,
                    &quot;endOffset&quot;: 437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 439,
                    &quot;endOffset&quot;: 884,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 886,
                    &quot;endOffset&quot;: 985,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyCategorys&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 987,
                    &quot;endOffset&quot;: 1115,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategoryById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1117,
                    &quot;endOffset&quot;: 1226,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1228,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCategory&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1462,
                    &quot;endOffset&quot;: 1617,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\n\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n  createMenu,\n  updateMenu,\n  getAllMenu,\n  getAllCompanyMenus,\n  getMenuById,\n  _delete\n};\n\nasync function createMenu(params) {\n  const menu &#x3D; await Menu.query().insert(params);\n  return menu;\n}\n\nasync function updateMenu(id, params) {\n  const menu &#x3D; await getMenu({\n    id\n  }); &#x2F;&#x2F;check if menu name is duplicated\n\n  if (params.name &amp;&amp; menu.name !&#x3D;&#x3D; params.name &amp;&amp; (await getMenu({\n    name: params.name,\n    company_id: params.company_id\n  }))) {\n    error(&#x60;Menu ${params.name} already exists&#x60;);\n  }\n\n  const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, { ...params\n  });\n  return updatedmenu;\n}\n\nasync function getAllMenu() {\n  const menus &#x3D; await Menu.query();\n  return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n  const menus &#x3D; await Menu.query().where({ ...params\n  });\n  return menus;\n}\n\nasync function getMenuById(id) {\n  const menu &#x3D; await getMenu({\n    id\n  });\n  return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n  await Menu.query().delete({ ...queryParams\n  });\n} &#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n&#x2F;&#x2F; }\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function getMenu(param) {\n  const menu &#x3D; await Menu.query().where({ ...param\n  }).withGraphFetched(\&quot;categories\&quot;).first();\n  return menu;\n}\n\nfunction basicDetails(menu) {\n  const {\n    id,\n    name,\n    company_id,\n    categories\n  } &#x3D; menu;\n  return {\n    id,\n    name,\n    company_id,\n    categories\n  };\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJNZW51IiwicmVxdWlyZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU1lbnUiLCJ1cGRhdGVNZW51IiwiZ2V0QWxsTWVudSIsImdldEFsbENvbXBhbnlNZW51cyIsImdldE1lbnVCeUlkIiwiX2RlbGV0ZSIsInBhcmFtcyIsIm1lbnUiLCJxdWVyeSIsImluc2VydCIsImlkIiwiZ2V0TWVudSIsIm5hbWUiLCJjb21wYW55X2lkIiwidXBkYXRlZG1lbnUiLCJwYXRjaEFuZEZldGNoQnlJZCIsIm1lbnVzIiwid2hlcmUiLCJiYXNpY0RldGFpbHMiLCJxdWVyeVBhcmFtcyIsImRlbGV0ZSIsInBhcmFtIiwid2l0aEdyYXBoRmV0Y2hlZCIsImZpcnN0IiwiY2F0ZWdvcmllcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBckI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxVQURhO0FBRWJDLEVBQUFBLFVBRmE7QUFHYkMsRUFBQUEsVUFIYTtBQUliQyxFQUFBQSxrQkFKYTtBQUtiQyxFQUFBQSxXQUxhO0FBTWJDLEVBQUFBO0FBTmEsQ0FBakI7O0FBU0EsZUFBZUwsVUFBZixDQUEwQk0sTUFBMUIsRUFBa0M7QUFDOUIsUUFBTUMsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUFhQyxNQUFiLENBQW9CSCxNQUFwQixDQUFuQjtBQUNBLFNBQU9DLElBQVA7QUFDSDs7QUFFRCxlQUFlTixVQUFmLENBQTBCUyxFQUExQixFQUE4QkosTUFBOUIsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsTUFDSUosTUFBTSxDQUFDTSxJQUFQLElBQ0FMLElBQUksQ0FBQ0ssSUFBTCxLQUFjTixNQUFNLENBQUNNLElBRHJCLEtBRUMsTUFBTUQsT0FBTyxDQUFDO0FBQ1hDLElBQUFBLElBQUksRUFBRU4sTUFBTSxDQUFDTSxJQURGO0FBRVhDLElBQUFBLFVBQVUsRUFBRVAsTUFBTSxDQUFDTztBQUZSLEdBQUQsQ0FGZCxDQURKLEVBT0U7QUFDRWhCLElBQUFBLEtBQUssQ0FBRSxRQUFPUyxNQUFNLENBQUNNLElBQUssaUJBQXJCLENBQUw7QUFDSDs7QUFDRCxRQUFNRSxXQUFXLEdBQUcsTUFBTW5CLElBQUksQ0FBQ2EsS0FBTCxHQUFhTyxpQkFBYixDQUErQkwsRUFBL0IsRUFBbUMsRUFDekQsR0FBR0o7QUFEc0QsR0FBbkMsQ0FBMUI7QUFJQSxTQUFPUSxXQUFQO0FBQ0g7O0FBRUQsZUFBZVosVUFBZixHQUE0QjtBQUN4QixRQUFNYyxLQUFLLEdBQUcsTUFBTXJCLElBQUksQ0FBQ2EsS0FBTCxFQUFwQjtBQUNBLFNBQU9RLEtBQVA7QUFDSDs7QUFFRCxlQUFlYixrQkFBZixDQUFrQ0csTUFBbEMsRUFBMEM7QUFDdEMsUUFBTVUsS0FBSyxHQUFHLE1BQU1yQixJQUFJLENBQUNhLEtBQUwsR0FBYVMsS0FBYixDQUFtQixFQUFFLEdBQUdYO0FBQUwsR0FBbkIsQ0FBcEI7QUFDQSxTQUFPVSxLQUFQO0FBQ0g7O0FBRUQsZUFBZVosV0FBZixDQUEyQk0sRUFBM0IsRUFBK0I7QUFDM0IsUUFBTUgsSUFBSSxHQUFHLE1BQU1JLE9BQU8sQ0FBQztBQUFFRCxJQUFBQTtBQUFGLEdBQUQsQ0FBMUI7QUFDQSxTQUFPUSxZQUFZLENBQUNYLElBQUQsQ0FBbkI7QUFDSDs7QUFFRCxlQUFlRixPQUFmLENBQXVCYyxXQUF2QixFQUFvQztBQUNoQyxRQUFNeEIsSUFBSSxDQUFDYSxLQUFMLEdBQWFZLE1BQWIsQ0FBb0IsRUFBRSxHQUFHRDtBQUFMLEdBQXBCLENBQU47QUFDSCxDLENBRUQ7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUEsZUFBZVIsT0FBZixDQUF1QlUsS0FBdkIsRUFBOEI7QUFDMUIsUUFBTWQsSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsS0FBTCxHQUNkUyxLQURjLENBQ1IsRUFBRSxHQUFHSTtBQUFMLEdBRFEsRUFFZEMsZ0JBRmMsQ0FFRyxZQUZILEVBR2RDLEtBSGMsRUFBbkI7QUFJQSxTQUFPaEIsSUFBUDtBQUNIOztBQUVELFNBQVNXLFlBQVQsQ0FBc0JYLElBQXRCLEVBQTRCO0FBQ3hCLFFBQU07QUFBRUcsSUFBQUEsRUFBRjtBQUFNRSxJQUFBQSxJQUFOO0FBQVlDLElBQUFBLFVBQVo7QUFBd0JXLElBQUFBO0FBQXhCLE1BQXVDakIsSUFBN0M7QUFFQSxTQUFPO0FBQUVHLElBQUFBLEVBQUY7QUFBTUUsSUFBQUEsSUFBTjtBQUFZQyxJQUFBQSxVQUFaO0FBQXdCVyxJQUFBQTtBQUF4QixHQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNZW51ID0gcmVxdWlyZShcIi4uL21lbnUvbWVudS5tb2RlbFwiKTtcbmNvbnN0IGVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2Vycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVNZW51LFxuICAgIHVwZGF0ZU1lbnUsXG4gICAgZ2V0QWxsTWVudSxcbiAgICBnZXRBbGxDb21wYW55TWVudXMsXG4gICAgZ2V0TWVudUJ5SWQsXG4gICAgX2RlbGV0ZSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lbnUocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5pbnNlcnQocGFyYW1zKTtcbiAgICByZXR1cm4gbWVudTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudShpZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgbWVudSA9IGF3YWl0IGdldE1lbnUoeyBpZCB9KTtcbiAgICAvL2NoZWNrIGlmIG1lbnUgbmFtZSBpcyBkdXBsaWNhdGVkXG4gICAgaWYgKFxuICAgICAgICBwYXJhbXMubmFtZSAmJlxuICAgICAgICBtZW51Lm5hbWUgIT09IHBhcmFtcy5uYW1lICYmXG4gICAgICAgIChhd2FpdCBnZXRNZW51KHtcbiAgICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgICAgY29tcGFueV9pZDogcGFyYW1zLmNvbXBhbnlfaWQsXG4gICAgICAgIH0pKVxuICAgICkge1xuICAgICAgICBlcnJvcihgTWVudSAke3BhcmFtcy5uYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkbWVudSA9IGF3YWl0IE1lbnUucXVlcnkoKS5wYXRjaEFuZEZldGNoQnlJZChpZCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZG1lbnU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFsbE1lbnUoKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW55TWVudXMocGFyYW1zKSB7XG4gICAgY29uc3QgbWVudXMgPSBhd2FpdCBNZW51LnF1ZXJ5KCkud2hlcmUoeyAuLi5wYXJhbXMgfSk7XG4gICAgcmV0dXJuIG1lbnVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZW51QnlJZChpZCkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBnZXRNZW51KHsgaWQgfSk7XG4gICAgcmV0dXJuIGJhc2ljRGV0YWlscyhtZW51KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShxdWVyeVBhcmFtcykge1xuICAgIGF3YWl0IE1lbnUucXVlcnkoKS5kZWxldGUoeyAuLi5xdWVyeVBhcmFtcyB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gX3NvZnREZWxldGUoaWQpIHtcbi8vbWFyayBhcyBpbmFjdGl2ZVxuLy8gIGF3YWl0IG1lbnUucXVlcnkoKS5kZWxldGVCeUlkKGlkKTtcblxuLy8gfVxuXG4vLyA9PT09PT09PT09PSBoZWxwZXJzPT09PT09PT09PT1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVudShwYXJhbSkge1xuICAgIGNvbnN0IG1lbnUgPSBhd2FpdCBNZW51LnF1ZXJ5KClcbiAgICAgICAgLndoZXJlKHsgLi4ucGFyYW0gfSlcbiAgICAgICAgLndpdGhHcmFwaEZldGNoZWQoXCJjYXRlZ29yaWVzXCIpXG4gICAgICAgIC5maXJzdCgpO1xuICAgIHJldHVybiBtZW51O1xufVxuXG5mdW5jdGlvbiBiYXNpY0RldGFpbHMobWVudSkge1xuICAgIGNvbnN0IHsgaWQsIG5hbWUsIGNvbXBhbnlfaWQsIGNhdGVnb3JpZXMgfSA9IG1lbnU7XG5cbiAgICByZXR1cm4geyBpZCwgbmFtZSwgY29tcGFueV9pZCwgY2F0ZWdvcmllcyB9O1xufVxuIl19&quot;,
            &quot;originalCode&quot;: &quot;const Menu &#x3D; require(\&quot;..&#x2F;menu&#x2F;menu.model\&quot;);\nconst error &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;error\&quot;);\n\nmodule.exports &#x3D; {\n    createMenu,\n    updateMenu,\n    getAllMenu,\n    getAllCompanyMenus,\n    getMenuById,\n    _delete,\n};\n\nasync function createMenu(params) {\n    const menu &#x3D; await Menu.query().insert(params);\n    return menu;\n}\n\nasync function updateMenu(id, params) {\n    const menu &#x3D; await getMenu({ id });\n    &#x2F;&#x2F;check if menu name is duplicated\n    if (\n        params.name &amp;&amp;\n        menu.name !&#x3D;&#x3D; params.name &amp;&amp;\n        (await getMenu({\n            name: params.name,\n            company_id: params.company_id,\n        }))\n    ) {\n        error(&#x60;Menu ${params.name} already exists&#x60;);\n    }\n    const updatedmenu &#x3D; await Menu.query().patchAndFetchById(id, {\n        ...params,\n    });\n\n    return updatedmenu;\n}\n\nasync function getAllMenu() {\n    const menus &#x3D; await Menu.query();\n    return menus;\n}\n\nasync function getAllCompanyMenus(params) {\n    const menus &#x3D; await Menu.query().where({ ...params });\n    return menus;\n}\n\nasync function getMenuById(id) {\n    const menu &#x3D; await getMenu({ id });\n    return basicDetails(menu);\n}\n\nasync function _delete(queryParams) {\n    await Menu.query().delete({ ...queryParams });\n}\n\n&#x2F;&#x2F; async function _softDelete(id) {\n&#x2F;&#x2F;mark as inactive\n&#x2F;&#x2F;  await menu.query().deleteById(id);\n\n&#x2F;&#x2F; }\n\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nasync function getMenu(param) {\n    const menu &#x3D; await Menu.query()\n        .where({ ...param })\n        .withGraphFetched(\&quot;categories\&quot;)\n        .first();\n    return menu;\n}\n\nfunction basicDetails(menu) {\n    const { id, name, company_id, categories } &#x3D; menu;\n\n    return { id, name, company_id, categories };\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;f7&#x2F;menuservice_f7dbb9eba4d4e93803a88e42e2790161.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2962&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 7024,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 7021,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 294,
                    &quot;endOffset&quot;: 396,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 379,
                    &quot;endOffset&quot;: 394,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 394,
                    &quot;endOffset&quot;: 395,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;updateMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 398,
                    &quot;endOffset&quot;: 809,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 811,
                    &quot;endOffset&quot;: 894,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getAllCompanyMenus&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 896,
                    &quot;endOffset&quot;: 1016,
                    &quot;count&quot;: 2
                  },
                  {
                    &quot;startOffset&quot;: 998,
                    &quot;endOffset&quot;: 1014,
                    &quot;count&quot;: 1
                  },
                  {
                    &quot;startOffset&quot;: 1014,
                    &quot;endOffset&quot;: 1015,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;getMenuById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1018,
                    &quot;endOffset&quot;: 1125,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;_delete&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1127,
                    &quot;endOffset&quot;: 1217,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getMenu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1353,
                    &quot;endOffset&quot;: 1497,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;basicDetails&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1499,
                    &quot;endOffset&quot;: 1666,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n  static get tableName() {\n    return tableNames.menu;\n  }\n\n  static get jsonSchema() {\n    return schema;\n  }\n\n  static get relationMappings() {\n    &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n    return {\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClasss: Company,\n        join: {\n          from: &#x60;${tableNames.menu}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      },\n      categories: {\n        relation: Model.HasManyRelation,\n        modelClasss: Category,\n        join: {\n          from: &#x60;${tableNames.menu}.id&#x60;,\n          to: &#x60;${tableNames.category}.menu_id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Menu;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUubW9kZWwuanMiXSwibmFtZXMiOlsiTW9kZWwiLCJyZXF1aXJlIiwiZGIiLCJzY2hlbWEiLCJ0YWJsZU5hbWVzIiwiTWVudSIsInRhYmxlTmFtZSIsIm1lbnUiLCJqc29uU2NoZW1hIiwicmVsYXRpb25NYXBwaW5ncyIsIkNvbXBhbnkiLCJDYXRlZ29yeSIsImNvbXBhbnkiLCJyZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwibW9kZWxDbGFzc3MiLCJqb2luIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsIkhhc01hbnlSZWxhdGlvbiIsImNhdGVnb3J5Iiwia25leCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQWxCOztBQUNBLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFELENBQXRCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUVBLE1BQU1JLElBQU4sU0FBbUJMLEtBQW5CLENBQXlCO0FBQ3JCLGFBQVdNLFNBQVgsR0FBdUI7QUFDbkIsV0FBT0YsVUFBVSxDQUFDRyxJQUFsQjtBQUNIOztBQUVELGFBQVdDLFVBQVgsR0FBd0I7QUFDcEIsV0FBT0wsTUFBUDtBQUNIOztBQUVELGFBQVdNLGdCQUFYLEdBQThCO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHVCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVUsUUFBUSxHQUFHVixPQUFPLENBQUMsMkJBQUQsQ0FBeEI7O0FBRUEsV0FBTztBQUNIVyxNQUFBQSxPQUFPLEVBQUU7QUFDTEMsUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNjLG9CQURYO0FBRUxDLFFBQUFBLFdBQVcsRUFBRUwsT0FGUjtBQUdMTSxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxhQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDUSxPQUFRO0FBRnhCO0FBSEQsT0FETjtBQVNITyxNQUFBQSxVQUFVLEVBQUU7QUFDUk4sUUFBQUEsUUFBUSxFQUFFYixLQUFLLENBQUNvQixlQURSO0FBRVJMLFFBQUFBLFdBQVcsRUFBRUosUUFGTDtBQUdSSyxRQUFBQSxJQUFJLEVBQUU7QUFDRkMsVUFBQUEsSUFBSSxFQUFHLEdBQUViLFVBQVUsQ0FBQ0csSUFBSyxLQUR2QjtBQUVGVyxVQUFBQSxFQUFFLEVBQUcsR0FBRWQsVUFBVSxDQUFDaUIsUUFBUztBQUZ6QjtBQUhFO0FBVFQsS0FBUDtBQWtCSDs7QUFoQ29COztBQW1DekJyQixLQUFLLENBQUNzQixJQUFOLENBQVdwQixFQUFYO0FBRUFxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJvYmplY3Rpb25cIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcbmNvbnN0IHNjaGVtYSA9IHJlcXVpcmUoXCIuL21lbnUuc2NoZW1hLmpzb25cIik7XG5jb25zdCB0YWJsZU5hbWVzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbnN0YW50cy90YWJsZU5hbWVzXCIpO1xuXG5jbGFzcyBNZW51IGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBnZXQgdGFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGFibGVOYW1lcy5tZW51O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJlbGF0aW9uTWFwcGluZ3MoKSB7XG4gICAgICAgIC8vIEltcG9ydGluZyBtb2RlbHMgaGVyZSBpcyBhIG9uZSB3YXkgdG8gYXZvaWQgcmVxdWlyZSBsb29wcy5cbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoXCIuL2NhdGVnb3J5L2NhdGVnb3J5Lm1vZGVsXCIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3NzOiBDb21wYW55LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5jb21wYW55X2lkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMuY29tcGFueX0uaWRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2F0ZWdvcmllczoge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiBNb2RlbC5IYXNNYW55UmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzc3M6IENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGpvaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogYCR7dGFibGVOYW1lcy5tZW51fS5pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLmNhdGVnb3J5fS5tZW51X2lkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbk1vZGVsLmtuZXgoZGIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\nconst schema &#x3D; require(\&quot;.&#x2F;menu.schema.json\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nclass Menu extends Model {\n    static get tableName() {\n        return tableNames.menu;\n    }\n\n    static get jsonSchema() {\n        return schema;\n    }\n\n    static get relationMappings() {\n        &#x2F;&#x2F; Importing models here is a one way to avoid require loops.\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const Category &#x3D; require(\&quot;.&#x2F;category&#x2F;category.model\&quot;);\n\n        return {\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClasss: Company,\n                join: {\n                    from: &#x60;${tableNames.menu}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n            categories: {\n                relation: Model.HasManyRelation,\n                modelClasss: Category,\n                join: {\n                    from: &#x60;${tableNames.menu}.id&#x60;,\n                    to: &#x60;${tableNames.category}.menu_id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Menu;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e0&#x2F;menumodel_e012a4d71206586de4438d54cc8c48bf.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2963&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 4674,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 4671,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Menu&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 277,
                    &quot;endOffset&quot;: 277,
                    &quot;count&quot;: 3
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 313,
                    &quot;endOffset&quot;: 362,
                    &quot;count&quot;: 8
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get jsonSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 373,
                    &quot;endOffset&quot;: 414,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 425,
                    &quot;endOffset&quot;: 1081,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: true
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  createOrderSchema,\n  updateOrderSchema,\n  companyOrderSchema\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem); &#x2F;&#x2F; update an order item customer aka update cart item\n\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\&quot;&#x2F;:id\&quot;, updateOrderSchema, Auth([Role.staff, Role.owner]), updateOrder);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\&quot;&#x2F;company-orders\&quot;, companyOrderSchema, Auth([Role.owner, Role.staff]), getCompanyOrders);\n\nfunction createOrder(req, res, next) {\n  const payload &#x3D; {\n    customer_id: req.user.id,\n    company_id: req.params.company_id,\n    item: req.body\n  };\n  orderService.createOrder(payload).then(orderItem &#x3D;&gt; res.json({\n    message: &#x60;${orderItem.item} has been added to the cart&#x60;\n  })).catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n  orderService.updateOrder(req.params.id, req.user, req.body).then(order &#x3D;&gt; res.json(order)).catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n  orderService.getOrderById(id).then(order &#x3D;&gt; order ? res.json(order) : res.sendStatus(404)).catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n  orderService.getOwnOrders(req.user.id).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n  &#x2F;&#x2F; TODO to use query params\n  params.company_id &#x3D; req.params.company_id;\n  orderService.getCompanyOrders(params).then(orders &#x3D;&gt; orders.length &gt; 0 ? orders : res.sendStatus(404)).catch(next);\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyU2NoZW1hIiwidXBkYXRlT3JkZXJTY2hlbWEiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJhdXRoIiwiQXV0aCIsIlJvbGUiLCJvcmRlclNlcnZpY2UiLCJPcmRlckl0ZW0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInVzZSIsInBvc3QiLCJjdXN0b21lciIsImNyZWF0ZU9yZGVyIiwicGF0Y2giLCJzdGFmZiIsIm93bmVyIiwidXBkYXRlT3JkZXIiLCJnZXQiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicmVxIiwicmVzIiwibmV4dCIsInBheWxvYWQiLCJjdXN0b21lcl9pZCIsInVzZXIiLCJpZCIsImNvbXBhbnlfaWQiLCJwYXJhbXMiLCJpdGVtIiwiYm9keSIsInRoZW4iLCJvcmRlckl0ZW0iLCJqc29uIiwibWVzc2FnZSIsImNhdGNoIiwib3JkZXIiLCJzZW5kU3RhdHVzIiwib3JkZXJzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQ0ZDLEVBQUFBLGlCQURFO0FBRUZDLEVBQUFBLGlCQUZFO0FBR0ZDLEVBQUFBO0FBSEUsSUFJRkgsT0FBTyxDQUFDLG9CQUFELENBSlg7O0FBS0EsTUFBTTtBQUFFSSxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJMLE9BQU8sQ0FBQyw0QkFBRCxDQUE5Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxxQkFBRCxDQUFwQjs7QUFDQSxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxpQkFBRCxDQUE1Qjs7QUFFQSxNQUFNUSxTQUFTLEdBQUdSLE9BQU8sQ0FBQyw4QkFBRCxDQUF6Qjs7QUFFQSxNQUFNUyxN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QUlIOztBQUVELFNBQVNILGdCQUFULENBQTBCQyxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0FBQ3RDO0FBRUFNLEVBQUFBLE1BQU0sQ0FBQ0QsVUFBUCxHQUFvQlAsR0FBRyxDQUFDUSxNQUFKLENBQVdELFVBQS9CO0FBQ0F4QixFQUFBQSxZQUFZLENBQ1BnQixnQkFETCxDQUNzQlMsTUFEdEIsRUFFS0csSUFGTCxDQUVXTyxNQUFELElBQWFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixDQUFoQixHQUFvQkQsTUFBcEIsR0FBNkJqQixHQUFHLENBQUNnQixVQUFKLENBQWUsR0FBZixDQUZwRCxFQUdLRixLQUhMLENBR1diLElBSFg7QUFJSDs7QUFDRGtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge1xuICAgIGNyZWF0ZU9yZGVyU2NoZW1hLFxuICAgIHVwZGF0ZU9yZGVyU2NoZW1hLFxuICAgIGNvbXBhbnlPcmRlclNjaGVtYSxcbn0gPSByZXF1aXJlKFwiLi9vcmRlci52YWxpZGF0b3JzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCBSb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi9vcmRlci5zZXJ2aWNlXCIpO1xuXG5jb25zdCBPcmRlckl0ZW0gPSByZXF1aXJlKFwiLi9vcmRlckl0ZW0vb3JkZXJJdGVtLnJvdXRlc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci51c2UoXCIvOm9yZGVyX2lkL29yZGVySXRlbVwiLCBPcmRlckl0ZW0pO1xuXG4vLyB1cGRhdGUgYW4gb3JkZXIgaXRlbSBjdXN0b21lciBha2EgdXBkYXRlIGNhcnQgaXRlbVxucm91dGVyLnBvc3QoXCIvXCIsIGNyZWF0ZU9yZGVyU2NoZW1hLCBBdXRoKFJvbGUuY3VzdG9tZXIpLCBjcmVhdGVPcmRlcik7XG5yb3V0ZXIucGF0Y2goXG4gICAgXCIvOmlkXCIsXG4gICAgdXBkYXRlT3JkZXJTY2hlbWEsXG4gICAgQXV0aChbUm9sZS5zdGFmZiwgUm9sZS5vd25lcl0pLFxuICAgIHVwZGF0ZU9yZGVyXG4pO1xucm91dGVyLmdldChcIi86aWRcIiwgQXV0aCgpLCBnZXRPcmRlckJ5SWQpO1xucm91dGVyLmdldChcIi86aWQvbXktb3JkZXJzXCIsIEF1dGgoUm9sZS5jdXN0b21lciksIGdldE93bk9yZGVycyk7XG5yb3V0ZXIuZ2V0KFxuICAgIFwiL2NvbXBhbnktb3JkZXJzXCIsXG4gICAgY29tcGFueU9yZGVyU2NoZW1hLFxuICAgIEF1dGgoW1JvbGUub3duZXIsIFJvbGUuc3RhZmZdKSxcbiAgICBnZXRDb21wYW55T3JkZXJzXG4pO1xuXG5mdW5jdGlvbiBjcmVhdGVPcmRlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGN1c3RvbWVyX2lkOiByZXEudXNlci5pZCxcbiAgICAgICAgY29tcGFueV9pZDogcmVxLnBhcmFtcy5jb21wYW55X2lkLFxuICAgICAgICBpdGVtOiByZXEuYm9keSxcbiAgICB9O1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuY3JlYXRlT3JkZXIocGF5bG9hZClcbiAgICAgICAgLnRoZW4oKG9yZGVySXRlbSkgPT5cbiAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtvcmRlckl0ZW0uaXRlbX0gaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGNhcnRgLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgb3JkZXJTZXJ2aWNlXG4gICAgICAgIC51cGRhdGVPcmRlcihyZXEucGFyYW1zLmlkLCByZXEudXNlciwgcmVxLmJvZHkpXG4gICAgICAgIC50aGVuKChvcmRlcikgPT4gcmVzLmpzb24ob3JkZXIpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE9yZGVyQnlJZChyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3JkZXJCeUlkKGlkKVxuICAgICAgICAudGhlbigob3JkZXIpID0+IChvcmRlciA&#x2F;IHJlcy5qc29uKG9yZGVyKSA6IHJlcy5zZW5kU3RhdHVzKDQwNCkpKVxuICAgICAgICAuY2F0Y2gobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldE93bk9yZGVycyhyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZVxuICAgICAgICAuZ2V0T3duT3JkZXJzKHJlcS51c2VyLmlkKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYW55T3JkZXJzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgLy8gVE9ETyB0byB1c2UgcXVlcnkgcGFyYW1zXG5cbiAgICBwYXJhbXMuY29tcGFueV9pZCA9IHJlcS5wYXJhbXMuY29tcGFueV9pZDtcbiAgICBvcmRlclNlcnZpY2VcbiAgICAgICAgLmdldENvbXBhbnlPcmRlcnMocGFyYW1zKVxuICAgICAgICAudGhlbigob3JkZXJzKSA9PiAob3JkZXJzLmxlbmd0aCA+IDAgPyBvcmRlcnMgOiByZXMuc2VuZFN0YXR1cyg0MDQpKSlcbiAgICAgICAgLmNhdGNoKG5leHQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst {\n    createOrderSchema,\n    updateOrderSchema,\n    companyOrderSchema,\n} &#x3D; require(\&quot;.&#x2F;order.validators\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst Role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;.&#x2F;order.service\&quot;);\n\nconst OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.routes\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.use(\&quot;&#x2F;:order_id&#x2F;orderItem\&quot;, OrderItem);\n\n&#x2F;&#x2F; update an order item customer aka update cart item\nrouter.post(\&quot;&#x2F;\&quot;, createOrderSchema, Auth(Role.customer), createOrder);\nrouter.patch(\n    \&quot;&#x2F;:id\&quot;,\n    updateOrderSchema,\n    Auth([Role.staff, Role.owner]),\n    updateOrder\n);\nrouter.get(\&quot;&#x2F;:id\&quot;, Auth(), getOrderById);\nrouter.get(\&quot;&#x2F;:id&#x2F;my-orders\&quot;, Auth(Role.customer), getOwnOrders);\nrouter.get(\n    \&quot;&#x2F;company-orders\&quot;,\n    companyOrderSchema,\n    Auth([Role.owner, Role.staff]),\n    getCompanyOrders\n);\n\nfunction createOrder(req, res, next) {\n    const payload &#x3D; {\n        customer_id: req.user.id,\n        company_id: req.params.company_id,\n        item: req.body,\n    };\n    orderService\n        .createOrder(payload)\n        .then((orderItem) &#x3D;&gt;\n            res.json({\n                message: &#x60;${orderItem.item} has been added to the cart&#x60;,\n            })\n        )\n        .catch(next);\n}\n\nfunction updateOrder(req, res, next) {\n    orderService\n        .updateOrder(req.params.id, req.user, req.body)\n        .then((order) &#x3D;&gt; res.json(order))\n        .catch(next);\n}\n\nfunction getOrderById(req, res, next) {\n    orderService\n        .getOrderById(id)\n        .then((order) &#x3D;&gt; (order ? res.json(order) : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getOwnOrders(req, res, next) {\n    orderService\n        .getOwnOrders(req.user.id)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\n\nfunction getCompanyOrders(req, res, next) {\n    &#x2F;&#x2F; TODO to use query params\n\n    params.company_id &#x3D; req.params.company_id;\n    orderService\n        .getCompanyOrders(params)\n        .then((orders) &#x3D;&gt; (orders.length &gt; 0 ? orders : res.sendStatus(404)))\n        .catch(next);\n}\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;8f&#x2F;orderroutes_8f4620babd5b20aee9e160dc0d9cf20a.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2964&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 9222,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 9219,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 978,
                    &quot;endOffset&quot;: 1275,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1277,
                    &quot;endOffset&quot;: 1423,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1425,
                    &quot;endOffset&quot;: 1572,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1574,
                    &quot;endOffset&quot;: 1734,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1736,
                    &quot;endOffset&quot;: 1974,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\n\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    item: Joi.number().required(),\n    quantity: Joi.number()\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n  const schema &#x3D; Joi.object({\n    customer_id: Joi.number().empty(),\n    order_status: Joi.string().empty(\&quot;\&quot;),\n    purchase_status: Joi.string().empty(\&quot;\&quot;)\n  });\n  validateRequest(req, next, schema);\n};\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnZhbGlkYXRvcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsInZhbGlkYXRlUmVxdWVzdCIsImV4cG9ydHMiLCJjcmVhdGVPcmRlclNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJvYmplY3QiLCJpdGVtIiwibnVtYmVyIiwicmVxdWlyZWQiLCJxdWFudGl0eSIsInVwZGF0ZU9yZGVyU2NoZW1hIiwib3JkZXJfc3RhdHVzIiwic3RyaW5nIiwiZW1wdHkiLCJwdXJjaGFzZV9zdGF0dXMiLCJjb21wYW55T3JkZXJTY2hlbWEiLCJjdXN0b21lcl9pZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUEvQjs7QUFFQUUsT0FBTyxDQUFDQyxpQkFBUixHQUE0QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM1QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxJQUFJLEVBQUVWLEdBQUcsQ0FBQ1csTUFBSixHQUFhQyxRQUFiLEVBRGdCO0FBRXRCQyxJQUFBQSxRQUFRLEVBQUViLEdBQUcsQ0FBQ1csTUFBSjtBQUZZLEdBQVgsQ0FBZjtBQUlBVCxFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQU5EOztBQVFBTCxPQUFPLENBQUNXLGlCQUFSLEdBQTRCLENBQUNULEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzVDLFFBQU1DLE1BQU0sR0FBR1IsR0FBRyxDQUFDUyxNQUFKLENBQVc7QUFDdEJNLElBQUFBLFlBQVksRUFBRWYsR0FBRyxDQUFDZ0IsTUFBSixHQUFhQyxLQUFiLENBQW1CLEVBQW5CLENBRFE7QUFFdEJDLElBQUFBLGVBQWUsRUFBRWxCLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQjtBQUZLLEdBQVgsQ0FBZjtBQUtBZixFQUFBQSxlQUFlLENBQUNHLEdBQUQsRUFBTUUsSUFBTixFQUFZQyxNQUFaLENBQWY7QUFDSCxDQVBEOztBQVNBTCxPQUFPLENBQUNnQixrQkFBUixHQUE2QixDQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUM3QyxRQUFNQyxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXO0FBQ3RCVyxJQUFBQSxXQUFXLEVBQUVwQixHQUFHLENBQUNXLE1BQUosR0FBYU0sS0FBYixFQURTO0FBRXRCRixJQUFBQSxZQUFZLEVBQUVmLEdBQUcsQ0FBQ2dCLE1BQUosR0FBYUMsS0FBYixDQUFtQixFQUFuQixDQUZRO0FBR3RCQyxJQUFBQSxlQUFlLEVBQUVsQixHQUFHLENBQUNnQixNQUFKLEdBQWFDLEtBQWIsQ0FBbUIsRUFBbkI7QUFISyxHQUFYLENBQWY7QUFNQWYsRUFBQUEsZUFBZSxDQUFDRyxHQUFELEVBQU1FLElBQU4sRUFBWUMsTUFBWixDQUFmO0FBQ0gsQ0FSRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoXCJqb2lcIik7XG5jb25zdCB2YWxpZGF0ZVJlcXVlc3QgPSByZXF1aXJlKFwiLi4vLi4vLi4vX21pZGRsZXdhcmVzL3ZhbGlkYXRlUmVxdWVzdFwiKTtcblxuZXhwb3J0cy5jcmVhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBpdGVtOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcXVhbnRpdHk6IEpvaS5udW1iZXIoKSxcbiAgICB9KTtcbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy51cGRhdGVPcmRlclNjaGVtYSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcblxuZXhwb3J0cy5jb21wYW55T3JkZXJTY2hlbWEgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICAgICAgY3VzdG9tZXJfaWQ6IEpvaS5udW1iZXIoKS5lbXB0eSgpLFxuICAgICAgICBvcmRlcl9zdGF0dXM6IEpvaS5zdHJpbmcoKS5lbXB0eShcIlwiKSxcbiAgICAgICAgcHVyY2hhc2Vfc3RhdHVzOiBKb2kuc3RyaW5nKCkuZW1wdHkoXCJcIiksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZVJlcXVlc3QocmVxLCBuZXh0LCBzY2hlbWEpO1xufTtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Joi &#x3D; require(\&quot;joi\&quot;);\nconst validateRequest &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;validateRequest\&quot;);\n\nexports.createOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        item: Joi.number().required(),\n        quantity: Joi.number(),\n    });\n    validateRequest(req, next, schema);\n};\n\nexports.updateOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n\nexports.companyOrderSchema &#x3D; (req, res, next) &#x3D;&gt; {\n    const schema &#x3D; Joi.object({\n        customer_id: Joi.number().empty(),\n        order_status: Joi.string().empty(\&quot;\&quot;),\n        purchase_status: Joi.string().empty(\&quot;\&quot;),\n    });\n\n    validateRequest(req, next, schema);\n};\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;e1&#x2F;ordervalidators_e12e9bab16ee6f22191cb1085e8fa580.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2965&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 3959,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 3956,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 221,
                    &quot;endOffset&quot;: 380,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 411,
                    &quot;endOffset&quot;: 594,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 626,
                    &quot;endOffset&quot;: 848,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n  createOrder,\n  updateOrderItem,\n  updateOrder,\n  getOrderById,\n  getOwnOrders,\n  getCompanyOrders\n};\n\nasync function createOrder(params) {\n  const order &#x3D; await get_or_create(params.customer_id, params.company_id); &#x2F;&#x2F; insert the item to the order item table\n\n  const orderItem &#x3D; order.$relatedQuery(\&quot;items\&quot;).insert({\n    item: params.item.id,\n    order: order.id\n  });\n  return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n  const order &#x3D; await getOrder(id); &#x2F;&#x2F; check item quantity\n\n  if (params.item.quantity &lt;&#x3D; 0) {\n    &#x2F;&#x2F; remove from cart\n    await order.$relatedQuery(\&quot;items\&quot;).delete().where({\n      item: params.item.id\n    });\n    return;\n  }\n\n  const orderItem &#x3D; await order.$relatedQuery(\&quot;items\&quot;).patch({\n    quantity: params.item.quantity\n  }).where({\n    item: params.item.id\n  }).returning(\&quot;*\&quot;);\n  return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n  let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n  if (order.company.id !&#x3D;&#x3D; user.company.id) {\n    const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n    throw error;\n  } &#x2F;&#x2F; aka update order table\n\n\n  order &#x3D; await Order.query().patchAndFetchById(id, params);\n  return order;\n}\n\nasync function getOrderById(id) {\n  const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n  return order;\n}\n\nasync function getOwnOrders(id) {\n  const orders &#x3D; await Order.query().where({\n    customer_id: id\n  }).orderBy(\&quot;created_at\&quot;);\n  return orders;\n}\n\nasync function getCompanyOrders(params) {\n  const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n  return orders;\n} &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n\nasync function get_or_create(id, company_id) {\n  &#x2F;&#x2F; checks for the existence of a customer order\n  &#x2F;&#x2F; if it exists add the new items on it\n  &#x2F;&#x2F; if it does not exist it creates one\n  let order &#x3D; await Order.query().where({\n    customer_id: id,\n    order_status: \&quot;New\&quot;\n  }).first();\n\n  if (!order) {\n    &#x2F;&#x2F; create one\n    order &#x3D; await Order.query().insert({\n      customer_id: id,\n      company_id,\n      order_status: \&quot;New\&quot;,\n      purchase_status: \&quot;unpaid\&quot;\n    });\n  }\n\n  return order;\n}\n\nasync function getOrder(id) {\n  const order &#x3D; await Order.query().findById(id);\n  return order;\n}\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiT3JkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZU9yZGVyIiwidXBkYXRlT3JkZXJJdGVtIiwidXBkYXRlT3JkZXIiLCJnZXRPcmRlckJ5SWQiLCJnZXRPd25PcmRlcnMiLCJnZXRDb21wYW55T3JkZXJzIiwicGFyYW1zIiwib3JkZXIiLCJnZXRfb3JfY3JlYXRlIiwiY3VzdG9tZXJfaWQiLCJjb21wYW55X2lkIiwib3JkZXJJdGVtIiwiJHJlbGF0ZWRRdWVyeSIsImluc2VydCIsIml0ZW0iLCJpZCIsImdldE9yZGVyIiwicXVhbnRpdHkiLCJkZWxldGUiLCJ3aGVyZSIsInBhdGNoIiwicmV0dXJuaW5nIiwidXNlciIsIndpdGhHcmFwaEZldGNoZWQiLCJjb21wYW55IiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5IiwicGF0Y2hBbmRGZXRjaEJ5SWQiLCJvcmRlcnMiLCJvcmRlckJ5Iiwib3JkZXJfc3RhdHVzIiwiZmlyc3QiLCJwdXJjaGFzZV9zdGF0dXMiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JDLEVBQUFBLFdBRGE7QUFFYkMsRUFBQUEsZUFGYTtBQUdiQyxFQUFBQSxXQUhhO0FBSWJDLEVBQUFBLFlBSmE7QUFLYkMsRUFBQUEsWUFMYTtBQU1iQyxFQUFBQTtBQU5hLENBQWpCOztBQVNBLGVBQWVMLFdBQWYsQ0FBMkJNLE1BQTNCLEVBQW1DO0FBQy9CLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxhQUFhLENBQUNGLE1BQU0sQ0FBQ0csV0FBUixFQUFxQkgsTUFBTSxDQUFDSSxVQUE1QixDQUFqQyxDQUQrQixDQUcvQjs7QUFDQSxRQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FDbEJLLGFBRGEsQ0FDQyxPQURELEVBRWJDLE1BRmEsQ0FFTjtBQUFF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QUFJLENBQUN6QixLQUFMLEVBQVk7QUFDUjtBQUNBQSxJQUFBQSxLQUFLLEdBQUcsTUFBTVgsS0FBSyxDQUFDK0IsS0FBTixHQUFjZCxNQUFkLENBQXFCO0FBQy9CSixNQUFBQSxXQUFXLEVBQUVNLEVBRGtCO0FBRS9CTCxNQUFBQSxVQUYrQjtBQUcvQnFCLE1BQUFBLFlBQVksRUFBRSxLQUhpQjtBQUkvQkUsTUFBQUEsZUFBZSxFQUFFO0FBSmMsS0FBckIsQ0FBZDtBQU1IOztBQUVELFNBQU8xQixLQUFQO0FBQ0g7O0FBRUQsZUFBZVMsUUFBZixDQUF3QkQsRUFBeEIsRUFBNEI7QUFDeEIsUUFBTVIsS0FBSyxHQUFHLE1BQU1YLEtBQUssQ0FBQytCLEtBQU4sR0FBY08sUUFBZCxDQUF1Qm5CLEVBQXZCLENBQXBCO0FBQ0EsU0FBT1IsS0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT3JkZXIgPSByZXF1aXJlKFwiLi9vcmRlci5tb2RlbFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY3JlYXRlT3JkZXIsXG4gICAgdXBkYXRlT3JkZXJJdGVtLFxuICAgIHVwZGF0ZU9yZGVyLFxuICAgIGdldE9yZGVyQnlJZCxcbiAgICBnZXRPd25PcmRlcnMsXG4gICAgZ2V0Q29tcGFueU9yZGVycyxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0X29yX2NyZWF0ZShwYXJhbXMuY3VzdG9tZXJfaWQsIHBhcmFtcy5jb21wYW55X2lkKTtcblxuICAgIC8vIGluc2VydCB0aGUgaXRlbSB0byB0aGUgb3JkZXIgaXRlbSB0YWJsZVxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLmluc2VydCh7IGl0ZW06IHBhcmFtcy5pdGVtLmlkLCBvcmRlcjogb3JkZXIuaWQgfSk7XG5cbiAgICByZXR1cm4gb3JkZXJJdGVtO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckl0ZW0oaWQsIHBhcmFtcykge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZ2V0T3JkZXIoaWQpO1xuXG4gICAgLy8gY2hlY2sgaXRlbSBxdWFudGl0eVxuICAgIGlmIChwYXJhbXMuaXRlbS5xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGNhcnRcbiAgICAgICAgYXdhaXQgb3JkZXJcbiAgICAgICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLndoZXJlKHsgaXRlbTogcGFyYW1zLml0ZW0uaWQgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yZGVySXRlbSA9IGF3YWl0IG9yZGVyXG4gICAgICAgIC4kcmVsYXRlZFF1ZXJ5KFwiaXRlbXNcIilcbiAgICAgICAgLnBhdGNoKHtcbiAgICAgICAgICAgIHF1YW50aXR5OiBwYXJhbXMuaXRlbS5xdWFudGl0eSxcbiAgICAgICAgfSlcbiAgICAgICAgLndoZXJlKHtcbiAgICAgICAgICAgIGl0ZW06IHBhcmFtcy5pdGVtLmlkLFxuICAgICAgICB9KVxuICAgICAgICAucmV0dXJuaW5nKFwiKlwiKTtcblxuICAgIHJldHVybiBvcmRlckl0ZW07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkLCB1c2VyLCBwYXJhbXMpIHtcbiAgICBsZXQgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCkud2l0aEdyYXBoRmV0Y2hlZChcImNvbXBhbnlcIik7XG5cbiAgICBpZiAob3JkZXIuY29tcGFueS5pZCAhPT0gdXNlci5jb21wYW55LmlkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVW5hdGhvcml6ZWRcIik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBha2EgdXBkYXRlIG9yZGVyIHRhYmxlXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5xdWVyeSgpLnBhdGNoQW5kRmV0Y2hCeUlkKGlkLCBwYXJhbXMpO1xuXG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPcmRlckJ5SWQoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGdldE9yZGVyKGlkKS53aXRoR3JhcGhGZXRjaGVkKFwiaXRlbXNcIik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPd25PcmRlcnMoaWQpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpXG4gICAgICAgIC53aGVyZSh7IGN1c3RvbWVyX2lkOiBpZCB9KVxuICAgICAgICAub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFueU9yZGVycyhwYXJhbXMpIHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5xdWVyeSgpLndoZXJlKHBhcmFtcykub3JkZXJCeShcImNyZWF0ZWRfYXRcIik7XG4gICAgcmV0dXJuIG9yZGVycztcbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09aGVscGVycz09PT09PT09PT09PT09PT09PT09PT09PT09XG5hc3luYyBmdW5jdGlvbiBnZXRfb3JfY3JlYXRlKGlkLCBjb21wYW55X2lkKSB7XG4gICAgLy8gY2hlY2tzIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgY3VzdG9tZXIgb3JkZXJcbiAgICAvLyBpZiBpdCBleGlzdHMgYWRkIHRoZSBuZXcgaXRlbXMgb24gaXRcbiAgICAvLyBpZiBpdCBkb2VzIG5vdCBleGlzdCBpdCBjcmVhdGVzIG9uZVxuXG4gICAgbGV0IG9yZGVyID0gYXdhaXQgT3JkZXIucXVlcnkoKVxuICAgICAgICAud2hlcmUoe1xuICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGlkLFxuICAgICAgICAgICAgb3JkZXJfc3RhdHVzOiBcIk5ld1wiLFxuICAgICAgICB9KVxuICAgICAgICAuZmlyc3QoKTtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9uZVxuICAgICAgICBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuaW5zZXJ0KHtcbiAgICAgICAgICAgIGN1c3RvbWVyX2lkOiBpZCxcbiAgICAgICAgICAgIGNvbXBhbnlfaWQsXG4gICAgICAgICAgICBvcmRlcl9zdGF0dXM6IFwiTmV3XCIsXG4gICAgICAgICAgICBwdXJjaGFzZV9zdGF0dXM6IFwidW5wYWlkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLnF1ZXJ5KCkuZmluZEJ5SWQoaWQpO1xuICAgIHJldHVybiBvcmRlcjtcbn1cbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const Order &#x3D; require(\&quot;.&#x2F;order.model\&quot;);\n\nmodule.exports &#x3D; {\n    createOrder,\n    updateOrderItem,\n    updateOrder,\n    getOrderById,\n    getOwnOrders,\n    getCompanyOrders,\n};\n\nasync function createOrder(params) {\n    const order &#x3D; await get_or_create(params.customer_id, params.company_id);\n\n    &#x2F;&#x2F; insert the item to the order item table\n    const orderItem &#x3D; order\n        .$relatedQuery(\&quot;items\&quot;)\n        .insert({ item: params.item.id, order: order.id });\n\n    return orderItem;\n}\n\nasync function updateOrderItem(id, params) {\n    const order &#x3D; await getOrder(id);\n\n    &#x2F;&#x2F; check item quantity\n    if (params.item.quantity &lt;&#x3D; 0) {\n        &#x2F;&#x2F; remove from cart\n        await order\n            .$relatedQuery(\&quot;items\&quot;)\n            .delete()\n            .where({ item: params.item.id });\n\n        return;\n    }\n\n    const orderItem &#x3D; await order\n        .$relatedQuery(\&quot;items\&quot;)\n        .patch({\n            quantity: params.item.quantity,\n        })\n        .where({\n            item: params.item.id,\n        })\n        .returning(\&quot;*\&quot;);\n\n    return orderItem;\n}\n\nasync function updateOrder(id, user, params) {\n    let order &#x3D; await getOrder(id).withGraphFetched(\&quot;company\&quot;);\n\n    if (order.company.id !&#x3D;&#x3D; user.company.id) {\n        const error &#x3D; new Error(\&quot;Unathorized\&quot;);\n        throw error;\n    }\n    &#x2F;&#x2F; aka update order table\n    order &#x3D; await Order.query().patchAndFetchById(id, params);\n\n    return order;\n}\n\nasync function getOrderById(id) {\n    const order &#x3D; await getOrder(id).withGraphFetched(\&quot;items\&quot;);\n    return order;\n}\n\nasync function getOwnOrders(id) {\n    const orders &#x3D; await Order.query()\n        .where({ customer_id: id })\n        .orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n\nasync function getCompanyOrders(params) {\n    const orders &#x3D; await Order.query().where(params).orderBy(\&quot;created_at\&quot;);\n    return orders;\n}\n&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;helpers&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nasync function get_or_create(id, company_id) {\n    &#x2F;&#x2F; checks for the existence of a customer order\n    &#x2F;&#x2F; if it exists add the new items on it\n    &#x2F;&#x2F; if it does not exist it creates one\n\n    let order &#x3D; await Order.query()\n        .where({\n            customer_id: id,\n            order_status: \&quot;New\&quot;,\n        })\n        .first();\n\n    if (!order) {\n        &#x2F;&#x2F; create one\n        order &#x3D; await Order.query().insert({\n            customer_id: id,\n            company_id,\n            order_status: \&quot;New\&quot;,\n            purchase_status: \&quot;unpaid\&quot;,\n        });\n    }\n\n    return order;\n}\n\nasync function getOrder(id) {\n    const order &#x3D; await Order.query().findById(id);\n    return order;\n}\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;2d&#x2F;orderservice_2dd8ed46d0ebb5dcc0edc8f1fb86b7ac.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2966&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 10175,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 10172,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;createOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 253,
                    &quot;endOffset&quot;: 541,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 543,
                    &quot;endOffset&quot;: 993,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 995,
                    &quot;endOffset&quot;: 1322,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrderById&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1324,
                    &quot;endOffset&quot;: 1437,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOwnOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1439,
                    &quot;endOffset&quot;: 1584,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getCompanyOrders&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1586,
                    &quot;endOffset&quot;: 1720,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get_or_create&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 1783,
                    &quot;endOffset&quot;: 2270,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;getOrder&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 2272,
                    &quot;endOffset&quot;: 2369,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const {\n  Model\n} &#x3D; require(\&quot;objection\&quot;);\n\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\n\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n  static get tableName() {\n    return tableNames.order;\n  }\n\n  static get relationMappings() {\n    const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n\n    const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n\n    const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n    return {\n      items: {\n        relation: Model.HasManyRelation,\n        modelClass: OrderItem,\n        join: {\n          from: &#x60;${tableNames.order}.id&#x60;,\n          to: &#x60;${tableNames.orderItem}.order_id&#x60;\n        }\n      },\n      customer: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: User,\n        join: {\n          from: &#x60;${tableNames.order}.customer_id&#x60;,\n          to: &#x60;${tableNames.user}.id&#x60;\n        }\n      },\n      company: {\n        relation: Model.BelongsToOneRelation,\n        modelClass: Company,\n        join: {\n          from: &#x60;${tableNames.order}.company_id&#x60;,\n          to: &#x60;${tableNames.company}.id&#x60;\n        }\n      }\n    };\n  }\n\n}\n\nModel.knex(db);\nmodule.exports &#x3D; Order;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIk1vZGVsIiwicmVxdWlyZSIsInRhYmxlTmFtZXMiLCJkYiIsIk9yZGVyIiwidGFibGVOYW1lIiwib3JkZXIiLCJyZWxhdGlvbk1hcHBpbmdzIiwiQ29tcGFueSIsIlVzZXIiLCJPcmRlckl0ZW0iLCJpdGVtcyIsInJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwibW9kZWxDbGFzcyIsImpvaW4iLCJmcm9tIiwidG8iLCJvcmRlckl0ZW0iLCJjdXN0b21lciIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwidXNlciIsImNvbXBhbnkiLCJrbmV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQTFCOztBQUNBLE1BQU1FLEVBQUUsR0FBR0YsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0FBRUEsTUFBTUcsS0FBTixTQUFvQkosS0FBcEIsQ0FBMEI7QUFDdEIsYUFBV0ssU0FBWCxHQUF1QjtBQUNuQixXQUFPSCxVQUFVLENBQUNJLEtBQWxCO0FBQ0g7O0FBRUQsYUFBV0MsZ0JBQVgsR0FBOEI7QUFDMUIsVUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsa0JBQUQsQ0FBdkI7O0FBQ0EsVUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBQ0EsVUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsNkJBQUQsQ0FBekI7O0FBRUEsV0FBTztBQUNIVSxNQUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNhLGVBRGI7QUFFSEMsUUFBQUEsVUFBVSxFQUFFSixTQUZUO0FBR0hLLFFBQUFBLElBQUksRUFBRTtBQUNGQyxVQUFBQSxJQUFJLEVBQUcsR0FBRWQsVUFBVSxDQUFDSSxLQUFNLEtBRHhCO0FBRUZXLFVBQUFBLEVBQUUsRUFBRyxHQUFFZixVQUFVLENBQUNnQixTQUFVO0FBRjFCO0FBSEgsT0FESjtBQVVIQyxNQUFBQSxRQUFRLEVBQUU7QUFDTlAsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEVjtBQUVOTixRQUFBQSxVQUFVLEVBQUVMLElBRk47QUFHTk0sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sY0FEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ21CLElBQUs7QUFGckI7QUFIQSxPQVZQO0FBa0JIQyxNQUFBQSxPQUFPLEVBQUU7QUFDTFYsUUFBQUEsUUFBUSxFQUFFWixLQUFLLENBQUNvQixvQkFEWDtBQUVMTixRQUFBQSxVQUFVLEVBQUVOLE9BRlA7QUFHTE8sUUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFVBQUFBLElBQUksRUFBRyxHQUFFZCxVQUFVLENBQUNJLEtBQU0sYUFEeEI7QUFFRlcsVUFBQUEsRUFBRSxFQUFHLEdBQUVmLFVBQVUsQ0FBQ29CLE9BQVE7QUFGeEI7QUFIRDtBQWxCTixLQUFQO0FBMkJIOztBQXJDcUI7O0FBd0MxQnRCLEtBQUssQ0FBQ3VCLElBQU4sQ0FBV3BCLEVBQVg7QUFFQXFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcIm9iamVjdGlvblwiKTtcbmNvbnN0IHRhYmxlTmFtZXMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhYmxlTmFtZXNcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9kYlwiKTtcblxuY2xhc3MgT3JkZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGdldCB0YWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0YWJsZU5hbWVzLm9yZGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVsYXRpb25NYXBwaW5ncygpIHtcbiAgICAgICAgY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoXCIuLi9jb21wYW55Lm1vZGVsXCIpO1xuICAgICAgICBjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL3VzZXIvdXNlci5tb2RlbFwiKTtcbiAgICAgICAgY29uc3QgT3JkZXJJdGVtID0gcmVxdWlyZShcIi4vb3JkZXJJdGVtL29yZGVySXRlbS5tb2RlbFwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuSGFzTWFueVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IE9yZGVySXRlbSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGAke3RhYmxlTmFtZXMub3JkZXJJdGVtfS5vcmRlcl9pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb246IE1vZGVsLkJlbG9uZ3NUb09uZVJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIG1vZGVsQ2xhc3M6IFVzZXIsXG4gICAgICAgICAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHt0YWJsZU5hbWVzLm9yZGVyfS5jdXN0b21lcl9pZGAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBgJHt0YWJsZU5hbWVzLnVzZXJ9LmlkYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZWxhdGlvbjogTW9kZWwuQmVsb25nc1RvT25lUmVsYXRpb24sXG4gICAgICAgICAgICAgICAgbW9kZWxDbGFzczogQ29tcGFueSxcbiAgICAgICAgICAgICAgICBqb2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGAke3RhYmxlTmFtZXMub3JkZXJ9LmNvbXBhbnlfaWRgLFxuICAgICAgICAgICAgICAgICAgICB0bzogYCR7dGFibGVOYW1lcy5jb21wYW55fS5pZGAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5Nb2RlbC5rbmV4KGRiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcjtcbiJdfQ&#x3D;&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const { Model } &#x3D; require(\&quot;objection\&quot;);\nconst tableNames &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;constants&#x2F;tableNames\&quot;);\nconst db &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;db\&quot;);\n\nclass Order extends Model {\n    static get tableName() {\n        return tableNames.order;\n    }\n\n    static get relationMappings() {\n        const Company &#x3D; require(\&quot;..&#x2F;company.model\&quot;);\n        const User &#x3D; require(\&quot;..&#x2F;..&#x2F;user&#x2F;user.model\&quot;);\n        const OrderItem &#x3D; require(\&quot;.&#x2F;orderItem&#x2F;orderItem.model\&quot;);\n\n        return {\n            items: {\n                relation: Model.HasManyRelation,\n                modelClass: OrderItem,\n                join: {\n                    from: &#x60;${tableNames.order}.id&#x60;,\n                    to: &#x60;${tableNames.orderItem}.order_id&#x60;,\n                },\n            },\n\n            customer: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: User,\n                join: {\n                    from: &#x60;${tableNames.order}.customer_id&#x60;,\n                    to: &#x60;${tableNames.user}.id&#x60;,\n                },\n            },\n            company: {\n                relation: Model.BelongsToOneRelation,\n                modelClass: Company,\n                join: {\n                    from: &#x60;${tableNames.order}.company_id&#x60;,\n                    to: &#x60;${tableNames.company}.id&#x60;,\n                },\n            },\n        };\n    }\n}\n\nModel.knex(db);\n\nmodule.exports &#x3D; Order;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;66&#x2F;ordermodel_662f5b9ea6475bcabfd0d4f0bf405dda.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2967&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 5243,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 5240,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Order&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 230,
                    &quot;endOffset&quot;: 230,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get tableName&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 267,
                    &quot;endOffset&quot;: 317,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;get relationMappings&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 328,
                    &quot;endOffset&quot;: 1185,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        },
        {
          &quot;codeTransformResult&quot;: {
            &quot;code&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\n\nconst {\n  auth: Auth\n} &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\n\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\n\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n  mergeParams: true\n});\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n  orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&#x2F;&#x2F;# sourceMappingURL&#x3D;data:application&#x2F;json;charset&#x3D;utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVySXRlbS5yb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhdXRoIiwiQXV0aCIsInJvbGUiLCJvcmRlclNlcnZpY2UiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtZXJnZVBhcmFtcyIsInB1dCIsImN1c3RvbWVyIiwidXBkYXRlT3JkZXJJdGVtIiwicmVxIiwicmVzIiwibmV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxJQUFJLEVBQUVDO0FBQVIsSUFBaUJGLE9BQU8sQ0FBQywrQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRyxJQUFJLEdBQUdILE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxrQkFBRCxDQUE1Qjs7QUFFQSxNQUFNSyxNQUFNLEdBQUdOLE9BQU8sQ0FBQ08sTUFBUixDQUFlO0FBQzFCQyxFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUFmLENBQWY7QUFJQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQk4sSUFBSSxDQUFDQyxJQUFJLENBQUNNLFFBQU4sQ0FBcEIsRUFBcUNDLGVBQXJDOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDckNULEVBQUFBLFlBQVksQ0FBQ00sZUFBYjtBQUNIOztBQUVESSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBhdXRoOiBBdXRoIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vX21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCByb2xlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL3V0aWxzL3JvbGVcIik7XG5jb25zdCBvcmRlclNlcnZpY2UgPSByZXF1aXJlKFwiLi4vb3JkZXIuc2VydmljZVwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoe1xuICAgIG1lcmdlUGFyYW1zOiB0cnVlLFxufSk7XG5cbnJvdXRlci5wdXQoXCIvXCIsIEF1dGgocm9sZS5jdXN0b21lciksIHVwZGF0ZU9yZGVySXRlbSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVySXRlbShyZXEsIHJlcywgbmV4dCkge1xuICAgIG9yZGVyU2VydmljZS51cGRhdGVPcmRlckl0ZW0oKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0&#x3D;&quot;,
            &quot;originalCode&quot;: &quot;const express &#x3D; require(\&quot;express\&quot;);\nconst { auth: Auth } &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;_middlewares&#x2F;auth\&quot;);\nconst role &#x3D; require(\&quot;..&#x2F;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;role\&quot;);\nconst orderService &#x3D; require(\&quot;..&#x2F;order.service\&quot;);\n\nconst router &#x3D; express.Router({\n    mergeParams: true,\n});\n\nrouter.put(\&quot;&#x2F;\&quot;, Auth(role.customer), updateOrderItem);\n\nfunction updateOrderItem(req, res, next) {\n    orderService.updateOrderItem();\n}\n\nmodule.exports &#x3D; router;\n&quot;,
            &quot;sourceMapPath&quot;: &quot;&#x2F;tmp&#x2F;jest_rs&#x2F;jest-transform-cache-b962fb3a13b4c1668b1985fc59a3e401-b0986c9d7f26a96973ae74af52fbaf1c&#x2F;44&#x2F;orderItemroutes_440b1db2888128c60482407cf8bcef31.map&quot;,
            &quot;wrapperLength&quot;: 89
          },
          &quot;result&quot;: {
            &quot;scriptId&quot;: &quot;2968&quot;,
            &quot;url&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
            &quot;functions&quot;: [
              {
                &quot;functionName&quot;: &quot;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 0,
                    &quot;endOffset&quot;: 2184,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 23,
                    &quot;endOffset&quot;: 2181,
                    &quot;count&quot;: 1
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              },
              {
                &quot;functionName&quot;: &quot;updateOrderItem&quot;,
                &quot;ranges&quot;: [
                  {
                    &quot;startOffset&quot;: 406,
                    &quot;endOffset&quot;: 484,
                    &quot;count&quot;: 0
                  }
                ],
                &quot;isBlockCoverage&quot;: false
              }
            ]
          }
        }
      ]
    }
  ],
  &quot;wasInterrupted&quot;: false,
  &quot;coverageMap&quot;: {
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;knexfile.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 36
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 27
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 18
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 11
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 21
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 21
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 33
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 51
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 44
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 52
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 10
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 21
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 52
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 10
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 16
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 47
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 10
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 6
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 18
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 21
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 21
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 33
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 46
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 44
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 52
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 10
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 21
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 52
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 10
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 16
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 47
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 10
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 6
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 17
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 21
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 45
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 15
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 19
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 20
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 10
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 21
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 52
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 10
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 16
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 47
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 10
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 6
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 1,
        &quot;36&quot;: 1,
        &quot;37&quot;: 1,
        &quot;38&quot;: 1,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1,
        &quot;43&quot;: 1,
        &quot;44&quot;: 1,
        &quot;45&quot;: 1,
        &quot;46&quot;: 1,
        &quot;47&quot;: 1,
        &quot;48&quot;: 1,
        &quot;49&quot;: 1,
        &quot;50&quot;: 1,
        &quot;51&quot;: 1,
        &quot;52&quot;: 1,
        &quot;53&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 54,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 54,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 54,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 54,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 54,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 54,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 54
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;auth.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 36
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 47
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 56
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 18
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 9
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 12
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 2
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 27
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 36
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 24
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 5
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 38
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 18
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 12
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 40
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 59
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 11
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 66
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 16
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 41
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 58
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 15
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 9
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 35
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 13
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 75
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 43
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 47
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 25
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 80
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 64
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 73
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 13
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 58
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 36
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 19
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 25
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 24
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 9
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 6
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 1
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 20
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 38
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 13
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 46
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 24
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 42
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 46
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 18
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 25
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 24
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 34
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 73
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 13
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 19
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 25
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 24
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 9
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 6
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 28,
        &quot;10&quot;: 28,
        &quot;11&quot;: 5,
        &quot;12&quot;: 5,
        &quot;13&quot;: 28,
        &quot;14&quot;: 28,
        &quot;15&quot;: 4,
        &quot;16&quot;: 4,
        &quot;17&quot;: 4,
        &quot;18&quot;: 4,
        &quot;19&quot;: 4,
        &quot;20&quot;: 2,
        &quot;21&quot;: 4,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 2,
        &quot;27&quot;: 2,
        &quot;28&quot;: 2,
        &quot;29&quot;: 2,
        &quot;30&quot;: 2,
        &quot;31&quot;: 2,
        &quot;32&quot;: 2,
        &quot;33&quot;: 2,
        &quot;34&quot;: 2,
        &quot;35&quot;: 4,
        &quot;36&quot;: 0,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 2,
        &quot;40&quot;: 2,
        &quot;41&quot;: 2,
        &quot;42&quot;: 2,
        &quot;43&quot;: 4,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 2,
        &quot;47&quot;: 28,
        &quot;48&quot;: 1,
        &quot;49&quot;: 5,
        &quot;50&quot;: 5,
        &quot;51&quot;: 4,
        &quot;52&quot;: 4,
        &quot;53&quot;: 4,
        &quot;54&quot;: 2,
        &quot;55&quot;: 2,
        &quot;56&quot;: 2,
        &quot;57&quot;: 2,
        &quot;58&quot;: 2,
        &quot;59&quot;: 4,
        &quot;60&quot;: 1,
        &quot;61&quot;: 1,
        &quot;62&quot;: 1,
        &quot;63&quot;: 1,
        &quot;64&quot;: 4,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 1,
        &quot;68&quot;: 5
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 69,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 69,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 10,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 11,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 35
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 11,
                &quot;column&quot;: 35
              },
              &quot;end&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 11
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 11
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 18,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 12
            },
            &quot;end&quot;: {
              &quot;line&quot;: 19,
              &quot;column&quot;: 15
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 18,
                &quot;column&quot;: 12
              },
              &quot;end&quot;: {
                &quot;line&quot;: 19,
                &quot;column&quot;: 15
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 20,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 20,
              &quot;column&quot;: 10
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 15
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 20,
                &quot;column&quot;: 10
              },
              &quot;end&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 15
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 22,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 9
            },
            &quot;end&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 9
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 9
              },
              &quot;end&quot;: {
                &quot;line&quot;: 26,
                &quot;column&quot;: 9
              }
            }
          ]
        },
        &quot;8&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 26,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 9
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 48
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 26,
                &quot;column&quot;: 9
              },
              &quot;end&quot;: {
                &quot;line&quot;: 36,
                &quot;column&quot;: 48
              }
            }
          ]
        },
        &quot;9&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 36,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 79
            },
            &quot;end&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 13
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 36,
                &quot;column&quot;: 79
              },
              &quot;end&quot;: {
                &quot;line&quot;: 39,
                &quot;column&quot;: 13
              }
            }
          ]
        },
        &quot;10&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 39,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 13
            },
            &quot;end&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 39,
                &quot;column&quot;: 13
              },
              &quot;end&quot;: {
                &quot;line&quot;: 44,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;11&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 44,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 10
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 9
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 44,
                &quot;column&quot;: 10
              },
              &quot;end&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 9
              }
            }
          ]
        },
        &quot;12&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 46,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 9
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 9
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;13&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 50,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 50,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;14&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 51,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 11
            },
            &quot;end&quot;: {
              &quot;line&quot;: 68,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 51,
                &quot;column&quot;: 11
              },
              &quot;end&quot;: {
                &quot;line&quot;: 68,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;15&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 54,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 16
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 54,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 60,
                &quot;column&quot;: 16
              }
            }
          ]
        },
        &quot;16&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 60,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 60,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 65,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;17&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 65,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 10
            },
            &quot;end&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 9
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 65,
                &quot;column&quot;: 10
              },
              &quot;end&quot;: {
                &quot;line&quot;: 67,
                &quot;column&quot;: 9
              }
            }
          ]
        },
        &quot;18&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 67,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 9
            },
            &quot;end&quot;: {
              &quot;line&quot;: 68,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 67,
                &quot;column&quot;: 9
              },
              &quot;end&quot;: {
                &quot;line&quot;: 68,
                &quot;column&quot;: 6
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          28
        ],
        &quot;3&quot;: [
          5
        ],
        &quot;4&quot;: [
          4
        ],
        &quot;5&quot;: [
          2
        ],
        &quot;6&quot;: [
          2
        ],
        &quot;7&quot;: [
          0
        ],
        &quot;8&quot;: [
          2
        ],
        &quot;9&quot;: [
          0
        ],
        &quot;10&quot;: [
          2
        ],
        &quot;11&quot;: [
          0
        ],
        &quot;12&quot;: [
          2
        ],
        &quot;13&quot;: [
          5
        ],
        &quot;14&quot;: [
          4
        ],
        &quot;15&quot;: [
          2
        ],
        &quot;16&quot;: [
          1
        ],
        &quot;17&quot;: [
          0
        ],
        &quot;18&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 69
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;auth&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 10
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;isOwner&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 50
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 28,
        &quot;2&quot;: 5
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;_middlewares&#x2F;validateRequest.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 33
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 45
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 21
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 48
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 51
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 51
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 6
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 64
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 16
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 13
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 46
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 38
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 29
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 10
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 12
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 25
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 15
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 5
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 2,
        &quot;3&quot;: 2,
        &quot;4&quot;: 2,
        &quot;5&quot;: 2,
        &quot;6&quot;: 2,
        &quot;7&quot;: 2,
        &quot;8&quot;: 2,
        &quot;9&quot;: 2,
        &quot;10&quot;: 2,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 2,
        &quot;17&quot;: 2,
        &quot;18&quot;: 2,
        &quot;19&quot;: 2,
        &quot;20&quot;: 2
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 3,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 3,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 11,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 11,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 17,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 38
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 38
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          2
        ],
        &quot;3&quot;: [
          0
        ],
        &quot;4&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 21
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;validateRequest&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 3
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 2
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 32
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 7
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 17
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 17
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 17
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 22
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 33
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 46
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 58
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 41
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 43
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 66
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 55
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 61
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 42
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 36
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 69
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 49
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 39
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 24
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 32
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 41
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 15
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 35
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 36
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 38
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 10
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 21
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 1
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 35
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 31
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 15
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 46
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 36
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 29
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 21
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 22
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 24
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 102
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 15
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 10
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 21
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 1
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 43
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 34
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 15
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 46
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 36
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 29
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 21
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 22
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 24
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 102
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 15
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 10
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 21
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 1
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 38
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 15
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 30
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 70
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 21
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 1
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 33
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 15
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 17
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 47
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 21
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 1
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 34
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 68
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 80
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 64
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 5
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 15
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 31
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 79
          }
        },
        &quot;87&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 21
          }
        },
        &quot;88&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 1
          }
        },
        &quot;89&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          }
        },
        &quot;90&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 33
          }
        },
        &quot;91&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 15
          }
        },
        &quot;92&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 25
          }
        },
        &quot;93&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 45
          }
        },
        &quot;94&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 21
          }
        },
        &quot;95&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 1
          }
        },
        &quot;96&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 0
          }
        },
        &quot;97&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 33
          }
        },
        &quot;98&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 71
          }
        },
        &quot;99&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 80
          }
        },
        &quot;100&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 64
          }
        },
        &quot;101&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 5
          }
        },
        &quot;102&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 0
          }
        },
        &quot;103&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 15
          }
        },
        &quot;104&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 40
          }
        },
        &quot;105&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 45
          }
        },
        &quot;106&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 107,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 107,
            &quot;column&quot;: 21
          }
        },
        &quot;107&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 108,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 108,
            &quot;column&quot;: 1
          }
        },
        &quot;108&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 109,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 109,
            &quot;column&quot;: 0
          }
        },
        &quot;109&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 110,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 110,
            &quot;column&quot;: 34
          }
        },
        &quot;110&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 111,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 111,
            &quot;column&quot;: 71
          }
        },
        &quot;111&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 112,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 112,
            &quot;column&quot;: 80
          }
        },
        &quot;112&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 113,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 113,
            &quot;column&quot;: 64
          }
        },
        &quot;113&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 114,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 114,
            &quot;column&quot;: 5
          }
        },
        &quot;114&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 115,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 115,
            &quot;column&quot;: 0
          }
        },
        &quot;115&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 116,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 116,
            &quot;column&quot;: 15
          }
        },
        &quot;116&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 117,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 117,
            &quot;column&quot;: 29
          }
        },
        &quot;117&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 118,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 118,
            &quot;column&quot;: 19
          }
        },
        &quot;118&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 119,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 119,
            &quot;column&quot;: 22
          }
        },
        &quot;119&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 120,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 120,
            &quot;column&quot;: 56
          }
        },
        &quot;120&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 121,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 121,
            &quot;column&quot;: 34
          }
        },
        &quot;121&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 122,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 122,
            &quot;column&quot;: 14
          }
        },
        &quot;122&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 123,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 123,
            &quot;column&quot;: 9
          }
        },
        &quot;123&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 124,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 124,
            &quot;column&quot;: 21
          }
        },
        &quot;124&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 125,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 125,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 2,
        &quot;25&quot;: 2,
        &quot;26&quot;: 2,
        &quot;27&quot;: 2,
        &quot;28&quot;: 2,
        &quot;29&quot;: 2,
        &quot;30&quot;: 2,
        &quot;31&quot;: 2,
        &quot;32&quot;: 2,
        &quot;33&quot;: 1,
        &quot;34&quot;: 2,
        &quot;35&quot;: 2,
        &quot;36&quot;: 2,
        &quot;37&quot;: 2,
        &quot;38&quot;: 2,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1,
        &quot;43&quot;: 1,
        &quot;44&quot;: 1,
        &quot;45&quot;: 1,
        &quot;46&quot;: 2,
        &quot;47&quot;: 2,
        &quot;48&quot;: 1,
        &quot;49&quot;: 0,
        &quot;50&quot;: 0,
        &quot;51&quot;: 0,
        &quot;52&quot;: 0,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 0,
        &quot;56&quot;: 0,
        &quot;57&quot;: 0,
        &quot;58&quot;: 0,
        &quot;59&quot;: 0,
        &quot;60&quot;: 0,
        &quot;61&quot;: 0,
        &quot;62&quot;: 0,
        &quot;63&quot;: 1,
        &quot;64&quot;: 0,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 1,
        &quot;71&quot;: 1,
        &quot;72&quot;: 1,
        &quot;73&quot;: 1,
        &quot;74&quot;: 1,
        &quot;75&quot;: 1,
        &quot;76&quot;: 1,
        &quot;77&quot;: 1,
        &quot;78&quot;: 1,
        &quot;79&quot;: 1,
        &quot;80&quot;: 1,
        &quot;81&quot;: 0,
        &quot;82&quot;: 0,
        &quot;83&quot;: 1,
        &quot;84&quot;: 1,
        &quot;85&quot;: 1,
        &quot;86&quot;: 1,
        &quot;87&quot;: 1,
        &quot;88&quot;: 1,
        &quot;89&quot;: 1,
        &quot;90&quot;: 1,
        &quot;91&quot;: 1,
        &quot;92&quot;: 1,
        &quot;93&quot;: 1,
        &quot;94&quot;: 1,
        &quot;95&quot;: 1,
        &quot;96&quot;: 1,
        &quot;97&quot;: 2,
        &quot;98&quot;: 2,
        &quot;99&quot;: 2,
        &quot;100&quot;: 0,
        &quot;101&quot;: 0,
        &quot;102&quot;: 2,
        &quot;103&quot;: 2,
        &quot;104&quot;: 2,
        &quot;105&quot;: 2,
        &quot;106&quot;: 2,
        &quot;107&quot;: 2,
        &quot;108&quot;: 1,
        &quot;109&quot;: 0,
        &quot;110&quot;: 0,
        &quot;111&quot;: 0,
        &quot;112&quot;: 0,
        &quot;113&quot;: 0,
        &quot;114&quot;: 0,
        &quot;115&quot;: 0,
        &quot;116&quot;: 0,
        &quot;117&quot;: 0,
        &quot;118&quot;: 0,
        &quot;119&quot;: 0,
        &quot;120&quot;: 0,
        &quot;121&quot;: 0,
        &quot;122&quot;: 0,
        &quot;123&quot;: 0,
        &quot;124&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 125,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 125,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 125,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 125,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 125,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 125,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 25,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 25,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 33,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 14
            },
            &quot;end&quot;: {
              &quot;line&quot;: 31,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 14
              },
              &quot;end&quot;: {
                &quot;line&quot;: 31,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 35,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 35,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 39,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 14
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 39,
                &quot;column&quot;: 14
              },
              &quot;end&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 72,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 72,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 75,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 75,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 75,
              &quot;column&quot;: 31
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 75,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 75,
                &quot;column&quot;: 31
              }
            }
          ]
        },
        &quot;8&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 79,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 89,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 79,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 89,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;9&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 81,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 79
            },
            &quot;end&quot;: {
              &quot;line&quot;: 83,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 81,
                &quot;column&quot;: 79
              },
              &quot;end&quot;: {
                &quot;line&quot;: 83,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;10&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 87,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 61
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 61
              }
            }
          ]
        },
        &quot;11&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 87,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 35
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 61
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 35
              },
              &quot;end&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 61
              }
            }
          ]
        },
        &quot;12&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 91,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 91,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 96,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 91,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 96,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;13&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 94,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 94,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 94,
              &quot;column&quot;: 30
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 94,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 94,
                &quot;column&quot;: 30
              }
            }
          ]
        },
        &quot;14&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 98,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 98,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 98,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 108,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;15&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 100,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 100,
              &quot;column&quot;: 79
            },
            &quot;end&quot;: {
              &quot;line&quot;: 102,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 100,
                &quot;column&quot;: 79
              },
              &quot;end&quot;: {
                &quot;line&quot;: 102,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;16&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 106,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 30
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 106,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 106,
                &quot;column&quot;: 30
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          2
        ],
        &quot;3&quot;: [
          2
        ],
        &quot;4&quot;: [
          2
        ],
        &quot;5&quot;: [
          1
        ],
        &quot;6&quot;: [
          1
        ],
        &quot;7&quot;: [
          1
        ],
        &quot;8&quot;: [
          1
        ],
        &quot;9&quot;: [
          0
        ],
        &quot;10&quot;: [
          1
        ],
        &quot;11&quot;: [
          0
        ],
        &quot;12&quot;: [
          1
        ],
        &quot;13&quot;: [
          1
        ],
        &quot;14&quot;: [
          2
        ],
        &quot;15&quot;: [
          0
        ],
        &quot;16&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 125
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;login&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 25
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;register&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 35
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;registerCustomer&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 50
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;verifyEmail&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 70,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 70,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 65
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getAll&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 72
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;getById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 89,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 89,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 79
        },
        &quot;7&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 91,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 96,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 91,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 96,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 91
        },
        &quot;8&quot;: {
          &quot;name&quot;: &quot;update&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 98,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 98,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 98
        },
        &quot;9&quot;: {
          &quot;name&quot;: &quot;_delete&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 110,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 110,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 110
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 2,
        &quot;2&quot;: 2,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 2,
        &quot;9&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.service.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 43
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 39
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 33
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 33
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 47
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 18
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 7
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 19
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 18
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 21
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 25
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 25
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 20
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 7
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 10
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 13
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 16
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 11
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 11
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 11
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 12
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 20
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 2
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 43
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 48
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 8
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 19
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 33
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 59
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 7
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 66
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 20
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 5
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 51
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 12
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 36
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 14
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 6
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 1
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 41
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 15
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 52
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 80
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 66
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 32
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 64
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 10
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 20
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 5
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 45
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 18
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 52
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 42
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 12
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 22
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 14
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 6
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 1
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 39
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 67
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 46
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 34
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 29
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 25
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 32
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 7
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 1
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 31
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 15
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 52
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 67
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 5
          }
        },
        &quot;87&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          }
        },
        &quot;88&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 45
          }
        },
        &quot;89&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          }
        },
        &quot;90&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 34
          }
        },
        &quot;91&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 0
          }
        },
        &quot;92&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 33
          }
        },
        &quot;93&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 1
          }
        },
        &quot;94&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 0
          }
        },
        &quot;95&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 35
          }
        },
        &quot;96&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 45
          }
        },
        &quot;97&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 0
          }
        },
        &quot;98&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 36
          }
        },
        &quot;99&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 8
          }
        },
        &quot;100&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 23
          }
        },
        &quot;101&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 41
          }
        },
        &quot;102&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 51
          }
        },
        &quot;103&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 7
          }
        },
        &quot;104&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 74
          }
        },
        &quot;105&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 20
          }
        },
        &quot;106&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 107,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 107,
            &quot;column&quot;: 5
          }
        },
        &quot;107&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 108,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 108,
            &quot;column&quot;: 0
          }
        },
        &quot;108&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 109,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 109,
            &quot;column&quot;: 38
          }
        },
        &quot;109&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 110,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 110,
            &quot;column&quot;: 26
          }
        },
        &quot;110&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 111,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 111,
            &quot;column&quot;: 54
          }
        },
        &quot;111&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 112,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 112,
            &quot;column&quot;: 5
          }
        },
        &quot;112&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 113,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 113,
            &quot;column&quot;: 0
          }
        },
        &quot;113&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 114,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 114,
            &quot;column&quot;: 80
          }
        },
        &quot;114&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 115,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 115,
            &quot;column&quot;: 0
          }
        },
        &quot;115&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 116,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 116,
            &quot;column&quot;: 37
          }
        },
        &quot;116&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 117,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 117,
            &quot;column&quot;: 1
          }
        },
        &quot;117&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 118,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 118,
            &quot;column&quot;: 0
          }
        },
        &quot;118&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 119,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 119,
            &quot;column&quot;: 57
          }
        },
        &quot;119&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 120,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 120,
            &quot;column&quot;: 25
          }
        },
        &quot;120&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 121,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 121,
            &quot;column&quot;: 40
          }
        },
        &quot;121&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 122,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 122,
            &quot;column&quot;: 48
          }
        },
        &quot;122&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 123,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 123,
            &quot;column&quot;: 1
          }
        },
        &quot;123&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 124,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 124,
            &quot;column&quot;: 0
          }
        },
        &quot;124&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 125,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 125,
            &quot;column&quot;: 28
          }
        },
        &quot;125&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 126,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 126,
            &quot;column&quot;: 45
          }
        },
        &quot;126&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 127,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 127,
            &quot;column&quot;: 33
          }
        },
        &quot;127&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 128,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 128,
            &quot;column&quot;: 1
          }
        },
        &quot;128&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 129,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 129,
            &quot;column&quot;: 0
          }
        },
        &quot;129&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 130,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 130,
            &quot;column&quot;: 37
          }
        },
        &quot;130&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 131,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 131,
            &quot;column&quot;: 28
          }
        },
        &quot;131&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 132,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 132,
            &quot;column&quot;: 38
          }
        },
        &quot;132&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 133,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 133,
            &quot;column&quot;: 1
          }
        },
        &quot;133&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 134,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 134,
            &quot;column&quot;: 0
          }
        },
        &quot;134&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 135,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 135,
            &quot;column&quot;: 57
          }
        },
        &quot;135&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 136,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 136,
            &quot;column&quot;: 34
          }
        },
        &quot;136&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 137,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 137,
            &quot;column&quot;: 38
          }
        },
        &quot;137&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 138,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 138,
            &quot;column&quot;: 28
          }
        },
        &quot;138&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 139,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 139,
            &quot;column&quot;: 17
          }
        },
        &quot;139&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 140,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 140,
            &quot;column&quot;: 19
          }
        },
        &quot;140&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 141,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 141,
            &quot;column&quot;: 1
          }
        },
        &quot;141&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 142,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 142,
            &quot;column&quot;: 0
          }
        },
        &quot;142&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 143,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 143,
            &quot;column&quot;: 35
          }
        },
        &quot;143&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 144,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 144,
            &quot;column&quot;: 79
          }
        },
        &quot;144&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 145,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 145,
            &quot;column&quot;: 0
          }
        },
        &quot;145&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 146,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 146,
            &quot;column&quot;: 43
          }
        },
        &quot;146&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 147,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 147,
            &quot;column&quot;: 52
          }
        },
        &quot;147&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 148,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 148,
            &quot;column&quot;: 50
          }
        },
        &quot;148&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 149,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 149,
            &quot;column&quot;: 0
          }
        },
        &quot;149&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 150,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 150,
            &quot;column&quot;: 21
          }
        },
        &quot;150&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 151,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 151,
            &quot;column&quot;: 47
          }
        },
        &quot;151&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 152,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 152,
            &quot;column&quot;: 14
          }
        },
        &quot;152&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 153,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 153,
            &quot;column&quot;: 18
          }
        },
        &quot;153&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 154,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 154,
            &quot;column&quot;: 17
          }
        },
        &quot;154&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 155,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 155,
            &quot;column&quot;: 33
          }
        },
        &quot;155&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 156,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 156,
            &quot;column&quot;: 20
          }
        },
        &quot;156&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 157,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 157,
            &quot;column&quot;: 19
          }
        },
        &quot;157&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 158,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 158,
            &quot;column&quot;: 21
          }
        },
        &quot;158&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 159,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 159,
            &quot;column&quot;: 26
          }
        },
        &quot;159&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 160,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 160,
            &quot;column&quot;: 43
          }
        },
        &quot;160&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 161,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 161,
            &quot;column&quot;: 26
          }
        },
        &quot;161&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 162,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 162,
            &quot;column&quot;: 7
          }
        },
        &quot;162&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 163,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 163,
            &quot;column&quot;: 0
          }
        },
        &quot;163&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 164,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 164,
            &quot;column&quot;: 33
          }
        },
        &quot;164&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 165,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 165,
            &quot;column&quot;: 1
          }
        },
        &quot;165&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 166,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 166,
            &quot;column&quot;: 0
          }
        },
        &quot;166&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 167,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 167,
            &quot;column&quot;: 31
          }
        },
        &quot;167&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 168,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 168,
            &quot;column&quot;: 43
          }
        },
        &quot;168&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 169,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 169,
            &quot;column&quot;: 1
          }
        },
        &quot;169&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 170,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 170,
            &quot;column&quot;: 0
          }
        },
        &quot;170&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 171,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 171,
            &quot;column&quot;: 30
          }
        },
        &quot;171&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 172,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 172,
            &quot;column&quot;: 50
          }
        },
        &quot;172&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 173,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 173,
            &quot;column&quot;: 1
          }
        },
        &quot;173&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 174,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 174,
            &quot;column&quot;: 0
          }
        },
        &quot;174&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 175,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 175,
            &quot;column&quot;: 32
          }
        },
        &quot;175&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 176,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 176,
            &quot;column&quot;: 11
          }
        },
        &quot;176&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 177,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 177,
            &quot;column&quot;: 11
          }
        },
        &quot;177&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 178,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 178,
            &quot;column&quot;: 18
          }
        },
        &quot;178&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 179,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 179,
            &quot;column&quot;: 17
          }
        },
        &quot;179&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 180,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 180,
            &quot;column&quot;: 14
          }
        },
        &quot;180&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 181,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 181,
            &quot;column&quot;: 13
          }
        },
        &quot;181&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 182,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 182,
            &quot;column&quot;: 16
          }
        },
        &quot;182&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 183,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 183,
            &quot;column&quot;: 16
          }
        },
        &quot;183&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 184,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 184,
            &quot;column&quot;: 19
          }
        },
        &quot;184&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 185,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 185,
            &quot;column&quot;: 16
          }
        },
        &quot;185&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 186,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 186,
            &quot;column&quot;: 12
          }
        },
        &quot;186&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 187,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 187,
            &quot;column&quot;: 11
          }
        },
        &quot;187&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 188,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 188,
            &quot;column&quot;: 18
          }
        },
        &quot;188&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 189,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 189,
            &quot;column&quot;: 17
          }
        },
        &quot;189&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 190,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 190,
            &quot;column&quot;: 14
          }
        },
        &quot;190&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 191,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 191,
            &quot;column&quot;: 13
          }
        },
        &quot;191&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 192,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 192,
            &quot;column&quot;: 16
          }
        },
        &quot;192&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 193,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 193,
            &quot;column&quot;: 16
          }
        },
        &quot;193&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 194,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 194,
            &quot;column&quot;: 19
          }
        },
        &quot;194&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 195,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 195,
            &quot;column&quot;: 6
          }
        },
        &quot;195&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 196,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 196,
            &quot;column&quot;: 1
          }
        },
        &quot;196&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 197,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 197,
            &quot;column&quot;: 0
          }
        },
        &quot;197&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 198,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 198,
            &quot;column&quot;: 55
          }
        },
        &quot;198&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 199,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 199,
            &quot;column&quot;: 16
          }
        },
        &quot;199&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 200,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 200,
            &quot;column&quot;: 17
          }
        },
        &quot;200&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 201,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 201,
            &quot;column&quot;: 91
          }
        },
        &quot;201&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 202,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 202,
            &quot;column&quot;: 84
          }
        },
        &quot;202&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 203,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 203,
            &quot;column&quot;: 54
          }
        },
        &quot;203&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 204,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 204,
            &quot;column&quot;: 10
          }
        },
        &quot;204&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 205,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 205,
            &quot;column&quot;: 12
          }
        },
        &quot;205&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 206,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 206,
            &quot;column&quot;: 133
          }
        },
        &quot;206&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 207,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 207,
            &quot;column&quot;: 69
          }
        },
        &quot;207&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 208,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 208,
            &quot;column&quot;: 5
          }
        },
        &quot;208&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 209,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 209,
            &quot;column&quot;: 0
          }
        },
        &quot;209&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 210,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 210,
            &quot;column&quot;: 21
          }
        },
        &quot;210&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 211,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 211,
            &quot;column&quot;: 26
          }
        },
        &quot;211&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 212,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 212,
            &quot;column&quot;: 59
          }
        },
        &quot;212&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 213,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 213,
            &quot;column&quot;: 36
          }
        },
        &quot;213&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 214,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 214,
            &quot;column&quot;: 38
          }
        },
        &quot;214&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 215,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 215,
            &quot;column&quot;: 20
          }
        },
        &quot;215&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 216,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 216,
            &quot;column&quot;: 7
          }
        },
        &quot;216&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 217,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 217,
            &quot;column&quot;: 1
          }
        },
        &quot;217&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 218,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 218,
            &quot;column&quot;: 0
          }
        },
        &quot;218&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 219,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 219,
            &quot;column&quot;: 58
          }
        },
        &quot;219&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 220,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 220,
            &quot;column&quot;: 16
          }
        },
        &quot;220&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 221,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 221,
            &quot;column&quot;: 17
          }
        },
        &quot;221&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 222,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 222,
            &quot;column&quot;: 143
          }
        },
        &quot;222&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 223,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 223,
            &quot;column&quot;: 12
          }
        },
        &quot;223&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 224,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 224,
            &quot;column&quot;: 130
          }
        },
        &quot;224&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 225,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 225,
            &quot;column&quot;: 5
          }
        },
        &quot;225&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 226,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 226,
            &quot;column&quot;: 0
          }
        },
        &quot;226&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 227,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 227,
            &quot;column&quot;: 21
          }
        },
        &quot;227&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 228,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 228,
            &quot;column&quot;: 18
          }
        },
        &quot;228&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 229,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 229,
            &quot;column&quot;: 71
          }
        },
        &quot;229&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 230,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 230,
            &quot;column&quot;: 48
          }
        },
        &quot;230&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 231,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 231,
            &quot;column&quot;: 81
          }
        },
        &quot;231&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 232,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 232,
            &quot;column&quot;: 27
          }
        },
        &quot;232&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 233,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 233,
            &quot;column&quot;: 7
          }
        },
        &quot;233&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 234,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 234,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 8,
        &quot;26&quot;: 8,
        &quot;27&quot;: 2,
        &quot;28&quot;: 2,
        &quot;29&quot;: 2,
        &quot;30&quot;: 2,
        &quot;31&quot;: 8,
        &quot;32&quot;: 8,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 2,
        &quot;37&quot;: 2,
        &quot;38&quot;: 2,
        &quot;39&quot;: 8,
        &quot;40&quot;: 0,
        &quot;41&quot;: 0,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 1,
        &quot;45&quot;: 6,
        &quot;46&quot;: 6,
        &quot;47&quot;: 6,
        &quot;48&quot;: 1,
        &quot;49&quot;: 1,
        &quot;50&quot;: 1,
        &quot;51&quot;: 1,
        &quot;52&quot;: 1,
        &quot;53&quot;: 1,
        &quot;54&quot;: 1,
        &quot;55&quot;: 1,
        &quot;56&quot;: 1,
        &quot;57&quot;: 1,
        &quot;58&quot;: 1,
        &quot;59&quot;: 1,
        &quot;60&quot;: 1,
        &quot;61&quot;: 1,
        &quot;62&quot;: 1,
        &quot;63&quot;: 1,
        &quot;64&quot;: 6,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 1,
        &quot;70&quot;: 0,
        &quot;71&quot;: 0,
        &quot;72&quot;: 0,
        &quot;73&quot;: 0,
        &quot;74&quot;: 0,
        &quot;75&quot;: 0,
        &quot;76&quot;: 0,
        &quot;77&quot;: 0,
        &quot;78&quot;: 0,
        &quot;79&quot;: 0,
        &quot;80&quot;: 0,
        &quot;81&quot;: 1,
        &quot;82&quot;: 3,
        &quot;83&quot;: 3,
        &quot;84&quot;: 3,
        &quot;85&quot;: 0,
        &quot;86&quot;: 0,
        &quot;87&quot;: 1,
        &quot;88&quot;: 1,
        &quot;89&quot;: 1,
        &quot;90&quot;: 1,
        &quot;91&quot;: 1,
        &quot;92&quot;: 3,
        &quot;93&quot;: 0,
        &quot;94&quot;: 1,
        &quot;95&quot;: 6,
        &quot;96&quot;: 6,
        &quot;97&quot;: 2,
        &quot;98&quot;: 2,
        &quot;99&quot;: 2,
        &quot;100&quot;: 6,
        &quot;101&quot;: 1,
        &quot;102&quot;: 6,
        &quot;103&quot;: 6,
        &quot;104&quot;: 1,
        &quot;105&quot;: 1,
        &quot;106&quot;: 1,
        &quot;107&quot;: 1,
        &quot;108&quot;: 1,
        &quot;109&quot;: 6,
        &quot;110&quot;: 0,
        &quot;111&quot;: 0,
        &quot;112&quot;: 1,
        &quot;113&quot;: 1,
        &quot;114&quot;: 1,
        &quot;115&quot;: 6,
        &quot;116&quot;: 0,
        &quot;117&quot;: 1,
        &quot;118&quot;: 1,
        &quot;119&quot;: 2,
        &quot;120&quot;: 2,
        &quot;121&quot;: 2,
        &quot;122&quot;: 0,
        &quot;123&quot;: 1,
        &quot;124&quot;: 2,
        &quot;125&quot;: 2,
        &quot;126&quot;: 2,
        &quot;127&quot;: 0,
        &quot;128&quot;: 1,
        &quot;129&quot;: 1,
        &quot;130&quot;: 0,
        &quot;131&quot;: 0,
        &quot;132&quot;: 0,
        &quot;133&quot;: 1,
        &quot;134&quot;: 1,
        &quot;135&quot;: 4,
        &quot;136&quot;: 4,
        &quot;137&quot;: 4,
        &quot;138&quot;: 2,
        &quot;139&quot;: 4,
        &quot;140&quot;: 0,
        &quot;141&quot;: 1,
        &quot;142&quot;: 6,
        &quot;143&quot;: 6,
        &quot;144&quot;: 6,
        &quot;145&quot;: 6,
        &quot;146&quot;: 6,
        &quot;147&quot;: 2,
        &quot;148&quot;: 2,
        &quot;149&quot;: 2,
        &quot;150&quot;: 2,
        &quot;151&quot;: 2,
        &quot;152&quot;: 2,
        &quot;153&quot;: 2,
        &quot;154&quot;: 2,
        &quot;155&quot;: 2,
        &quot;156&quot;: 2,
        &quot;157&quot;: 2,
        &quot;158&quot;: 2,
        &quot;159&quot;: 2,
        &quot;160&quot;: 2,
        &quot;161&quot;: 2,
        &quot;162&quot;: 2,
        &quot;163&quot;: 6,
        &quot;164&quot;: 0,
        &quot;165&quot;: 1,
        &quot;166&quot;: 4,
        &quot;167&quot;: 4,
        &quot;168&quot;: 0,
        &quot;169&quot;: 1,
        &quot;170&quot;: 2,
        &quot;171&quot;: 2,
        &quot;172&quot;: 2,
        &quot;173&quot;: 1,
        &quot;174&quot;: 2,
        &quot;175&quot;: 2,
        &quot;176&quot;: 2,
        &quot;177&quot;: 2,
        &quot;178&quot;: 2,
        &quot;179&quot;: 2,
        &quot;180&quot;: 2,
        &quot;181&quot;: 2,
        &quot;182&quot;: 2,
        &quot;183&quot;: 2,
        &quot;184&quot;: 2,
        &quot;185&quot;: 2,
        &quot;186&quot;: 2,
        &quot;187&quot;: 2,
        &quot;188&quot;: 2,
        &quot;189&quot;: 2,
        &quot;190&quot;: 2,
        &quot;191&quot;: 2,
        &quot;192&quot;: 2,
        &quot;193&quot;: 2,
        &quot;194&quot;: 2,
        &quot;195&quot;: 2,
        &quot;196&quot;: 1,
        &quot;197&quot;: 0,
        &quot;198&quot;: 0,
        &quot;199&quot;: 0,
        &quot;200&quot;: 0,
        &quot;201&quot;: 0,
        &quot;202&quot;: 0,
        &quot;203&quot;: 0,
        &quot;204&quot;: 0,
        &quot;205&quot;: 0,
        &quot;206&quot;: 0,
        &quot;207&quot;: 0,
        &quot;208&quot;: 0,
        &quot;209&quot;: 0,
        &quot;210&quot;: 0,
        &quot;211&quot;: 0,
        &quot;212&quot;: 0,
        &quot;213&quot;: 0,
        &quot;214&quot;: 0,
        &quot;215&quot;: 0,
        &quot;216&quot;: 0,
        &quot;217&quot;: 1,
        &quot;218&quot;: 0,
        &quot;219&quot;: 0,
        &quot;220&quot;: 0,
        &quot;221&quot;: 0,
        &quot;222&quot;: 0,
        &quot;223&quot;: 0,
        &quot;224&quot;: 0,
        &quot;225&quot;: 0,
        &quot;226&quot;: 0,
        &quot;227&quot;: 0,
        &quot;228&quot;: 0,
        &quot;229&quot;: 0,
        &quot;230&quot;: 0,
        &quot;231&quot;: 0,
        &quot;232&quot;: 0,
        &quot;233&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 234,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 234,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 234,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 234,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 234,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 234,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 26,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 26,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 44,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 27,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 27,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 33,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 6
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 33,
                &quot;column&quot;: 6
              },
              &quot;end&quot;: {
                &quot;line&quot;: 36,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 36,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 5
            },
            &quot;end&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 36,
                &quot;column&quot;: 5
              },
              &quot;end&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 40,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 44,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 46,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;8&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 48,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 8
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 8
              }
            }
          ]
        },
        &quot;9&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 48,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 51
            },
            &quot;end&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 51
              },
              &quot;end&quot;: {
                &quot;line&quot;: 65,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;10&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 65,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 65,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;11&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 83,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 83,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 94,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 83,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 94,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;12&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 85,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 85,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 85,
              &quot;column&quot;: 8
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 85,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 85,
                &quot;column&quot;: 8
              }
            }
          ]
        },
        &quot;13&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 85,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 85,
              &quot;column&quot;: 51
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 85,
                &quot;column&quot;: 51
              },
              &quot;end&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;14&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 87,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 5
            },
            &quot;end&quot;: {
              &quot;line&quot;: 93,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 5
              },
              &quot;end&quot;: {
                &quot;line&quot;: 93,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;15&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 93,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 93,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 94,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 93,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 94,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;16&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 96,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 96,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 117,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 96,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 117,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;17&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 97,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 97,
              &quot;column&quot;: 37
            },
            &quot;end&quot;: {
              &quot;line&quot;: 101,
              &quot;column&quot;: 14
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 97,
                &quot;column&quot;: 37
              },
              &quot;end&quot;: {
                &quot;line&quot;: 101,
                &quot;column&quot;: 14
              }
            }
          ]
        },
        &quot;18&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 101,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 101,
              &quot;column&quot;: 8
            },
            &quot;end&quot;: {
              &quot;line&quot;: 102,
              &quot;column&quot;: 41
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 101,
                &quot;column&quot;: 8
              },
              &quot;end&quot;: {
                &quot;line&quot;: 102,
                &quot;column&quot;: 41
              }
            }
          ]
        },
        &quot;19&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 101,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 101,
              &quot;column&quot;: 8
            },
            &quot;end&quot;: {
              &quot;line&quot;: 103,
              &quot;column&quot;: 28
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 101,
                &quot;column&quot;: 8
              },
              &quot;end&quot;: {
                &quot;line&quot;: 103,
                &quot;column&quot;: 28
              }
            }
          ]
        },
        &quot;20&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 104,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 104,
              &quot;column&quot;: 6
            },
            &quot;end&quot;: {
              &quot;line&quot;: 110,
              &quot;column&quot;: 8
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 104,
                &quot;column&quot;: 6
              },
              &quot;end&quot;: {
                &quot;line&quot;: 110,
                &quot;column&quot;: 8
              }
            }
          ]
        },
        &quot;21&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 110,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 110,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 112,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 110,
                &quot;column&quot;: 25
              },
              &quot;end&quot;: {
                &quot;line&quot;: 112,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;22&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 112,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 112,
              &quot;column&quot;: 5
            },
            &quot;end&quot;: {
              &quot;line&quot;: 116,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 112,
                &quot;column&quot;: 5
              },
              &quot;end&quot;: {
                &quot;line&quot;: 116,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;23&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 116,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 116,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 117,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 116,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 117,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;24&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 120,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 120,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 123,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 120,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 123,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;25&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 121,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 121,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 122,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 121,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 122,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;26&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 122,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 122,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 123,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 122,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 123,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;27&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 122,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 122,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 122,
              &quot;column&quot;: 44
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 122,
                &quot;column&quot;: 25
              },
              &quot;end&quot;: {
                &quot;line&quot;: 122,
                &quot;column&quot;: 44
              }
            }
          ]
        },
        &quot;28&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 125,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 128,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 125,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 128,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;29&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 126,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 126,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 127,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 126,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 127,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;30&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 127,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 127,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 128,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 127,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 128,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;31&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 136,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 136,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 141,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 136,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 141,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;32&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 138,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 138,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 140,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 138,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 140,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;33&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 140,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 140,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 141,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 140,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 141,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;34&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 143,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 143,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 165,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 143,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 165,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;35&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 147,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 147,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 164,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 147,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 164,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;36&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 164,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 164,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 165,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 164,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 165,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;37&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 167,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 167,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 169,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 167,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 169,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;38&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 168,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 168,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 169,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 168,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 169,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;39&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 171,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 171,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 173,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 171,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 173,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;40&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 175,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 175,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 196,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 175,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 196,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          8
        ],
        &quot;3&quot;: [
          2
        ],
        &quot;4&quot;: [
          0
        ],
        &quot;5&quot;: [
          2
        ],
        &quot;6&quot;: [
          0
        ],
        &quot;7&quot;: [
          6
        ],
        &quot;8&quot;: [
          2
        ],
        &quot;9&quot;: [
          1
        ],
        &quot;10&quot;: [
          0
        ],
        &quot;11&quot;: [
          3
        ],
        &quot;12&quot;: [
          1
        ],
        &quot;13&quot;: [
          0
        ],
        &quot;14&quot;: [
          1
        ],
        &quot;15&quot;: [
          0
        ],
        &quot;16&quot;: [
          6
        ],
        &quot;17&quot;: [
          2
        ],
        &quot;18&quot;: [
          1
        ],
        &quot;19&quot;: [
          1
        ],
        &quot;20&quot;: [
          1
        ],
        &quot;21&quot;: [
          0
        ],
        &quot;22&quot;: [
          1
        ],
        &quot;23&quot;: [
          0
        ],
        &quot;24&quot;: [
          2
        ],
        &quot;25&quot;: [
          1
        ],
        &quot;26&quot;: [
          0
        ],
        &quot;27&quot;: [
          4
        ],
        &quot;28&quot;: [
          2
        ],
        &quot;29&quot;: [
          1
        ],
        &quot;30&quot;: [
          0
        ],
        &quot;31&quot;: [
          4
        ],
        &quot;32&quot;: [
          2
        ],
        &quot;33&quot;: [
          0
        ],
        &quot;34&quot;: [
          6
        ],
        &quot;35&quot;: [
          2
        ],
        &quot;36&quot;: [
          0
        ],
        &quot;37&quot;: [
          4
        ],
        &quot;38&quot;: [
          0
        ],
        &quot;39&quot;: [
          2
        ],
        &quot;40&quot;: [
          2
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 234
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;login&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 26
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;register&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 46
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;verifyEmail&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 71
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 83,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 94,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 83,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 94,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 83
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;update&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 96,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 117,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 96,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 117,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 96
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;getAll&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 120,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 123,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 120,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 123,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 120
        },
        &quot;7&quot;: {
          &quot;name&quot;: &quot;getById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 128,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 125,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 128,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 125
        },
        &quot;8&quot;: {
          &quot;name&quot;: &quot;_delete&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 131,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 133,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 131,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 133,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 131
        },
        &quot;9&quot;: {
          &quot;name&quot;: &quot;getAccount&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 136,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 141,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 136,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 141,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 136
        },
        &quot;10&quot;: {
          &quot;name&quot;: &quot;insertUser&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 143,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 165,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 143,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 165,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 143
        },
        &quot;11&quot;: {
          &quot;name&quot;: &quot;hash&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 167,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 169,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 167,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 169,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 167
        },
        &quot;12&quot;: {
          &quot;name&quot;: &quot;randomTokenString&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 171,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 173,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 171,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 173,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 171
        },
        &quot;13&quot;: {
          &quot;name&quot;: &quot;basicDetails&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 175,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 196,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 175,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 196,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 175
        },
        &quot;14&quot;: {
          &quot;name&quot;: &quot;sendVerificationEmail&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 198,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 217,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 198,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 217,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 198
        },
        &quot;15&quot;: {
          &quot;name&quot;: &quot;sendAlreadyRegisteredEmail&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 219,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 219,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 234,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 219
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 8,
        &quot;2&quot;: 6,
        &quot;3&quot;: 0,
        &quot;4&quot;: 3,
        &quot;5&quot;: 6,
        &quot;6&quot;: 2,
        &quot;7&quot;: 2,
        &quot;8&quot;: 0,
        &quot;9&quot;: 4,
        &quot;10&quot;: 6,
        &quot;11&quot;: 4,
        &quot;12&quot;: 2,
        &quot;13&quot;: 2,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;auth&#x2F;auth.validators.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 27
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 70
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 44
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 43
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 42
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 61
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 45
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 47
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 49
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 76
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 7
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 39
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 2
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 44
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 31
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 47
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 49
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 7
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 39
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 2
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 44
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 25
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 42
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 41
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 46
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 44
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 60
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 48
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 75
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 6
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 49
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 79
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 39
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 2
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 49
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 31
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 39
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 7
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 39
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 4,
        &quot;5&quot;: 4,
        &quot;6&quot;: 4,
        &quot;7&quot;: 4,
        &quot;8&quot;: 4,
        &quot;9&quot;: 4,
        &quot;10&quot;: 4,
        &quot;11&quot;: 4,
        &quot;12&quot;: 4,
        &quot;13&quot;: 4,
        &quot;14&quot;: 4,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 2,
        &quot;18&quot;: 2,
        &quot;19&quot;: 2,
        &quot;20&quot;: 2,
        &quot;21&quot;: 2,
        &quot;22&quot;: 2,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 2,
        &quot;26&quot;: 2,
        &quot;27&quot;: 2,
        &quot;28&quot;: 2,
        &quot;29&quot;: 2,
        &quot;30&quot;: 2,
        &quot;31&quot;: 2,
        &quot;32&quot;: 2,
        &quot;33&quot;: 2,
        &quot;34&quot;: 2,
        &quot;35&quot;: 2,
        &quot;36&quot;: 2,
        &quot;37&quot;: 2,
        &quot;38&quot;: 2,
        &quot;39&quot;: 2,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 47,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 47,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 17,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 17,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 23,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 25,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 25,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          4
        ],
        &quot;3&quot;: [
          2
        ],
        &quot;4&quot;: [
          2
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 47
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.signupSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.signinSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 17
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 25
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.verifyEmailSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 28
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 28
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 42
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 4,
        &quot;2&quot;: 2,
        &quot;3&quot;: 2,
        &quot;4&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 60
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 49
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 29
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 28
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 35
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 5
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 29
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 22
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 5
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 1
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 25
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 3,
        &quot;7&quot;: 3,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 0,
        &quot;11&quot;: 0,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 25
              },
              &quot;end&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 25
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 25
              },
              &quot;end&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 25
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 6,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 8,
                &quot;column&quot;: 5
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          3
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 25
            }
          },
          &quot;line&quot;: 15
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Account&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 5
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 6
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;get jsonSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 10
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 3,
        &quot;3&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;accounts&#x2F;accounts.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 44
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 44
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 44
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 70
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 42
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 22
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 3
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 72
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 24
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 44
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 9
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 58
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 72
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 12
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 54
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 46
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 11
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 24
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 35
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 9
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 27
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 21
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 20
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 5
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 2,
        &quot;14&quot;: 2,
        &quot;15&quot;: 2,
        &quot;16&quot;: 2,
        &quot;17&quot;: 2,
        &quot;18&quot;: 2,
        &quot;19&quot;: 2,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 2,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 2,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 32,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 32,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 20,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 20,
              &quot;column&quot;: 8
            },
            &quot;end&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 12
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 20,
                &quot;column&quot;: 8
              },
              &quot;end&quot;: {
                &quot;line&quot;: 24,
                &quot;column&quot;: 12
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 24,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 9
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 24,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 26,
                &quot;column&quot;: 9
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 26,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 26,
              &quot;column&quot;: 9
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 26,
                &quot;column&quot;: 9
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 6
            },
            &quot;end&quot;: {
              &quot;line&quot;: 31,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 6
              },
              &quot;end&quot;: {
                &quot;line&quot;: 31,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 31,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 31,
              &quot;column&quot;: 5
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 31,
                &quot;column&quot;: 5
              },
              &quot;end&quot;: {
                &quot;line&quot;: 32,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          2
        ],
        &quot;3&quot;: [
          1
        ],
        &quot;4&quot;: [
          0
        ],
        &quot;5&quot;: [
          1
        ],
        &quot;6&quot;: [
          0
        ],
        &quot;7&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 32
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;getAccounts&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 14
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 2
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 57
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 48
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 29
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 28
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 34
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 5
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 29
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 22
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 5
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 35
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 69
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 51
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 61
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 50
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 16
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 20
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 53
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 33
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 23
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 59
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 48
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 18
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 14
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 23
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 48
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 36
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 23
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 53
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 60
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 18
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 14
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 20
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 48
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 33
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 23
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 53
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 56
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 18
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 14
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 10
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 5
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 1
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 25
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 6,
        &quot;7&quot;: 6,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 1,
        &quot;36&quot;: 1,
        &quot;37&quot;: 1,
        &quot;38&quot;: 1,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1,
        &quot;43&quot;: 1,
        &quot;44&quot;: 1,
        &quot;45&quot;: 1,
        &quot;46&quot;: 1,
        &quot;47&quot;: 1,
        &quot;48&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 49,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 25
              },
              &quot;end&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 25
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 49,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 25
              },
              &quot;end&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 25
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 5,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 6,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 8,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 10,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 5
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ],
        &quot;3&quot;: [
          6
        ],
        &quot;4&quot;: [
          1
        ],
        &quot;5&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 25
            }
          },
          &quot;line&quot;: 49
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Company&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 5
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 6
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;get jsonSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 10
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;get relationMappings&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 14
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 6,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 71
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 52
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 58
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 41
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 59
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 54
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 43
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 46
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 31
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 22
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 3
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 28
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 45
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 38
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 40
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 59
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 63
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 53
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 56
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 67
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 70
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 24
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 33
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 36
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 18
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 25
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 45
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 21
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 1
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 42
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 18
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 26
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 30
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 55
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 10
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 21
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 1
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 41
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 18
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 36
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 28
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 65
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 9
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 21
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 1
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 41
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 66
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 18
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 38
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 28
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 16
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 51
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 44
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 15
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 73
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 13
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 30
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 10
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 21
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 1
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 33
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 42
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 18
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 78
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 45
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 21
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 1
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 41
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 49
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 18
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 72
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 21
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 54
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 10
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 21
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 1,
        &quot;36&quot;: 1,
        &quot;37&quot;: 1,
        &quot;38&quot;: 1,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1,
        &quot;43&quot;: 1,
        &quot;44&quot;: 1,
        &quot;45&quot;: 1,
        &quot;46&quot;: 1,
        &quot;47&quot;: 1,
        &quot;48&quot;: 1,
        &quot;49&quot;: 1,
        &quot;50&quot;: 1,
        &quot;51&quot;: 1,
        &quot;52&quot;: 1,
        &quot;53&quot;: 3,
        &quot;54&quot;: 3,
        &quot;55&quot;: 3,
        &quot;56&quot;: 3,
        &quot;57&quot;: 3,
        &quot;58&quot;: 3,
        &quot;59&quot;: 3,
        &quot;60&quot;: 1,
        &quot;61&quot;: 3,
        &quot;62&quot;: 1,
        &quot;63&quot;: 1,
        &quot;64&quot;: 2,
        &quot;65&quot;: 2,
        &quot;66&quot;: 2,
        &quot;67&quot;: 3,
        &quot;68&quot;: 3,
        &quot;69&quot;: 1,
        &quot;70&quot;: 6,
        &quot;71&quot;: 6,
        &quot;72&quot;: 6,
        &quot;73&quot;: 6,
        &quot;74&quot;: 6,
        &quot;75&quot;: 6,
        &quot;76&quot;: 6,
        &quot;77&quot;: 1,
        &quot;78&quot;: 2,
        &quot;79&quot;: 2,
        &quot;80&quot;: 2,
        &quot;81&quot;: 2,
        &quot;82&quot;: 2,
        &quot;83&quot;: 1,
        &quot;84&quot;: 1,
        &quot;85&quot;: 2,
        &quot;86&quot;: 2
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 87,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 87,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 30,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 30,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 30,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 36,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 34,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 34,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 34,
              &quot;column&quot;: 30
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 34,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 34,
                &quot;column&quot;: 30
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 38,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 45,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 38,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 45,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 41,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 41,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 46,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 53,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 49,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 49
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 50,
                &quot;column&quot;: 49
              }
            }
          ]
        },
        &quot;8&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 50,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 21
            },
            &quot;end&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 49
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 50,
                &quot;column&quot;: 21
              },
              &quot;end&quot;: {
                &quot;line&quot;: 50,
                &quot;column&quot;: 49
              }
            }
          ]
        },
        &quot;9&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 54,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 54,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 69,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;10&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 58,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 58,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 58,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 67,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;11&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 60,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 16
            },
            &quot;end&quot;: {
              &quot;line&quot;: 61,
              &quot;column&quot;: 44
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 60,
                &quot;column&quot;: 16
              },
              &quot;end&quot;: {
                &quot;line&quot;: 61,
                &quot;column&quot;: 44
              }
            }
          ]
        },
        &quot;12&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 62,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 62,
              &quot;column&quot;: 14
            },
            &quot;end&quot;: {
              &quot;line&quot;: 64,
              &quot;column&quot;: 13
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 62,
                &quot;column&quot;: 14
              },
              &quot;end&quot;: {
                &quot;line&quot;: 64,
                &quot;column&quot;: 13
              }
            }
          ]
        },
        &quot;13&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 64,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 64,
              &quot;column&quot;: 13
            },
            &quot;end&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 64,
                &quot;column&quot;: 13
              },
              &quot;end&quot;: {
                &quot;line&quot;: 67,
                &quot;column&quot;: 10
              }
            }
          ]
        },
        &quot;14&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 71,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 71,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;15&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 75,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 75,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 75,
              &quot;column&quot;: 30
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 75,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 75,
                &quot;column&quot;: 30
              }
            }
          ]
        },
        &quot;16&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 79,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 79,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;17&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 83,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 83,
              &quot;column&quot;: 14
            },
            &quot;end&quot;: {
              &quot;line&quot;: 85,
              &quot;column&quot;: 10
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 83,
                &quot;column&quot;: 14
              },
              &quot;end&quot;: {
                &quot;line&quot;: 85,
                &quot;column&quot;: 10
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ],
        &quot;3&quot;: [
          1
        ],
        &quot;4&quot;: [
          1
        ],
        &quot;5&quot;: [
          1
        ],
        &quot;6&quot;: [
          1
        ],
        &quot;7&quot;: [
          1
        ],
        &quot;8&quot;: [
          0
        ],
        &quot;9&quot;: [
          3
        ],
        &quot;10&quot;: [
          3
        ],
        &quot;11&quot;: [
          1
        ],
        &quot;12&quot;: [
          1
        ],
        &quot;13&quot;: [
          2
        ],
        &quot;14&quot;: [
          6
        ],
        &quot;15&quot;: [
          2
        ],
        &quot;16&quot;: [
          2
        ],
        &quot;17&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 87
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 30,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 30,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 30
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;getAllCompanies&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 45,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 45,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 38
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getMyCompanies&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 46
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;getCompanyById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 54
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;update&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 71
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;_deleteCompany&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 79
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 3,
        &quot;5&quot;: 6,
        &quot;6&quot;: 2
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.service.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 52
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 43
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 43
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 18
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 11
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 18
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 20
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 19
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 19
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 12
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 2
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 31
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 38
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 50
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 66
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 5
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 57
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 19
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 1
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 51
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 57
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 19
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 30
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 5
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 35
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 8
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 22
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 39
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 49
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 7
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 54
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 5
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 67
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 23
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 9
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 22
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 9
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 6
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 26
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 1
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 34
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 44
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 21
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 1
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 40
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 51
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 26
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 7
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 21
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 1
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 35
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 45
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 19
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 1
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 37
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 54
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 22
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 36
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 21
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 39
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 5
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 30
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 1
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 35
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 18
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 41
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 4
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 33
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 34
          }
        },
        &quot;87&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 41
          }
        },
        &quot;88&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 28
          }
        },
        &quot;89&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 17
          }
        },
        &quot;90&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 19
          }
        },
        &quot;91&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 3,
        &quot;14&quot;: 3,
        &quot;15&quot;: 3,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 3,
        &quot;21&quot;: 0,
        &quot;22&quot;: 1,
        &quot;23&quot;: 17,
        &quot;24&quot;: 17,
        &quot;25&quot;: 6,
        &quot;26&quot;: 17,
        &quot;27&quot;: 2,
        &quot;28&quot;: 2,
        &quot;29&quot;: 4,
        &quot;30&quot;: 4,
        &quot;31&quot;: 4,
        &quot;32&quot;: 4,
        &quot;33&quot;: 3,
        &quot;34&quot;: 17,
        &quot;35&quot;: 17,
        &quot;36&quot;: 2,
        &quot;37&quot;: 2,
        &quot;38&quot;: 2,
        &quot;39&quot;: 2,
        &quot;40&quot;: 2,
        &quot;41&quot;: 2,
        &quot;42&quot;: 2,
        &quot;43&quot;: 2,
        &quot;44&quot;: 2,
        &quot;45&quot;: 2,
        &quot;46&quot;: 17,
        &quot;47&quot;: 0,
        &quot;48&quot;: 1,
        &quot;49&quot;: 2,
        &quot;50&quot;: 2,
        &quot;51&quot;: 2,
        &quot;52&quot;: 0,
        &quot;53&quot;: 1,
        &quot;54&quot;: 2,
        &quot;55&quot;: 2,
        &quot;56&quot;: 1,
        &quot;57&quot;: 1,
        &quot;58&quot;: 2,
        &quot;59&quot;: 0,
        &quot;60&quot;: 1,
        &quot;61&quot;: 6,
        &quot;62&quot;: 6,
        &quot;63&quot;: 6,
        &quot;64&quot;: 0,
        &quot;65&quot;: 1,
        &quot;66&quot;: 5,
        &quot;67&quot;: 5,
        &quot;68&quot;: 2,
        &quot;69&quot;: 5,
        &quot;70&quot;: 1,
        &quot;71&quot;: 1,
        &quot;72&quot;: 1,
        &quot;73&quot;: 1,
        &quot;74&quot;: 1,
        &quot;75&quot;: 5,
        &quot;76&quot;: 0,
        &quot;77&quot;: 1,
        &quot;78&quot;: 1,
        &quot;79&quot;: 1,
        &quot;80&quot;: 1,
        &quot;81&quot;: 1,
        &quot;82&quot;: 1,
        &quot;83&quot;: 1,
        &quot;84&quot;: 1,
        &quot;85&quot;: 1,
        &quot;86&quot;: 30,
        &quot;87&quot;: 30,
        &quot;88&quot;: 30,
        &quot;89&quot;: 15,
        &quot;90&quot;: 30,
        &quot;91&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 92,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 92,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 92,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 92,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 92,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 92,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 16,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 8
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 8
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 16,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 49
            },
            &quot;end&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 49
              },
              &quot;end&quot;: {
                &quot;line&quot;: 18,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 18,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 5
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 18,
                &quot;column&quot;: 5
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 24,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 24,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;8&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 25,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 8
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 25,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 27,
                &quot;column&quot;: 8
              }
            }
          ]
        },
        &quot;9&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 27,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 18
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 27,
                &quot;column&quot;: 18
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;10&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 5
            },
            &quot;end&quot;: {
              &quot;line&quot;: 34,
              &quot;column&quot;: 39
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 5
              },
              &quot;end&quot;: {
                &quot;line&quot;: 34,
                &quot;column&quot;: 39
              }
            }
          ]
        },
        &quot;11&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 33,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 8
            },
            &quot;end&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 28
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 33,
                &quot;column&quot;: 8
              },
              &quot;end&quot;: {
                &quot;line&quot;: 35,
                &quot;column&quot;: 28
              }
            }
          ]
        },
        &quot;12&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 36,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 6
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 36,
                &quot;column&quot;: 6
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;13&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 47,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 48,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;14&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 50,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 50,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 53,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;15&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 51,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 52,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 51,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 52,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;16&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 52,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 52,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 52,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 53,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;17&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 55,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 55,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 60,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;18&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 56,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 56,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 59,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 56,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 59,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;19&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 59,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 59,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 59,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 60,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;20&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 62,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 62,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 62,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 65,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;21&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 63,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 64,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 63,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 64,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;22&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 64,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 64,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 64,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 65,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;23&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 67,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 67,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;24&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 68,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 68,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 70,
              &quot;column&quot;: 8
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 68,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 70,
                &quot;column&quot;: 8
              }
            }
          ]
        },
        &quot;25&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 70,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 70,
              &quot;column&quot;: 21
            },
            &quot;end&quot;: {
              &quot;line&quot;: 76,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 70,
                &quot;column&quot;: 21
              },
              &quot;end&quot;: {
                &quot;line&quot;: 76,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;26&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 76,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 76,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 76,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;27&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 87,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 87,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 92,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;28&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 89,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 89,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 91,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 89,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 91,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;29&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 91,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 91,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 91,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 92,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          3
        ],
        &quot;3&quot;: [
          1
        ],
        &quot;4&quot;: [
          0
        ],
        &quot;5&quot;: [
          1
        ],
        &quot;6&quot;: [
          0
        ],
        &quot;7&quot;: [
          17
        ],
        &quot;8&quot;: [
          6
        ],
        &quot;9&quot;: [
          2
        ],
        &quot;10&quot;: [
          4
        ],
        &quot;11&quot;: [
          3
        ],
        &quot;12&quot;: [
          2
        ],
        &quot;13&quot;: [
          0
        ],
        &quot;14&quot;: [
          2
        ],
        &quot;15&quot;: [
          1
        ],
        &quot;16&quot;: [
          0
        ],
        &quot;17&quot;: [
          2
        ],
        &quot;18&quot;: [
          1
        ],
        &quot;19&quot;: [
          0
        ],
        &quot;20&quot;: [
          6
        ],
        &quot;21&quot;: [
          3
        ],
        &quot;22&quot;: [
          0
        ],
        &quot;23&quot;: [
          5
        ],
        &quot;24&quot;: [
          2
        ],
        &quot;25&quot;: [
          1
        ],
        &quot;26&quot;: [
          0
        ],
        &quot;27&quot;: [
          30
        ],
        &quot;28&quot;: [
          15
        ],
        &quot;29&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 92
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 14
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;updateCompany&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 24
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getAllCompanies&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 50
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;getMyCompanies&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 60,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 55
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getCompanyById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 62,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 62,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 62
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;_delete&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 67
        },
        &quot;7&quot;: {
          &quot;name&quot;: &quot;getCompany&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 87,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 92,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 87
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 3,
        &quot;2&quot;: 17,
        &quot;3&quot;: 2,
        &quot;4&quot;: 2,
        &quot;5&quot;: 6,
        &quot;6&quot;: 5,
        &quot;7&quot;: 30
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;company.validators.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 27
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 70
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 44
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 38
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 45
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 31
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 34
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 47
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 7
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 39
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 2
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 44
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 25
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 37
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 44
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 46
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 38
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 41
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 44
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 6
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 43
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 39
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 2,
        &quot;5&quot;: 2,
        &quot;6&quot;: 2,
        &quot;7&quot;: 2,
        &quot;8&quot;: 2,
        &quot;9&quot;: 2,
        &quot;10&quot;: 2,
        &quot;11&quot;: 2,
        &quot;12&quot;: 2,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 6,
        &quot;16&quot;: 6,
        &quot;17&quot;: 6,
        &quot;18&quot;: 6,
        &quot;19&quot;: 6,
        &quot;20&quot;: 6,
        &quot;21&quot;: 6,
        &quot;22&quot;: 6,
        &quot;23&quot;: 6,
        &quot;24&quot;: 6,
        &quot;25&quot;: 6,
        &quot;26&quot;: 6,
        &quot;27&quot;: 6
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 28,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 28,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 28,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 28,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 28,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 28,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 28,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          2
        ],
        &quot;3&quot;: [
          6
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 28
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 15
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 2,
        &quot;2&quot;: 6
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 37
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 49
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 63
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 30
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 28
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 35
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 5
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 29
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 22
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 5
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 35
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 69
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 46
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 56
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 16
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 19
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 53
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 34
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 23
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 58
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 48
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 18
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 14
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 20
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 48
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 34
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 23
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 54
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 57
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 18
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 14
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 10
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 5
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 1
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 15
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 26
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 0,
        &quot;38&quot;: 1,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 43,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 26
              },
              &quot;end&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 26
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 43,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 26
              },
              &quot;end&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 26
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 26
            }
          },
          &quot;line&quot;: 43
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Category&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 6
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 7
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;get jsonSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 11
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;get relationMappings&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 15
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 72
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 64
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 47
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 47
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 43
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 54
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 49
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 31
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 22
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 3
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 54
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 39
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 59
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 40
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 36
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 63
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 59
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 24
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 33
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 32
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 29
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 47
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 26
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 25
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 73
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 13
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 59
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 10
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 47
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 21
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 1
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 49
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 38
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 19
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 47
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 29
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 67
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 9
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 21
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 1
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 42
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 19
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 39
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 27
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 63
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 9
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 21
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 1
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 33
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 51
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 29
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 41
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 47
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 26
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 25
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 73
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 13
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 74
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 10
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 27
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 63
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 9
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 21
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 1
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 42
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 58
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 47
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 26
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 25
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 73
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 13
          }
        },
        &quot;87&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 44
          }
        },
        &quot;88&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 34
          }
        },
        &quot;89&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 50
          }
        },
        &quot;90&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 15
          }
        },
        &quot;91&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 10
          }
        },
        &quot;92&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 21
          }
        },
        &quot;93&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 44
          }
        },
        &quot;94&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 10
          }
        },
        &quot;95&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 21
          }
        },
        &quot;96&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 1
          }
        },
        &quot;97&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 0
          }
        },
        &quot;98&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 44
          }
        },
        &quot;99&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 46
          }
        },
        &quot;100&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 38
          }
        },
        &quot;101&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 44
          }
        },
        &quot;102&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 17
          }
        },
        &quot;103&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 0
          }
        },
        &quot;104&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 16
          }
        },
        &quot;105&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 1,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 0,
        &quot;47&quot;: 0,
        &quot;48&quot;: 0,
        &quot;49&quot;: 0,
        &quot;50&quot;: 0,
        &quot;51&quot;: 0,
        &quot;52&quot;: 1,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 0,
        &quot;56&quot;: 0,
        &quot;57&quot;: 0,
        &quot;58&quot;: 0,
        &quot;59&quot;: 0,
        &quot;60&quot;: 0,
        &quot;61&quot;: 1,
        &quot;62&quot;: 0,
        &quot;63&quot;: 0,
        &quot;64&quot;: 0,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 0,
        &quot;71&quot;: 0,
        &quot;72&quot;: 0,
        &quot;73&quot;: 0,
        &quot;74&quot;: 0,
        &quot;75&quot;: 0,
        &quot;76&quot;: 0,
        &quot;77&quot;: 0,
        &quot;78&quot;: 0,
        &quot;79&quot;: 1,
        &quot;80&quot;: 0,
        &quot;81&quot;: 0,
        &quot;82&quot;: 0,
        &quot;83&quot;: 0,
        &quot;84&quot;: 0,
        &quot;85&quot;: 0,
        &quot;86&quot;: 0,
        &quot;87&quot;: 0,
        &quot;88&quot;: 0,
        &quot;89&quot;: 0,
        &quot;90&quot;: 0,
        &quot;91&quot;: 0,
        &quot;92&quot;: 0,
        &quot;93&quot;: 0,
        &quot;94&quot;: 0,
        &quot;95&quot;: 0,
        &quot;96&quot;: 0,
        &quot;97&quot;: 1,
        &quot;98&quot;: 1,
        &quot;99&quot;: 0,
        &quot;100&quot;: 0,
        &quot;101&quot;: 0,
        &quot;102&quot;: 0,
        &quot;103&quot;: 0,
        &quot;104&quot;: 0,
        &quot;105&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 106,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 106,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 106,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 106,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 106,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 106,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 106
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 28,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 28
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;getAllCompanyCategorys&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 52,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 52,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 43
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getCategoryById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 61,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 54,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 61,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 54
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;update&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 79,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 63
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;_deleteCategory&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 97,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 97,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 81
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;isOwner&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 100,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 100,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 106,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 100
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.service.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 45
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 49
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 18
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 19
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 19
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 19
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 27
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 20
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 12
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 2
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 39
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 59
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 20
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 1
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 43
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 47
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 42
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 8
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 22
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 40
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 28
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 30
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 36
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 11
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 7
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 56
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 5
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 74
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 18
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 7
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 27
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 1
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 33
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 45
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 21
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 1
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 47
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 58
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 21
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 1
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 36
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 47
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 20
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 1
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 37
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 54
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 1
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 35
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 18
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 42
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 4
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 33
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 35
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 43
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 28
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 34
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 17
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 20
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 1,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 1,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 1,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 1,
        &quot;47&quot;: 0,
        &quot;48&quot;: 0,
        &quot;49&quot;: 0,
        &quot;50&quot;: 0,
        &quot;51&quot;: 1,
        &quot;52&quot;: 0,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 1,
        &quot;56&quot;: 1,
        &quot;57&quot;: 1,
        &quot;58&quot;: 1,
        &quot;59&quot;: 1,
        &quot;60&quot;: 1,
        &quot;61&quot;: 1,
        &quot;62&quot;: 1,
        &quot;63&quot;: 1,
        &quot;64&quot;: 0,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 0,
        &quot;71&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 72,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 72,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 72,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 72,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 72,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 72,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 72
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;createCategory&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 13
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;updateCategory&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 18
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getAllCategory&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 38
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;getAllCompanyCategorys&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 43
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getCategoryById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 48
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;_delete&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 53
        },
        &quot;7&quot;: {
          &quot;name&quot;: &quot;getCategory&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 72,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 65
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;category.validators.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 27
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 76
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 44
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 38
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 41
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 7
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 39
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 2
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 44
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 25
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 37
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 40
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 6
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 43
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 39
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0,
        &quot;9&quot;: 0,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 21
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 12
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 66
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 40
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 46
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 26
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 28
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 31
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 5
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 35
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 66
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 16
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 23
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 53
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 37
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 23
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 59
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 52
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 18
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 14
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 10
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 5
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 1
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 15
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 22
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 22
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 22
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 22
            }
          },
          &quot;line&quot;: 29
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Item&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 6
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 7
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;get relationMappings&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 24,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 11
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 68
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 76
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 50
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 46
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 31
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 22
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 3
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 70
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 36
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 78
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 65
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 24
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 33
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 15
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 29
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 51
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 21
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 1
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 34
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 15
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 35
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 70
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 21
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 1
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 37
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 15
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 44
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 70
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 21
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 1
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 37
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 15
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 42
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 19
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 22
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 53
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 34
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 14
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 9
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 21
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 1,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 1,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 1,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 0,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 0,
        &quot;47&quot;: 0,
        &quot;48&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 49,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 49,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 49,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 49
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 18
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;getById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 30,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 30,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 25
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;updateItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 32
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;deleteItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 39
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.service.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 37
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 52
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 18
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 15
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 16
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 15
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 15
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 2
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 35
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 51
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 30
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 1
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 32
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 39
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 16
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 1
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 39
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 72
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 22
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 1
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 40
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 50
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 1
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 59
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 32
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 35
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 29
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 17
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 16
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 1
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 29
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 43
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 37
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 0,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 1,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 1,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 1,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 1,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 42,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 42,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 42,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 42,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 42,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 42,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 42
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;createItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 11
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;getItemById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 19,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 19,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 16
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;updateItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 21
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;deleteItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 27
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 32,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 32
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;basicDetails&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 39,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 39
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;category&#x2F;item&#x2F;item.validators.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 27
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 79
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 44
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 38
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 39
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 42
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 45
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 32
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 45
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 7
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 39
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 2
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 44
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 25
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 37
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 38
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 41
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 44
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 32
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 44
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 6
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 43
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 39
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0,
        &quot;9&quot;: 0,
        &quot;10&quot;: 0,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 29
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 16
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 34
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 45
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 60
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 26
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 28
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 31
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 5
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 29
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 22
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 5
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 35
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 69
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 52
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 62
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 16
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 22
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 53
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 37
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 23
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 58
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 51
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 18
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 14
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 25
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 48
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 38
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 23
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 50
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 57
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 18
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 14
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 10
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 5
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 1
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 15
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 22
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 8,
        &quot;8&quot;: 8,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 1,
        &quot;36&quot;: 1,
        &quot;37&quot;: 1,
        &quot;38&quot;: 1,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 43,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 22
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 43,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 22
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 6,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 7,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 7,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 9,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 11,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 11,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 5
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 38,
                &quot;column&quot;: 5
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          3
        ],
        &quot;3&quot;: [
          8
        ],
        &quot;4&quot;: [
          1
        ],
        &quot;5&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 22
            }
          },
          &quot;line&quot;: 43
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Menu&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 6
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 7,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 7
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;get jsonSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 11
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;get relationMappings&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 15
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 3,
        &quot;2&quot;: 8,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 67
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 44
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 70
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 44
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 55
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 46
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 46
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 31
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 22
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 3
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 45
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 43
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 70
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 36
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 32
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 63
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 55
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 24
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 33
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 58
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 15
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 29
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 39
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 21
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 1
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 45
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 38
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 15
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 47
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 73
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 21
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 1
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 38
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 15
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 35
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 70
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 21
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 1
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 33
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 47
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 19
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 38
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 16
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 28
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 27
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 32
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 37
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 13
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 67
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 10
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 70
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 21
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 1
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 38
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 54
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 19
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 38
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 16
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 28
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 27
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 32
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 37
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 13
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 40
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 34
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 50
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 15
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 10
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 21
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 44
          }
        },
        &quot;87&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 10
          }
        },
        &quot;88&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 21
          }
        },
        &quot;89&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 1,
        &quot;36&quot;: 1,
        &quot;37&quot;: 1,
        &quot;38&quot;: 1,
        &quot;39&quot;: 1,
        &quot;40&quot;: 1,
        &quot;41&quot;: 1,
        &quot;42&quot;: 1,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 0,
        &quot;47&quot;: 0,
        &quot;48&quot;: 0,
        &quot;49&quot;: 1,
        &quot;50&quot;: 0,
        &quot;51&quot;: 0,
        &quot;52&quot;: 0,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 0,
        &quot;56&quot;: 0,
        &quot;57&quot;: 0,
        &quot;58&quot;: 0,
        &quot;59&quot;: 0,
        &quot;60&quot;: 0,
        &quot;61&quot;: 0,
        &quot;62&quot;: 0,
        &quot;63&quot;: 0,
        &quot;64&quot;: 0,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 1,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 0,
        &quot;71&quot;: 0,
        &quot;72&quot;: 0,
        &quot;73&quot;: 0,
        &quot;74&quot;: 0,
        &quot;75&quot;: 0,
        &quot;76&quot;: 0,
        &quot;77&quot;: 0,
        &quot;78&quot;: 0,
        &quot;79&quot;: 0,
        &quot;80&quot;: 0,
        &quot;81&quot;: 0,
        &quot;82&quot;: 0,
        &quot;83&quot;: 0,
        &quot;84&quot;: 0,
        &quot;85&quot;: 0,
        &quot;86&quot;: 0,
        &quot;87&quot;: 0,
        &quot;88&quot;: 0,
        &quot;89&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 90,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 90,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 90,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 90,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 90,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 90,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 27,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 27,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 33,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 31,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 31,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 31,
              &quot;column&quot;: 27
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 31,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 31,
                &quot;column&quot;: 27
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 35,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 35,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 42,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 40,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 55
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 55
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 40,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 31
            },
            &quot;end&quot;: {
              &quot;line&quot;: 40,
              &quot;column&quot;: 55
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 31
              },
              &quot;end&quot;: {
                &quot;line&quot;: 40,
                &quot;column&quot;: 55
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ],
        &quot;3&quot;: [
          1
        ],
        &quot;4&quot;: [
          1
        ],
        &quot;5&quot;: [
          1
        ],
        &quot;6&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 90
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 27,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 33,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 27
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;getAllCompanyMenus&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 35,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 35
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getMenuById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 49,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 44
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;update&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 67,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 51
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;_deleteMenu&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 69,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 90,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 69
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.service.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 43
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 46
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 18
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 15
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 15
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 15
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 23
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 16
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 12
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 2
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 35
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 51
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 16
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 1
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 39
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 39
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 38
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 8
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 22
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 36
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 24
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 30
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 42
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 11
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 7
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 52
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 5
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 66
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 18
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 7
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 23
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 1
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 29
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 37
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 17
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 1
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 43
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 58
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 17
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 1
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 32
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 39
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 30
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 1
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 37
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 50
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 1
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 35
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 18
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 38
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 4
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 33
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 31
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 35
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 28
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 39
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 17
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 16
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 1
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 29
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 54
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 48
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 2,
        &quot;13&quot;: 2,
        &quot;14&quot;: 2,
        &quot;15&quot;: 0,
        &quot;16&quot;: 1,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 1,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 1,
        &quot;42&quot;: 2,
        &quot;43&quot;: 2,
        &quot;44&quot;: 2,
        &quot;45&quot;: 0,
        &quot;46&quot;: 1,
        &quot;47&quot;: 0,
        &quot;48&quot;: 0,
        &quot;49&quot;: 0,
        &quot;50&quot;: 0,
        &quot;51&quot;: 1,
        &quot;52&quot;: 0,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 1,
        &quot;56&quot;: 1,
        &quot;57&quot;: 1,
        &quot;58&quot;: 1,
        &quot;59&quot;: 1,
        &quot;60&quot;: 1,
        &quot;61&quot;: 1,
        &quot;62&quot;: 1,
        &quot;63&quot;: 1,
        &quot;64&quot;: 0,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 0,
        &quot;71&quot;: 1,
        &quot;72&quot;: 0,
        &quot;73&quot;: 0,
        &quot;74&quot;: 0,
        &quot;75&quot;: 0,
        &quot;76&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 77,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 77,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 77,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 13,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 43,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 43,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;6&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 44,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 44,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 45,
              &quot;column&quot;: 11
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 44,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 45,
                &quot;column&quot;: 11
              }
            }
          ]
        },
        &quot;7&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 45,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 45,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 45,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 46,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          2
        ],
        &quot;3&quot;: [
          1
        ],
        &quot;4&quot;: [
          0
        ],
        &quot;5&quot;: [
          2
        ],
        &quot;6&quot;: [
          1
        ],
        &quot;7&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 77
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;createMenu&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 13
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;updateMenu&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 18,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 18
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getAllMenu&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 38,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 41,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 38
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;getAllCompanyMenus&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 43,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 46,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 43
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getMenuById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 51,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 48
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;_delete&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 53,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 55,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 53
        },
        &quot;7&quot;: {
          &quot;name&quot;: &quot;getMenu&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 65,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 65
        },
        &quot;8&quot;: {
          &quot;name&quot;: &quot;basicDetails&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 73,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 73,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 77,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 73
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 2,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 2,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;menu&#x2F;menu.validator.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 27
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 73
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 44
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 38
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 45
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 32
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 7
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 39
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 2
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 44
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 25
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 37
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 44
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 42
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 6
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 43
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 39
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 23,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 23,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 23,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 23,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 23,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 23,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 11,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 23
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.createSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 13
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 60
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 34
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 27
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 28
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 32
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 5
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 35
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 52
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 54
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 65
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 16
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 20
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 48
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 38
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 23
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 51
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 59
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 18
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 14
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 23
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 53
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 33
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 23
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 60
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 48
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 18
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 14
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 22
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 53
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 36
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 23
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 59
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 51
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 18
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 14
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 10
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 5
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 1
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 15
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 23
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 0,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 0,
        &quot;42&quot;: 1,
        &quot;43&quot;: 1,
        &quot;44&quot;: 1,
        &quot;45&quot;: 1,
        &quot;46&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 47,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 23
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 47,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 47,
                &quot;column&quot;: 23
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 47,
              &quot;column&quot;: 23
            }
          },
          &quot;line&quot;: 47
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Order&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 5
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 6
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;get relationMappings&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 42,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 10
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 7
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 22
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 22
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 23
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 34
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 61
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 44
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 48
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 58
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 31
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 22
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 3
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 46
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 53
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 70
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 13
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 11
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 22
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 35
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 15
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 2
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 41
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 64
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 11
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 22
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 23
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 35
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 20
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 2
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 38
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 21
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 33
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 42
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 23
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 6
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 16
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 29
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 28
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 22
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 72
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 14
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 9
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 21
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 1
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 38
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 16
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 55
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 41
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 21
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 1
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 39
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 16
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 25
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 73
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 21
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 1
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 39
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 16
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 34
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 77
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 21
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 1
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 43
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 31
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 46
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 16
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 33
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 77
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 21
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 1
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 24
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 0,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 0,
        &quot;47&quot;: 0,
        &quot;48&quot;: 0,
        &quot;49&quot;: 0,
        &quot;50&quot;: 1,
        &quot;51&quot;: 0,
        &quot;52&quot;: 0,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 0,
        &quot;56&quot;: 0,
        &quot;57&quot;: 1,
        &quot;58&quot;: 0,
        &quot;59&quot;: 0,
        &quot;60&quot;: 0,
        &quot;61&quot;: 0,
        &quot;62&quot;: 0,
        &quot;63&quot;: 0,
        &quot;64&quot;: 1,
        &quot;65&quot;: 0,
        &quot;66&quot;: 0,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 0,
        &quot;71&quot;: 1,
        &quot;72&quot;: 0,
        &quot;73&quot;: 0,
        &quot;74&quot;: 0,
        &quot;75&quot;: 0,
        &quot;76&quot;: 0,
        &quot;77&quot;: 0,
        &quot;78&quot;: 0,
        &quot;79&quot;: 0,
        &quot;80&quot;: 0,
        &quot;81&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 82,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 82,
                &quot;column&quot;: 24
              },
              &quot;end&quot;: {
                &quot;line&quot;: 82,
                &quot;column&quot;: 24
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 82,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 82,
                &quot;column&quot;: 24
              },
              &quot;end&quot;: {
                &quot;line&quot;: 82,
                &quot;column&quot;: 24
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 82,
              &quot;column&quot;: 24
            }
          },
          &quot;line&quot;: 82
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;createOrder&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 36,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 36
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;updateOrder&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 52,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 57,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 52,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 57,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 52
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;getOrderById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 59,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 64,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 59,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 64,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 59
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;getOwnOrders&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 66,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 66,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 71,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 66
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getCompanyOrders&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 73,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 73,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 81,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 73
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.service.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 18
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 16
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 20
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 16
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 17
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 17
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 21
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 2
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 36
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 77
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 46
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 27
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 31
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 59
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 21
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 1
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 44
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 37
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 26
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 36
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 27
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 19
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 35
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 21
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 45
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 15
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 5
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 33
          }
        },
        &quot;37&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 38,
            &quot;column&quot;: 31
          }
        },
        &quot;38&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 39,
            &quot;column&quot;: 16
          }
        },
        &quot;39&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 40,
            &quot;column&quot;: 43
          }
        },
        &quot;40&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 41,
            &quot;column&quot;: 10
          }
        },
        &quot;41&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 42,
            &quot;column&quot;: 16
          }
        },
        &quot;42&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 43,
            &quot;column&quot;: 33
          }
        },
        &quot;43&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 44,
            &quot;column&quot;: 10
          }
        },
        &quot;44&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 45,
            &quot;column&quot;: 24
          }
        },
        &quot;45&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 46,
            &quot;column&quot;: 0
          }
        },
        &quot;46&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 47,
            &quot;column&quot;: 21
          }
        },
        &quot;47&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 48,
            &quot;column&quot;: 1
          }
        },
        &quot;48&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 49,
            &quot;column&quot;: 0
          }
        },
        &quot;49&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 50,
            &quot;column&quot;: 46
          }
        },
        &quot;50&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 51,
            &quot;column&quot;: 63
          }
        },
        &quot;51&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 52,
            &quot;column&quot;: 0
          }
        },
        &quot;52&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 53,
            &quot;column&quot;: 47
          }
        },
        &quot;53&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 54,
            &quot;column&quot;: 47
          }
        },
        &quot;54&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 55,
            &quot;column&quot;: 20
          }
        },
        &quot;55&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 56,
            &quot;column&quot;: 5
          }
        },
        &quot;56&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 57,
            &quot;column&quot;: 29
          }
        },
        &quot;57&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 58,
            &quot;column&quot;: 62
          }
        },
        &quot;58&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 59,
            &quot;column&quot;: 0
          }
        },
        &quot;59&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 60,
            &quot;column&quot;: 17
          }
        },
        &quot;60&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 61,
            &quot;column&quot;: 1
          }
        },
        &quot;61&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 62,
            &quot;column&quot;: 0
          }
        },
        &quot;62&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 63,
            &quot;column&quot;: 33
          }
        },
        &quot;63&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 64,
            &quot;column&quot;: 63
          }
        },
        &quot;64&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 65,
            &quot;column&quot;: 17
          }
        },
        &quot;65&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 66,
            &quot;column&quot;: 1
          }
        },
        &quot;66&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 67,
            &quot;column&quot;: 0
          }
        },
        &quot;67&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 68,
            &quot;column&quot;: 33
          }
        },
        &quot;68&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 69,
            &quot;column&quot;: 38
          }
        },
        &quot;69&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 70,
            &quot;column&quot;: 35
          }
        },
        &quot;70&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 71,
            &quot;column&quot;: 31
          }
        },
        &quot;71&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 72,
            &quot;column&quot;: 18
          }
        },
        &quot;72&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 73,
            &quot;column&quot;: 1
          }
        },
        &quot;73&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 74,
            &quot;column&quot;: 0
          }
        },
        &quot;74&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 75,
            &quot;column&quot;: 41
          }
        },
        &quot;75&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 76,
            &quot;column&quot;: 75
          }
        },
        &quot;76&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 77,
            &quot;column&quot;: 18
          }
        },
        &quot;77&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 78,
            &quot;column&quot;: 1
          }
        },
        &quot;78&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 79,
            &quot;column&quot;: 59
          }
        },
        &quot;79&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 80,
            &quot;column&quot;: 46
          }
        },
        &quot;80&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 81,
            &quot;column&quot;: 51
          }
        },
        &quot;81&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 82,
            &quot;column&quot;: 43
          }
        },
        &quot;82&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 83,
            &quot;column&quot;: 42
          }
        },
        &quot;83&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 84,
            &quot;column&quot;: 0
          }
        },
        &quot;84&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 85,
            &quot;column&quot;: 35
          }
        },
        &quot;85&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 86,
            &quot;column&quot;: 16
          }
        },
        &quot;86&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 87,
            &quot;column&quot;: 28
          }
        },
        &quot;87&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 88,
            &quot;column&quot;: 32
          }
        },
        &quot;88&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 89,
            &quot;column&quot;: 10
          }
        },
        &quot;89&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 90,
            &quot;column&quot;: 17
          }
        },
        &quot;90&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 91,
            &quot;column&quot;: 0
          }
        },
        &quot;91&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 92,
            &quot;column&quot;: 17
          }
        },
        &quot;92&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 93,
            &quot;column&quot;: 21
          }
        },
        &quot;93&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 94,
            &quot;column&quot;: 44
          }
        },
        &quot;94&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 95,
            &quot;column&quot;: 28
          }
        },
        &quot;95&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 96,
            &quot;column&quot;: 23
          }
        },
        &quot;96&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 97,
            &quot;column&quot;: 32
          }
        },
        &quot;97&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 98,
            &quot;column&quot;: 38
          }
        },
        &quot;98&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 99,
            &quot;column&quot;: 11
          }
        },
        &quot;99&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 100,
            &quot;column&quot;: 5
          }
        },
        &quot;100&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 101,
            &quot;column&quot;: 0
          }
        },
        &quot;101&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 102,
            &quot;column&quot;: 17
          }
        },
        &quot;102&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 103,
            &quot;column&quot;: 1
          }
        },
        &quot;103&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 104,
            &quot;column&quot;: 0
          }
        },
        &quot;104&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 105,
            &quot;column&quot;: 29
          }
        },
        &quot;105&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 106,
            &quot;column&quot;: 51
          }
        },
        &quot;106&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 107,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 107,
            &quot;column&quot;: 17
          }
        },
        &quot;107&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 108,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 108,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 0,
        &quot;20&quot;: 0,
        &quot;21&quot;: 1,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0,
        &quot;29&quot;: 0,
        &quot;30&quot;: 0,
        &quot;31&quot;: 0,
        &quot;32&quot;: 0,
        &quot;33&quot;: 0,
        &quot;34&quot;: 0,
        &quot;35&quot;: 0,
        &quot;36&quot;: 0,
        &quot;37&quot;: 0,
        &quot;38&quot;: 0,
        &quot;39&quot;: 0,
        &quot;40&quot;: 0,
        &quot;41&quot;: 0,
        &quot;42&quot;: 0,
        &quot;43&quot;: 0,
        &quot;44&quot;: 0,
        &quot;45&quot;: 0,
        &quot;46&quot;: 0,
        &quot;47&quot;: 0,
        &quot;48&quot;: 1,
        &quot;49&quot;: 0,
        &quot;50&quot;: 0,
        &quot;51&quot;: 0,
        &quot;52&quot;: 0,
        &quot;53&quot;: 0,
        &quot;54&quot;: 0,
        &quot;55&quot;: 0,
        &quot;56&quot;: 0,
        &quot;57&quot;: 0,
        &quot;58&quot;: 0,
        &quot;59&quot;: 0,
        &quot;60&quot;: 0,
        &quot;61&quot;: 1,
        &quot;62&quot;: 0,
        &quot;63&quot;: 0,
        &quot;64&quot;: 0,
        &quot;65&quot;: 0,
        &quot;66&quot;: 1,
        &quot;67&quot;: 0,
        &quot;68&quot;: 0,
        &quot;69&quot;: 0,
        &quot;70&quot;: 0,
        &quot;71&quot;: 0,
        &quot;72&quot;: 0,
        &quot;73&quot;: 1,
        &quot;74&quot;: 0,
        &quot;75&quot;: 0,
        &quot;76&quot;: 0,
        &quot;77&quot;: 0,
        &quot;78&quot;: 1,
        &quot;79&quot;: 0,
        &quot;80&quot;: 0,
        &quot;81&quot;: 0,
        &quot;82&quot;: 0,
        &quot;83&quot;: 0,
        &quot;84&quot;: 0,
        &quot;85&quot;: 0,
        &quot;86&quot;: 0,
        &quot;87&quot;: 0,
        &quot;88&quot;: 0,
        &quot;89&quot;: 0,
        &quot;90&quot;: 0,
        &quot;91&quot;: 0,
        &quot;92&quot;: 0,
        &quot;93&quot;: 0,
        &quot;94&quot;: 0,
        &quot;95&quot;: 0,
        &quot;96&quot;: 0,
        &quot;97&quot;: 0,
        &quot;98&quot;: 0,
        &quot;99&quot;: 0,
        &quot;100&quot;: 0,
        &quot;101&quot;: 0,
        &quot;102&quot;: 0,
        &quot;103&quot;: 1,
        &quot;104&quot;: 0,
        &quot;105&quot;: 0,
        &quot;106&quot;: 0,
        &quot;107&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 108,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 108,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 108,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 108,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 108,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 108,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 108
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;createOrder&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 12
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;updateOrderItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 23,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 48,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 23
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;updateOrder&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 61,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 50,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 61,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 50
        },
        &quot;4&quot;: {
          &quot;name&quot;: &quot;getOrderById&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 66,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 63,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 66,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 63
        },
        &quot;5&quot;: {
          &quot;name&quot;: &quot;getOwnOrders&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 68,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 73,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 68,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 73,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 68
        },
        &quot;6&quot;: {
          &quot;name&quot;: &quot;getCompanyOrders&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 75,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 78,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 75,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 78,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 75
        },
        &quot;7&quot;: {
          &quot;name&quot;: &quot;get_or_create&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 80,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 103,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 80,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 103,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 80
        },
        &quot;8&quot;: {
          &quot;name&quot;: &quot;getOrder&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 105,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 105,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 108,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 105
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;order.validators.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 27
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 73
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 49
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 38
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 31
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 7
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 39
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 2
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 49
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 31
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 45
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 48
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 7
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 39
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 2
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 50
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 31
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 42
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 45
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 48
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 7
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 39
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0,
        &quot;9&quot;: 0,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 0,
        &quot;15&quot;: 0,
        &quot;16&quot;: 0,
        &quot;17&quot;: 0,
        &quot;18&quot;: 0,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 0,
        &quot;22&quot;: 0,
        &quot;23&quot;: 0,
        &quot;24&quot;: 0,
        &quot;25&quot;: 0,
        &quot;26&quot;: 0,
        &quot;27&quot;: 0,
        &quot;28&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 29,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 29
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.createOrderSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 28
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 28
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.updateOrderSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 28
            },
            &quot;end&quot;: {
              &quot;line&quot;: 19,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 28
            },
            &quot;end&quot;: {
              &quot;line&quot;: 19,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 12
        },
        &quot;3&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.exports.companyOrderSchema&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 29
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 29
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 21
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0,
        &quot;2&quot;: 0,
        &quot;3&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;company&#x2F;order&#x2F;orderItem&#x2F;orderItem.routes.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 64
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 47
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 49
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 31
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 22
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 3
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 54
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 42
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 35
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 1
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 24
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 0,
        &quot;12&quot;: 0,
        &quot;13&quot;: 0,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 16,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 24
              },
              &quot;end&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 24
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 16,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 24
              },
              &quot;end&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 24
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 24
            }
          },
          &quot;line&quot;: 16
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;updateOrderItem&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 12
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;index.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 32
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 31
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 14
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 34
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 7
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 3
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 55
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 60
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 24
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 24
              },
              &quot;end&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 24
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 14,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 24
              },
              &quot;end&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 24
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 5,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 16
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 3
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 16
              },
              &quot;end&quot;: {
                &quot;line&quot;: 9,
                &quot;column&quot;: 3
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 24
            }
          },
          &quot;line&quot;: 14
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;api&#x2F;user&#x2F;user.model.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 39
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 57
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 31
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 26
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 28
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 31
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 5
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 1
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 15
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 22
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 12,
        &quot;7&quot;: 12,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 13,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 22
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 13,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 22
              },
              &quot;end&quot;: {
                &quot;line&quot;: 13,
                &quot;column&quot;: 22
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 5,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 6
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 6,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 4
              },
              &quot;end&quot;: {
                &quot;line&quot;: 8,
                &quot;column&quot;: 5
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          4
        ],
        &quot;3&quot;: [
          12
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            },
            &quot;end&quot;: {
              &quot;line&quot;: 13,
              &quot;column&quot;: 22
            }
          },
          &quot;line&quot;: 13
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;User&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 6
            }
          },
          &quot;line&quot;: 5
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;get tableName&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 4
            },
            &quot;end&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 5
            }
          },
          &quot;line&quot;: 6
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 4,
        &quot;2&quot;: 12
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;app.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 33
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 43
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 33
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 29
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 16
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 22
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 48
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 51
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 27
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 45
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 29
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 22
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 23
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 18
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 16
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 23
          }
        },
        &quot;22&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 23,
            &quot;column&quot;: 24
          }
        },
        &quot;23&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 24,
            &quot;column&quot;: 0
          }
        },
        &quot;24&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 25,
            &quot;column&quot;: 28
          }
        },
        &quot;25&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 26,
            &quot;column&quot;: 14
          }
        },
        &quot;26&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 27,
            &quot;column&quot;: 38
          }
        },
        &quot;27&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 28,
            &quot;column&quot;: 7
          }
        },
        &quot;28&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 29,
            &quot;column&quot;: 3
          }
        },
        &quot;29&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 30,
            &quot;column&quot;: 0
          }
        },
        &quot;30&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 31,
            &quot;column&quot;: 24
          }
        },
        &quot;31&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 32,
            &quot;column&quot;: 67
          }
        },
        &quot;32&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 33,
            &quot;column&quot;: 0
          }
        },
        &quot;33&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 34,
            &quot;column&quot;: 30
          }
        },
        &quot;34&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 35,
            &quot;column&quot;: 34
          }
        },
        &quot;35&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 36,
            &quot;column&quot;: 0
          }
        },
        &quot;36&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 37,
            &quot;column&quot;: 21
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1,
        &quot;12&quot;: 1,
        &quot;13&quot;: 1,
        &quot;14&quot;: 1,
        &quot;15&quot;: 1,
        &quot;16&quot;: 1,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1,
        &quot;22&quot;: 1,
        &quot;23&quot;: 1,
        &quot;24&quot;: 1,
        &quot;25&quot;: 1,
        &quot;26&quot;: 1,
        &quot;27&quot;: 1,
        &quot;28&quot;: 1,
        &quot;29&quot;: 1,
        &quot;30&quot;: 1,
        &quot;31&quot;: 1,
        &quot;32&quot;: 1,
        &quot;33&quot;: 1,
        &quot;34&quot;: 1,
        &quot;35&quot;: 1,
        &quot;36&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 37,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 37,
                &quot;column&quot;: 21
              },
              &quot;end&quot;: {
                &quot;line&quot;: 37,
                &quot;column&quot;: 21
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 37,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 37,
                &quot;column&quot;: 21
              },
              &quot;end&quot;: {
                &quot;line&quot;: 37,
                &quot;column&quot;: 21
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 25,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 25,
              &quot;column&quot;: 13
            },
            &quot;end&quot;: {
              &quot;line&quot;: 29,
              &quot;column&quot;: 3
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 25,
                &quot;column&quot;: 13
              },
              &quot;end&quot;: {
                &quot;line&quot;: 29,
                &quot;column&quot;: 3
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            },
            &quot;end&quot;: {
              &quot;line&quot;: 37,
              &quot;column&quot;: 21
            }
          },
          &quot;line&quot;: 37
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;constants&#x2F;tableNames.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 18
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 17
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 23
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 23
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 25
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 25
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 17
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 17
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 19
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 27
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 25
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 12,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 12,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 12
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;db.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 29
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 39
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 40
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 58
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 47
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 34
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 15
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 20
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1,
        &quot;10&quot;: 1,
        &quot;11&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 12,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 20
              },
              &quot;end&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 20
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 12,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 20
              },
              &quot;end&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 20
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 5,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 20
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 58
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 20
              },
              &quot;end&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 58
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 20
            }
          },
          &quot;line&quot;: 12
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;middlewares.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 35
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 20
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 67
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 16
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 1
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 35
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 44
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 38
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 69
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 27
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 72
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 14
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 29
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 72
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 7
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 1
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 18
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 13
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 17
          }
        },
        &quot;21&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 22,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1,
        &quot;6&quot;: 1,
        &quot;7&quot;: 6,
        &quot;8&quot;: 6,
        &quot;9&quot;: 6,
        &quot;10&quot;: 6,
        &quot;11&quot;: 6,
        &quot;12&quot;: 6,
        &quot;13&quot;: 6,
        &quot;14&quot;: 6,
        &quot;15&quot;: 6,
        &quot;16&quot;: 6,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1,
        &quot;21&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 22,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 22,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 22,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 1,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 1,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 1,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 5,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 8,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 8,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 17,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 10,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 65
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 65
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 15,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 15
            },
            &quot;end&quot;: {
              &quot;line&quot;: 15,
              &quot;column&quot;: 62
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 15
              },
              &quot;end&quot;: {
                &quot;line&quot;: 15,
                &quot;column&quot;: 62
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ],
        &quot;3&quot;: [
          6
        ],
        &quot;4&quot;: [
          0
        ],
        &quot;5&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 22,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 22
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;notFound&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 1,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 1,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 5,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 1
        },
        &quot;2&quot;: {
          &quot;name&quot;: &quot;errorHandler&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 8,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 8
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 6
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;email.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 41
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 41
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 27
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 77
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 74
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 60
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 1
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 0,
        &quot;6&quot;: 0,
        &quot;7&quot;: 0,
        &quot;8&quot;: 0
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 9,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 9,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 9,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 9,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 9,
                &quot;column&quot;: 1
              },
              &quot;end&quot;: {
                &quot;line&quot;: 9,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 9
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;sendEmail&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 9,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 6
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 0
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;error.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 31
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 37
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 16
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 5,
        &quot;2&quot;: 5,
        &quot;3&quot;: 5
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 1,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 1,
              &quot;column&quot;: 18
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 1,
                &quot;column&quot;: 18
              },
              &quot;end&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          5
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 4
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;.module.exports&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 1,
              &quot;column&quot;: 18
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 1,
              &quot;column&quot;: 18
            },
            &quot;end&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 1
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 5
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;jwt.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 36
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 24
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 45
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 17
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 20
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 35
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 13
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 32
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 14
          }
        },
        &quot;10&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 11,
            &quot;column&quot;: 31
          }
        },
        &quot;11&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 12,
            &quot;column&quot;: 48
          }
        },
        &quot;12&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 13,
            &quot;column&quot;: 38
          }
        },
        &quot;13&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 14,
            &quot;column&quot;: 13
          }
        },
        &quot;14&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 15,
            &quot;column&quot;: 10
          }
        },
        &quot;15&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 16,
            &quot;column&quot;: 7
          }
        },
        &quot;16&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 17,
            &quot;column&quot;: 1
          }
        },
        &quot;17&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 18,
            &quot;column&quot;: 0
          }
        },
        &quot;18&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 19,
            &quot;column&quot;: 18
          }
        },
        &quot;19&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 20,
            &quot;column&quot;: 9
          }
        },
        &quot;20&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 21,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 2,
        &quot;3&quot;: 2,
        &quot;4&quot;: 2,
        &quot;5&quot;: 2,
        &quot;6&quot;: 2,
        &quot;7&quot;: 2,
        &quot;8&quot;: 2,
        &quot;9&quot;: 2,
        &quot;10&quot;: 2,
        &quot;11&quot;: 2,
        &quot;12&quot;: 2,
        &quot;13&quot;: 2,
        &quot;14&quot;: 2,
        &quot;15&quot;: 2,
        &quot;16&quot;: 2,
        &quot;17&quot;: 1,
        &quot;18&quot;: 1,
        &quot;19&quot;: 1,
        &quot;20&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 21,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 21,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 3,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 3,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 17,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 23
            },
            &quot;end&quot;: {
              &quot;line&quot;: 16,
              &quot;column&quot;: 7
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 23
              },
              &quot;end&quot;: {
                &quot;line&quot;: 16,
                &quot;column&quot;: 7
              }
            }
          ]
        },
        &quot;4&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 11,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 11,
              &quot;column&quot;: 12
            },
            &quot;end&quot;: {
              &quot;line&quot;: 14,
              &quot;column&quot;: 13
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 11,
                &quot;column&quot;: 12
              },
              &quot;end&quot;: {
                &quot;line&quot;: 14,
                &quot;column&quot;: 13
              }
            }
          ]
        },
        &quot;5&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 12,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 27
            },
            &quot;end&quot;: {
              &quot;line&quot;: 12,
              &quot;column&quot;: 34
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 27
              },
              &quot;end&quot;: {
                &quot;line&quot;: 12,
                &quot;column&quot;: 34
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          2
        ],
        &quot;3&quot;: [
          2
        ],
        &quot;4&quot;: [
          2
        ],
        &quot;5&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 21,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 21
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;sign&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 17,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 3
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 2
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;permissions.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 31
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 35
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 46
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 60
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 1
          }
        },
        &quot;6&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 7,
            &quot;column&quot;: 0
          }
        },
        &quot;7&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 8,
            &quot;column&quot;: 18
          }
        },
        &quot;8&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 9,
            &quot;column&quot;: 16
          }
        },
        &quot;9&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 10,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 0,
        &quot;5&quot;: 0,
        &quot;6&quot;: 1,
        &quot;7&quot;: 1,
        &quot;8&quot;: 1,
        &quot;9&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 10,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 10,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 10,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;2&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 3,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 3,
                &quot;column&quot;: 0
              },
              &quot;end&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 1
              }
            }
          ]
        },
        &quot;3&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 4,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 4,
              &quot;column&quot;: 33
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 1
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 4,
                &quot;column&quot;: 33
              },
              &quot;end&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 1
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ],
        &quot;2&quot;: [
          1
        ],
        &quot;3&quot;: [
          0
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 10,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 10
        },
        &quot;1&quot;: {
          &quot;name&quot;: &quot;scopedItems&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 1
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 3,
              &quot;column&quot;: 0
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 1
            }
          },
          &quot;line&quot;: 3
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1
      }
    },
    &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;: {
      &quot;path&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;utils&#x2F;role.js&quot;,
      &quot;statementMap&quot;: {
        &quot;0&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 1,
            &quot;column&quot;: 18
          }
        },
        &quot;1&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 2,
            &quot;column&quot;: 19
          }
        },
        &quot;2&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 3,
            &quot;column&quot;: 19
          }
        },
        &quot;3&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 4,
            &quot;column&quot;: 25
          }
        },
        &quot;4&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 5,
            &quot;column&quot;: 19
          }
        },
        &quot;5&quot;: {
          &quot;start&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 0
          },
          &quot;end&quot;: {
            &quot;line&quot;: 6,
            &quot;column&quot;: 2
          }
        }
      },
      &quot;s&quot;: {
        &quot;0&quot;: 1,
        &quot;1&quot;: 1,
        &quot;2&quot;: 1,
        &quot;3&quot;: 1,
        &quot;4&quot;: 1,
        &quot;5&quot;: 1
      },
      &quot;branchMap&quot;: {
        &quot;0&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 6,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 2
              }
            }
          ]
        },
        &quot;1&quot;: {
          &quot;type&quot;: &quot;branch&quot;,
          &quot;line&quot;: 6,
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            }
          },
          &quot;locations&quot;: [
            {
              &quot;start&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 2
              },
              &quot;end&quot;: {
                &quot;line&quot;: 6,
                &quot;column&quot;: 2
              }
            }
          ]
        }
      },
      &quot;b&quot;: {
        &quot;0&quot;: [
          1
        ],
        &quot;1&quot;: [
          1
        ]
      },
      &quot;fnMap&quot;: {
        &quot;0&quot;: {
          &quot;name&quot;: &quot;Object.&lt;anonymous&gt;&quot;,
          &quot;decl&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            }
          },
          &quot;loc&quot;: {
            &quot;start&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            },
            &quot;end&quot;: {
              &quot;line&quot;: 6,
              &quot;column&quot;: 2
            }
          },
          &quot;line&quot;: 6
        }
      },
      &quot;f&quot;: {
        &quot;0&quot;: 1
      }
    }
  }
}</div>
        </div>
        <div class="d-none" id="test-global-config">{
  &quot;bail&quot;: 0,
  &quot;changedFilesWithAncestor&quot;: false,
  &quot;collectCoverage&quot;: true,
  &quot;collectCoverageFrom&quot;: [],
  &quot;coverageDirectory&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;coverage&quot;,
  &quot;coverageProvider&quot;: &quot;v8&quot;,
  &quot;coverageReporters&quot;: [
    &quot;json&quot;,
    &quot;text&quot;,
    &quot;lcov&quot;,
    &quot;clover&quot;
  ],
  &quot;detectLeaks&quot;: false,
  &quot;detectOpenHandles&quot;: true,
  &quot;errorOnDeprecated&quot;: false,
  &quot;expand&quot;: false,
  &quot;findRelatedTests&quot;: false,
  &quot;forceExit&quot;: true,
  &quot;globalSetup&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;setupTests.js&quot;,
  &quot;globalTeardown&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;src&#x2F;tearDownTests.js&quot;,
  &quot;json&quot;: false,
  &quot;lastCommit&quot;: false,
  &quot;listTests&quot;: false,
  &quot;logHeapUsage&quot;: false,
  &quot;maxConcurrency&quot;: 5,
  &quot;maxWorkers&quot;: 1,
  &quot;noStackTrace&quot;: false,
  &quot;nonFlagArgs&quot;: [],
  &quot;notify&quot;: false,
  &quot;notifyMode&quot;: &quot;failure-change&quot;,
  &quot;onlyChanged&quot;: false,
  &quot;onlyFailures&quot;: false,
  &quot;passWithNoTests&quot;: false,
  &quot;projects&quot;: [],
  &quot;reporters&quot;: [
    [
      &quot;default&quot;,
      {}
    ],
    [
      &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;jest-stare&#x2F;lib&#x2F;index.js&quot;,
      {}
    ]
  ],
  &quot;rootDir&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&quot;,
  &quot;runTestsByPath&quot;: false,
  &quot;skipFilter&quot;: false,
  &quot;testFailureExitCode&quot;: 1,
  &quot;testPathPattern&quot;: &quot;&quot;,
  &quot;testSequencer&quot;: &quot;&#x2F;home&#x2F;sundaypriest&#x2F;Desktop&#x2F;projects&#x2F;000.softgap technologies&#x2F;wissenpos&#x2F;node_modules&#x2F;@jest&#x2F;test-sequencer&#x2F;build&#x2F;index.js&quot;,
  &quot;testTimeout&quot;: 60000,
  &quot;updateSnapshot&quot;: &quot;new&quot;,
  &quot;useStderr&quot;: false,
  &quot;watch&quot;: false,
  &quot;watchAll&quot;: false,
  &quot;watchman&quot;: true
}</div>

    </main>
    <hr>
    <footer class="footer">
        <div class="container">
            <span class="text-muted">jest-stare 2020</span>
        </div>
    </footer>
</body>

</html>

